<!DOCTYPE html>
<!-- saved from url=(0056)https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/03/answers -->
<html lang="en" class="gr__cgi_cse_unsw_edu_au"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>

COMP2041 Week 03 Weekly Test Sample Answers

</title>




<!-- <link href="/~cs2041/19T2/flask.cgi/static/bootstrap.min.css" rel="stylesheet"> -->
<link rel="stylesheet" href="./COMP2041 Week 03 Weekly Test Sample Answers_files/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link href="./COMP2041 Week 03 Weekly Test Sample Answers_files/course.css" rel="stylesheet">
<!-- <script type="text/javascript" src="/~cs2041/19T2/flask.cgi/static/jquery.min.js"></script> -->
<!-- <script type="text/javascript" src="/~cs2041/19T2/flask.cgi/static/bootstrap.min.js"></script> -->

<script src="./COMP2041 Week 03 Weekly Test Sample Answers_files/jquery-3.3.1.min.js"></script>
<script src="./COMP2041 Week 03 Weekly Test Sample Answers_files/popper.min.js"></script>
<script src="./COMP2041 Week 03 Weekly Test Sample Answers_files/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script type="text/javascript" src="./COMP2041 Week 03 Weekly Test Sample Answers_files/course.js"></script>

<!-- prism code-highligting -->
<link href="./COMP2041 Week 03 Weekly Test Sample Answers_files/prism.css" rel="stylesheet">
<!-- defer loading of prism.js script until DOM is loaded, as per PR #26 and https://stackoverflow.com/a/24070373 -->
<script type="text/javascript" src="./COMP2041 Week 03 Weekly Test Sample Answers_files/prism.js" defer=""></script>
<script async="" src="./COMP2041 Week 03 Weekly Test Sample Answers_files/ei.js"></script>

<link rel="canonical" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/">
</head>
<body class="container" data-gr-c-s-loaded="true">




<div id="heading" class="row">


<div class="col-3 text-left">
<a class="heading_link" target="_blank" id="left_heading_link" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/">COMP(2041|9044) 19T2</a>
</div>

<div class="col-6 text-center">



    

    

    
        
        
        
        
    

    
        
        
        
        
    

    
        
        
        
        
    

    
        
        
        
        
    

    
        
        
        
        
    

    
        
        
        
        
    

    
        
        
        
        
    

    
        
        
        
        
    

    

    

    


<span class="dropdown">
    <button class="btn btn-lg btn-link dropdown-toggle heading_button" type="button" id="week-selector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Week 03 <span class="caret"></span>
    </button>

    <div class="dropdown-menu" aria-labelledby="week-selector">
    
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/03/answers">Week 03</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/04/answers">Week 04</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/05/answers">Week 05</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/06/answers">Week 06</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/07/answers">Week 07</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/08/answers">Week 08</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/09/answers">Week 09</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/10/answers">Week 10</a>
    </div>
</span>



    
        
        
        
        
    

    
        
        
        
        
    

    
        
        
        
        
    


<span class="dropdown">
    <button class="btn btn-lg btn-link dropdown-toggle heading_button" type="button" id="tlb-selector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Weekly Test <span class="caret"></span>
    </button>

    <div class="dropdown-menu" aria-labelledby="tlb-selector">
    
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/tut/03/answers">Tutorial</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/lab/03/answers">Laboratory</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/03/answers">Weekly Test</a>
    </div>
</span>



    
    
    
    

    
    
    
    



<span class="dropdown">
    <button class="btn btn-lg btn-link dropdown-toggle heading_button" type="button" id="qa-selector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Sample Answers <span class="caret"></span>
    </button>

    <div class="dropdown-menu" aria-labelledby="qa-selector">
    
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/03/questions">Questions</a>
        <a class="dropdown-item" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/test/03/answers">Sample Answers</a>
    </div>
</span>


</div>

<div class="col-3 text-right">
<a class="heading_link" target="_blank" id="right_heading_link" href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/">COMP(2041|9044) 19T2</a>
</div>


</div>


<div class="tutlab lab">



<h3>Test Conditions</h3>

These questions must be completed under self-administered exam-like conditions.
<p>
You must time the test yourself and ensure you comply with the conditions below.

</p><ul>
<li> You may complete this test in CSE labs or elsewhere using your own machine
</li><li> You may complete this test at any time before <b>Thursday 27 June 21:59:59</b>
</li><li> The maximum time allowed for this test is 1 hour + 5 minutes reading time.
</li><li> You may first use 5 minutes to read the questions (no typing)
</li><li> You then must complete the test within 1 hour and submit your answers with give.
</li><li> You must complete the questions alone - you can not get help in any way from any person.
</li><li> You can not access your previous answers to lab or tut questions.
</li><li> You can not access web pages or use the internet in any way.
</li><li> You can not access books, notes or other written or online materials.
</li><li> You can not access your own files, programs, code ...
</li><li> You can not access COMP2041 course materials except for language documentation linked below.
</li></ul>


<hr>
You may access this <b>language documentation</b> while attemting this test:
<ul>
<li><a href="https://cgi.cse.unsw.edu.au/~cs2041/19T2//resources/shell_perl_cheatsheet.pdf">Shell/Regex/Perl quick reference</a>
</li><li><a href="https://cgi.cse.unsw.edu.au/~cs2041/19T2//resources/wsu-js-cheat-sheet.pdf">Javascript quick reference</a>
</li><li><a href="https://cgi.cse.unsw.edu.au/~cs2041/doc/perldoc-html-5.14.0/index.html">full Perl documentation</a>
</li><li><a href="https://cgi.cse.unsw.edu.au/~cs2041/19T2//resources/python_cheatsheet.pdf">Python quick reference</a>
</li><li><a href="https://cgi.cse.unsw.edu.au/~cs2041/19T2//resources/c-reference.pdf">C quick reference</a>
</li><li><a href="https://cgi.cse.unsw.edu.au/~cs2041/doc/python-3.6.6-docs-html/index.html">full Python 3.6 documentation</a>
</li></ul>
<hr>

You may also access manual entries (the man command)



Any violation of the test conditions will results in a mark of zero for the entire weekly test component.




    
         


    


<div class="card">
        <div class="card-header">
            <h3 class="card-title">
                Finding the Most Common First Name
            </h3>
        </div>
        <div class="card-body">










We need to know the most common first name for each year's COMP[29]041 students.
<p>
We have  <a href="https://cgi.cse.unsw.edu.au/~cs2041/19T2//activities/first_name/enrollments.txt">enrollment data</a> in this format:

</p><pre class="command_line"><kbd class="shell">wget https://cgi.cse.unsw.edu.au/~cs2041/19T2//activities/first_name/enrollments.txt</kbd>
<kbd class="shell">head enrollments.txt</kbd>
COMP1511|5013566|Xin, Mackenzie Darren                             |3648/2|COMPI1 MTRNAH|071.800|18s2|19910428|M
COMP9902|5079970|Park, Xue Hannah Vanessa                          |8543  |ELECAH       |079.333|18s2|19900209|F
COMP1511|5059072|Chung, Michael Jia Tianyu                         |3778/1|COMPCS       |057.250|18s2|19990801|M
COMP1521|5060774|Lim, Stephanie Lauren                             |3785/1|COMPA1       |000.000|18s2|19890113|F
COMP1531|5060774|Lim, Stephanie Lauren                             |3785/1|COMPA1       |000.000|18s2|19890113|F
COMP2521|5060774|Lim, Stephanie Lauren                             |3785/1|COMPA1       |000.000|18s2|19890113|F
COMP9020|5060538|Bi, Samuel Shiyu                                  |6021  |COMPA1       |078.125|18s2|19911004|M
COMP9021|5060538|Bi, Samuel Shiyu                                  |6021  |COMPA1       |078.125|18s2|19911004|M
COMP9902|5072116|Hu, Kai Zhi Patrick                               |3707/1|SENGAH       |070.750|18s2|19930424|M
COMP1511|5036926|Fang, Rebecca Lauren                              |8543  |COMPCS       |000.000|18s2|20000921|F
</pre>

Write a shell script <code>first_name.sh</code> which takes the name of a file as a command-line argument,
The file will contain enrolment data in the above format.   <code>first_name.sh</code> should print a single
line of output. This line should contain only the most common first name for COMP[29]041 students in the enrollment data. For example:
<p>
</p><pre class="command_line"><kbd class="shell">./first_name.sh enrollments.txt</kbd>
Vanessa
</pre>

You can assume there will not be multiple first names which are equally common.
<p>
No error checking is necessary.
</p><p>







</p><p>
When you think your program is working you can  <code>autotest</code> to run some simple automated tests:

</p><pre class="command_line"><kbd class="shell">2041 autotest first_name</kbd>
</pre>


















When you are finished working  on this exercise you must submit
your work by running <b>give</b>:

<pre class="command_line"><kbd class="shell">give cs2041 test03_first_name first_name.sh</kbd>
</pre>



    
        
        <div class="answer">
            Sample solution for <code>first_name.sh</code>
            






    
        <pre class="program language-clike"><code class=" language-clike">#<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>sh

egrep <span class="token string">'COMP[29]041'</span> <span class="token string">"$1"</span><span class="token operator">|</span>
cut <span class="token operator">-</span>d\<span class="token operator">|</span> <span class="token operator">-</span>f3<span class="token operator">|</span>
cut <span class="token operator">-</span>d<span class="token punctuation">,</span> <span class="token operator">-</span>f2<span class="token operator">|</span>
cut <span class="token operator">-</span>d\  <span class="token operator">-</span>f2<span class="token operator">|</span>
sort<span class="token operator">|</span>
uniq <span class="token operator">-</span>c<span class="token operator">|</span>
sort <span class="token operator">-</span>nr<span class="token operator">|</span>
head <span class="token operator">-</span><span class="token number">1</span><span class="token operator">|</span>
sed <span class="token string">'s/.* //'</span></code></pre>





            
        </div>
    


</div>
    </div>
    
         


    


<div class="card">
        <div class="card-header">
            <h3 class="card-title">
                Change the Suffix of HTML Files
            </h3>
        </div>
        <div class="card-body">










Our new web server requires all HTML files have the suffix <code>.html</code>.
Unfortunately we have many  HTML files named with the suffix <code>.htm</code>.
<p>
Write a shell script <code>htm2html.sh</code> which changes the name of all files with the suffix
<code>.htm</code>  in the current directory to have the suffix <code>.html</code>.
For example:

</p><pre class="command_line"><kbd class="shell">touch index.htm small.htm large.htm</kbd>
<kbd class="shell">ls *.htm*</kbd>
index.htm  large.htm  small.htm
<kbd class="shell">./htm2html.sh</kbd>
<kbd class="shell">ls *.htm*</kbd>
index.html  large.html  small.html
</pre>

Your script should stop with EXACTLY the error message shown below and exit status 1 if the <code>.html</code> file already exists.
For example:

<pre class="command_line"><kbd class="shell">touch andrew.htm andrew.html</kbd>
<kbd class="shell">./htm2html.sh </kbd>
andrew.html exists
</pre>

You can assume the current directory contains at last one <code>.htm</code> file
<p>
No error checking other then described above is necessary.








</p><p>
When you think your program is working you can  <code>autotest</code> to run some simple automated tests:

</p><pre class="command_line"><kbd class="shell">2041 autotest htm2html</kbd>
</pre>


















When you are finished working  on this exercise you must submit
your work by running <b>give</b>:

<pre class="command_line"><kbd class="shell">give cs2041 test03_htm2html htm2html.sh</kbd>
</pre>



    
        
        <div class="answer">
            Sample solution for <code>htm2html.sh</code>
            






    
        <pre class="program language-clike"><code class=" language-clike">#<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>sh

<span class="token keyword">for</span> file <span class="token keyword">in</span> <span class="token operator">*</span><span class="token punctuation">.</span>htm
<span class="token keyword">do</span>
    new_file_name<span class="token operator">=</span><span class="token string">"$file"</span>l
    <span class="token keyword">if</span> test <span class="token operator">-</span>e <span class="token string">"$new_file_name"</span>
    then
        echo <span class="token string">"$new_file_name exists"</span>
        exit <span class="token number">1</span>
    <span class="token keyword">else</span>
        mv <span class="token string">"$file"</span> <span class="token string">"$new_file_name"</span>
    fi
done
exit <span class="token number">0</span></code></pre>





            
        </div>
    


</div>
    </div>
    
         


    


<div class="card">
        <div class="card-header">
            <h3 class="card-title">
                Checking for Missing Include Files
            </h3>
        </div>
        <div class="card-body">










We need check a large number of C programs for missing include files.
<p>
Write a shell script <code>missing_include.sh</code> which is give
one of more filenames as argument.  The files will contain C code.
</p><p>
<code>missing_include.sh</code> should print a message if any
file included by the C program is not present in the current directory.
</p><p>
Reminder C include lines are of this form:

</p><pre>#include "file.h"
</pre>

For example:

<pre class="command_line"><kbd class="shell">wget https://cgi.cse.unsw.edu.au/~cs2041/19T2//activities/missing_include/c_files.zip</kbd>
<kbd class="shell">ls *.[ch]</kbd>
a.c  a.h  b.c  c.h
<kbd class="shell">cat a.c</kbd>
#include &lt;stdio.h&gt;

#include "a.h"
#include "b.h"
#include "input.h"

int a(void){
    return 42;
}
<kbd class="shell">cat b.c</kbd>
#include &lt;stdio.h&gt;

#include "b.h"
#include "c.h"
#include "d.h"
#include &lt;string.h&gt;

int b(void){
    return b.c;
}
<kbd class="shell">./missing_include.sh a.c</kbd>
b.h included into a.c does not exist
input.h included into a.c does not exist
<kbd class="shell">./missing_include.sh b.c</kbd>
b.h included into b.c does not exist
d.h included into b.c does not exist
<kbd class="shell">./missing_include.sh a.c b.c</kbd>
b.h included into a.c does not exist
input.h included into a.c does not exist
b.h included into b.c does not exist
d.h included into b.c does not exist
</pre>


You can assume filenames do not contain spaces.
<p>
You do not have to check files for the C library with angle brackets (&lt;&gt;).
For example you do not have to check this line:

</p><pre>#include &lt;stdio.h&gt;
</pre>

No error checking is necessary.
<p>








</p><p>
When you think your program is working you can  <code>autotest</code> to run some simple automated tests:

</p><pre class="command_line"><kbd class="shell">2041 autotest missing_include</kbd>
</pre>


















When you are finished working  on this exercise you must submit
your work by running <b>give</b>:

<pre class="command_line"><kbd class="shell">give cs2041 test03_missing_include missing_include.sh</kbd>
</pre>



    
        
        <div class="answer">
            Sample solution for <code>missing_include.sh</code>
            






    
        <pre class="program language-clike"><code class=" language-clike">#<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>sh

<span class="token keyword">for</span> c_file <span class="token keyword">in</span> <span class="token string">"$@"</span>
<span class="token keyword">do</span>
    <span class="token keyword">for</span> include_file <span class="token keyword">in</span> `egrep <span class="token string">'^#include *"'</span> <span class="token string">"$c_file"</span><span class="token operator">|</span>sed <span class="token string">'s/" *$//;s/.*"//'</span>`
    <span class="token keyword">do</span>
        <span class="token keyword">if</span> test <span class="token operator">!</span> <span class="token operator">-</span>r <span class="token string">"$include_file"</span>
        then
            echo <span class="token string">"$include_file included into $c_file does not exist"</span>
        fi
    done
done</code></pre>





            
        </div>
    


</div>
    </div>
    





<div class="card">
        <div class="card-header">
            <h3 class="card-title">
                Submission
            </h3>
        </div>
        <div class="card-body">


When you are finished each exercise make sure you submit your work by running <b>give</b>.
<p>
You can run <b>give</b> multiple times.
Only your last submission will be marked.
</p><p>
Don't submit any exercises you haven't attempted.
</p><p>
If you are working at home, you may find it more convenient
to upload your work via
 <a href="https://cgi.cse.unsw.edu.au/~give/code/login.php?app=/~give/Student/give.php&amp;debug=get_authuser">give's web interface</a>.
</p><p>

Remember you have until
<b>Thursday 27 June 21:59:59</b>
to complete this test.
</p><p>
Automarking will be run by the lecturer several days after the submission deadline
for the test, using test cases that you haven't seen:
different to the test cases <code><kbd>autotest</kbd></code> runs for
you.
</p><p>
(Hint: do your own testing as well as running
<code><kbd>autotest</kbd></code>)
</p><p>
After automarking is run by the lecturer you can
<a href="https://cgi.cse.unsw.edu.au/~cs2041/19T2/student/">view it here</a>
the resulting mark will also be available via
<a href="https://cgi.cse.unsw.edu.au/~give/Student/sturec.php">via give's web interface</a>
</p><p>


</p></div>
    </div>



The test exercises for each week are worth in total 1 mark.
<p>
The best 6 of your 8 test marks for weeks 3-10 will be summed to give you a mark out of 6.



</p></div>





<footer class="mt-3 container text-center no-print">
<p class="text-muted">
<strong>COMP(2041|9044) 19T2: Software Construction</strong>
is brought to you by <br>
the <a href="https://www.cse.unsw.edu.au/">School of Computer Science and Engineering</a>
at the <a href="https://www.unsw.edu.au/">University of New South Wales</a>, Sydney.<br>
For all enquiries, please email the class account at
<a href="mailto:@cse.unsw.edu.au">cs2041@cse.unsw.edu.au</a><br>

<small>CRICOS Provider 00098G</small>
</p>



</footer>





</body></html>