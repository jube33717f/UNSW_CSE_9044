/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Q.type(e);return"function"!==n&&!Q.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return V.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=he[e]={};return Q.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function a(){J.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+Math.random()}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(be,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ye.test(n)?Q.parseJSON(n):n)}catch(B){}ve.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function d(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=De.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;r>n;n++)ge.set(e[n],"globalEval",!t||ge.get(t[n],"globalEval"))}function g(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(ge.hasData(e)&&(o=ge.access(e),a=ge.set(t,o),u=o.events))for(i in delete a.handle,a.events={},u)for(n=0,r=u[i].length;r>n;n++)Q.event.add(t,i,u[i][n]);ve.hasData(e)&&(s=ve.access(e),l=Q.extend({},s),ve.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ce.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,i=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function x(e){var t=J,n=Ie[e];return n||("none"!==(n=b(e,t))&&n||((t=(Re=(Re||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=b(e,t),Re.detach()),Ie[e]=n),n}function w(e,t,n){var r,i,o,a,s=e.style;return(n=n||We(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),He.test(a)&&$e.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ge.length;i--;)if((t=Ge[i]+n)in e)return t;return r}function S(e,t,n){var r=Be.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function _(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(e,n+we[o],!0,i)),r?("content"===n&&(a-=Q.css(e,"padding"+we[o],!0,i)),"margin"!==n&&(a-=Q.css(e,"border"+we[o]+"Width",!0,i))):(a+=Q.css(e,"padding"+we[o],!0,i),"padding"!==n&&(a+=Q.css(e,"border"+we[o]+"Width",!0,i)));return a}function T(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=We(e),a="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=w(e,t,o))||null==i)&&(i=e.style[t]),He.test(i))return i;r=a&&(Y.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+_(e,t,n||(a?"border":"content"),r,o)+"px"}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)(r=e[a]).style&&(o[a]=ge.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&ke(r)&&(o[a]=ge.access(r,"olddisplay",x(r.nodeName)))):(i=ke(r),"none"===n&&i||ge.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;s>a;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function L(e,t,n,r,i){return new L.prototype.init(e,t,n,r,i)}function M(){return setTimeout(function(){Xe=void 0}),Xe=Q.now()}function E(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)i["margin"+(n=we[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var r,i=(tt[t]||[]).concat(tt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function P(e,t,n){var r,i,o,a,s,l,u,c=this,f={},d=e.style,p=e.nodeType&&ke(e),h=ge.get(e,"fxshow");for(r in n.queue||(null==(s=Q._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(u=Q.css(e,"display"))?ge.get(e,"olddisplay")||x(e.nodeName):u)&&"none"===Q.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(i=t[r],Je.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;p=!0}f[r]=h&&h[r]||Q.style(e,r)}else u=void 0;if(Q.isEmptyObject(f))"inline"===("none"===u?x(e.nodeName):u)&&(d.display=u);else for(r in h?"hidden"in h&&(p=h.hidden):h=ge.access(e,"fxshow",{}),o&&(h.hidden=!p),p?Q(e).show():c.done(function(){Q(e).hide()}),c.done(function(){var t;for(t in ge.remove(e,"fxshow"),f)Q.style(e,t,f[t])}),f)a=O(p?h[r]:0,r,c),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function j(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=Q.camelCase(n)],o=e[n],Q.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=Q.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function N(e,t,n){var r,i,o=0,a=et.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Xe||M(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),o=0,a=u.tweens.length;a>o;o++)u.tweens[o].run(r);return s.notifyWith(e,[u,r,n]),1>r&&a?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xe||M(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Q.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(j(c,u.opts.specialEasing);a>o;o++)if(r=et[o].call(u,e,c,u.opts))return r;return Q.map(c,O,u),Q.isFunction(u.opts.start)&&u.opts.start.call(e,u),Q.fx.timer(Q.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function D(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(pe)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function z(e,t,n,r){function i(s){var l;return o[s]=!0,Q.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function F(e,t){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Q.extend(!0,e,r),e}function R(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function I(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(J){return{state:"parsererror",error:a?J:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||Ct.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Q.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function H(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var W=[],q=W.slice,B=W.concat,U=W.push,V=W.indexOf,K={},G=K.toString,X=K.hasOwnProperty,Y={},J=e.document,Z="2.1.1",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:q.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:W.sort,splice:W.splice},Q.extend=Q.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(u&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[t]=Q.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"===Q.type(e)&&!e.nodeType&&!Q.isWindow(e)&&!(e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=Q.trim(e))&&(1===e.indexOf("use strict")?((t=J.createElement("script")).text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,o=e.length,a=n(e);if(r){if(a)for(;o>i&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(a)for(;o>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Q.merge(r,"string"==typeof e?[e]:e):U.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;o>i;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,r){var i,o=0,a=e.length,s=[];if(n(e))for(;a>o;o++)null!=(i=t(e[o],o,r))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&s.push(i);return B.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(r=q.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(q.call(arguments)))}).guid=e.guid=e.guid||Q.guid++,i):void 0},now:Date.now,support:Y}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,a,s,l,u,f,p,h,m;if((t?t.ownerDocument||t:$)!==P&&O(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||P).nodeType)&&9!==s)return[];if(N&&!r){if(i=ye.exec(e))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&R(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!D||!D.test(e))){if(p=f=I,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=_(e),(f=t.getAttribute("id"))?p=f.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);h=be.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Q.apply(n,h.querySelectorAll(m)),n}catch(q){}finally{f||t.removeAttribute("id")}}}return A(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(w){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==K&&e}function f(){}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[H,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(l=t[I]||(t[I]={}))[r])&&s[0]===H&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[I]&&(i=v(i)),o&&!o[I]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,f,d=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,d,e,s,l),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=g(b,p),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(b[p[c]]=!(y[p[c]]=f));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(y[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?te.call(r,f):d[c])>-1&&(r[u]=!(a[u]=f))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return te.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==L)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];i>s;s++)if(n=k.relative[e[s].type])c=[p(h(c),n)];else{if((n=k.filter[e[s].type].apply(null,e[s].matches))[I]){for(r=++s;i>r&&!k.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&d(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,f,d,p=0,h="0",m=r&&[],v=[],y=L,b=r||o&&k.find.TAG("*",u),x=H+=null==y?1:Math.random()||.1,w=b.length;for(u&&(L=a!==P&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(f=0;d=e[f++];)if(d(c,a,s)){l.push(c);break}u&&(H=x)}i&&((c=!d&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(f=0;d=n[f++];)d(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=J.call(l));v=g(v)}Q.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(H=x,L=y),m};return i?r(a):a}var x,w,k,C,S,_,T,A,L,M,E,O,P,j,N,D,z,F,R,I="sizzle"+-new Date,$=e.document,H=0,W=0,q=n(),B=n(),U=n(),V=function(e,t){return e===t&&(E=!0),0},K="undefined",G=1<<31,X={}.hasOwnProperty,Y=[],J=Y.pop,Z=Y.push,Q=Y.push,ee=Y.slice,te=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),ae="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+re+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",le=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ue=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),de=new RegExp(se),pe=new RegExp("^"+oe+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),ke=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(Y=ee.call($.childNodes),$.childNodes),Y[$.childNodes.length].nodeType}catch(je){Q={apply:Y.length?function(e,t){Z.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(x in w=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:$,r=n.defaultView;return n!==P&&9===n.nodeType&&n.documentElement?(P=n,j=n.documentElement,N=!S(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){O()},!1):r.attachEvent&&r.attachEvent("onunload",function(){O()})),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=i(function(e){return j.appendChild(e).id=I,!n.getElementsByName||!n.getElementsByName(I).length}),w.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==K&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){var n=typeof e.getAttributeNode!==K&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==K?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==K&&N?t.getElementsByClassName(e):void 0},z=[],D=[],(w.qsa=ve.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&D.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||D.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=ve.test(F=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&i(function(e){w.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),z.push("!=",se)}),D=D.length&&new RegExp(D.join("|")),z=z.length&&new RegExp(z.join("|")),t=ve.test(j.compareDocumentPosition),R=t||ve.test(j.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return E=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===$&&R($,e)?-1:t===n||t.ownerDocument===$&&R($,t)?1:M?te.call(M,e)-te.call(M,t):0:4&r?-1:1)}:function(e,t){if(e===t)return E=!0,0;var r,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:M?te.call(M,e)-te.call(M,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===$?-1:u[i]===$?1:0},n):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&O(e),n=n.replace(fe,"='$1']"),!(!w.matchesSelector||!N||z&&z.test(n)||D&&D.test(n)))try{var r=F.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(C){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&O(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&O(e);var n=k.attrHandle[t.toLowerCase()],r=n&&X.call(k.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:w.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(E=!w.detectDuplicates,M=!w.sortStable&&e.slice(0),e.sort(V),E){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return M=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},(k=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(we,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==K&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(p=(u=(c=g[I]||(g[I]={}))[e]||[])[0]===H&&u[1],d=u[0]===H&&u[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[H,p,d];break}}else if(y&&(u=(t[I]||(t[I]={}))[e])&&u[0]===H)d=u[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[I]||(f[I]={}))[e]=[H,d]),f!==t)););return(d-=i)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,n){var i,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[I]?o(n):o.length>1?(i=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=te.call(e,i[a])]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=T(e.replace(le,"$1"));return i[I]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,ke).toLowerCase(),function(t){var n;do{if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=l(x);return f.prototype=k.filters=k.pseudos,k.setFilters=new f,_=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=B[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=k.preFilter;s;){for(a in(!r||(i=ue.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length)),k.filter)!(i=he[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):B(e,l).slice(0)},T=t.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=_(e)),n=t.length;n--;)(o=y(t[n]))[I]?r.push(o):i.push(o);(o=U(e,b(i,r))).selector=e}return o},A=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,f=!r&&_(e=u.selector||e);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&N&&k.relative[o[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(we,ke),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!k.relative[s=a.type]);)if((l=k.find[s])&&(r=l(a.matches[0].replace(we,ke),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&d(o)))return Q.apply(n,r),n;break}}return(u||T(e,f))(r,t,!N,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=I.split("").sort(V).join("")===I,w.detectDuplicates=!!E,O(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Q.find=ie,Q.expr=ie.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ie.uniqueSort,Q.text=ie.getText,Q.isXMLDoc=ie.isXML,Q.contains=ie.contains;var oe=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Q.find.matchesSelector(r,e)?[r]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(i[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,i[t],r);return(r=this.pushStack(n>1?Q.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Q(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(Q.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e))||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),
ae.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=J.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))}).prototype=Q.fn,le=Q(J);var ce=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Q(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?V.call(Q(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,r){var i=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(fe[e]||Q.unique(i),ce.test(e)&&i.reverse()),this.pushStack(i)}});var de,pe=/\S+/g,he={};Q.Callbacks=function(e){e="string"==typeof e?he[e]||o(e):Q.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&a>s;s++)if(!1===l[s].apply(o[0],o[1])&&e.stopOnFalse){t=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:f.disable())},f={add:function(){if(l){var n=l.length;!function o(t){Q.each(t,function(t,n){var r=Q.type(n);"function"===r?e.unique&&f.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=l.length:t&&(i=n,c(t))}return this},remove:function(){return l&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,l,n))>-1;)l.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?Q.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=[e,(t=t||[]).slice?t.slice():t],r?u.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var a=Q.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},i={};return r.pipe=r.then,Q.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=q.call(arguments),a=o.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,l=1===s?e:Q.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?q.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}}),Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(!0===e?--Q.readyWait:Q.isReady)||(Q.isReady=!0,!0!==e&&--Q.readyWait>0||(de.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(t){return de||(de=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),de.promise(t)},Q.ready.promise();var me=Q.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===Q.type(n))for(s in i=!0,n)Q.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(Q(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(q){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,Q.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?r=t.concat(t.map(Q.camelCase)):(i=Q.camelCase(t),t in a?r=[t,i]:r=(r=i)in a?[r]:r.match(pe)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ge=new s,ve=new s,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Q.extend({hasData:function(e){return ve.hasData(e)||ge.hasData(e)},data:function(e,t,n){return ve.access(e,t,n)},removeData:function(e,t){ve.remove(e,t)},_data:function(e,t,n){return ge.access(e,t,n)},_removeData:function(e,t){ge.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ve.get(o),1===o.nodeType&&!ge.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(0===(r=a[n].name).indexOf("data-")&&(r=Q.camelCase(r.slice(5)),l(o,r,i[r])));ge.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ve.set(this,e)}):me(this,function(t){var n,r=Q.camelCase(e);if(o&&void 0===t){if(void 0!==(n=ve.get(o,e)))return n;if(void 0!==(n=ve.get(o,r)))return n;if(void 0!==(n=l(o,r,void 0)))return n}else this.each(function(){var n=ve.get(this,r);ve.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ge.get(e,t),n&&(!r||Q.isArray(n)?r=ge.access(e,t,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),r=n.length,i=n.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ge.get(e,n)||ge.access(e,n,{empty:Q.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ge.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,we=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},Ce=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment().appendChild(J.createElement("div")),t=J.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),Y.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";Y.focusinBubbles="onfocusin"in e;var _e=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ge.get(e);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=Q.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof Q!==Se&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(pe)||[""]).length;u--;)p=m=(s=Le.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p&&(f=Q.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=Q.event.special[p]||{},c=Q.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),Q.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ge.hasData(e)&&ge.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(pe)||[""]).length;u--;)if(p=m=(s=Le.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p){for(f=Q.event.special[p]||{},d=l[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||Q.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)Q.event.remove(e,p+t[u],n,r,!0);Q.isEmptyObject(l)&&(delete g.handle,ge.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,f,d=[r||J],p=X.call(t,"type")?t.type:t,h=X.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Ae.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(p=(h=p.split(".")).shift(),h.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[Q.expando]?t:new Q.Event(p,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Q.makeArray(n,[t]),f=Q.event.special[p]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!Q.isWindow(r)){for(l=f.delegateType||p,Ae.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||J)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)t.type=o>1?l:f.bindType||p,(c=(ge.get(a,"events")||{})[t.type]&&ge.get(a,"handle"))&&c.apply(a,n),(c=u&&a[u])&&c.apply&&Q.acceptData(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),n)||!Q.acceptData(r)||u&&Q.isFunction(r[p])&&!Q.isWindow(r)&&((s=r[u])&&(r[u]=null),Q.event.triggered=p,r[p](),Q.event.triggered=void 0,s&&(r[u]=s)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,r,i,o,a=[],s=q.call(arguments),l=(ge.get(this,"events")||{})[e.type]||[],u=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=Q.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,void 0!==(r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(r=[],n=0;s>n;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?Q(i,this).index(l)>=0:Q.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||J).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Te.test(i)?this.mouseHooks:_e.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Q.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?u:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Y.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ge.access(r,t);i||r.addEventListener(e,n,!0),ge.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ge.access(r,t)-1;i?ge.access(r,t,i):(r.removeEventListener(e,n,!0),ge.remove(r,t))}}}),Q.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=c;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return Q().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ee=/<([\w:]+)/,Oe=/<|&#?\w+;/,Pe=/<(?:script|style|link)/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^$|\/(?:java|ecma)script/i,De=/^true\/(.*)/,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,Q.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=Q.contains(e.ownerDocument,e);if(!(Y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=v(s),r=0,i=(o=v(e)).length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;i>r;r++)g(o[r],a[r]);else g(e,s);return(a=v(s,"script")).length>0&&m(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c=t.createDocumentFragment(),f=[],d=0,p=e.length;p>d;d++)if((i=e[d])||0===i)if("object"===Q.type(i))Q.merge(f,i.nodeType?[i]:i);else if(Oe.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Ee.exec(i)||["",""])[1].toLowerCase(),s=Fe[a]||Fe._default,o.innerHTML=s[1]+i.replace(Me,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Q.merge(f,o.childNodes),(o=c.firstChild).textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",d=0;i=f[d++];)if((!r||-1===Q.inArray(i,r))&&(l=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&m(o),n))for(u=0;i=o[u++];)Ne.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Q.event.special,a=0;void 0!==(n=e[a]);a++){if(Q.acceptData(n)&&((i=n[ge.expando])&&(t=ge.cache[i]))){if(t.events)for(r in t.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,t.handle);ge.cache[i]&&delete ge.cache[i]}delete ve.cache[n[ve.expando]]}}}),Q.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||d(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Q.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!Fe[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Me,"<$1></$2>");try{for(;r>n;n++)1===(t=this[n]||{}).nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(B){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=B.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,f=u-1,d=e[0],m=Q.isFunction(d);if(m||u>1&&"string"==typeof d&&!Y.checkClone&&je.test(d))return this.each(function(n){var r=c.eq(n);m&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(u&&(r=(n=Q.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(o=(i=Q.map(v(n,"script"),p)).length;u>l;l++)a=n,l!==f&&(a=Q.clone(a,!0,!0),o&&Q.merge(i,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,Q.map(i,h),l=0;o>l;l++)a=i[l],Ne.test(a.type||"")&&!ge.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(ze,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,r=[],i=Q(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(i[a])[t](n),U.apply(r,n.get());return this.pushStack(r)}});var Re,Ie={},$e=/^margin/,He=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),We=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){var t,n,r=J.documentElement,i=J.createElement("div"),o=J.createElement("div");if(o.style){function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var a=e.getComputedStyle(o,null);t="1%"!==a.top,n="4px"===a.width,r.removeChild(i)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),e.getComputedStyle&&Q.extend(Y,{pixelPosition:function(){return a(),t},boxSizingReliable:function(){return null==n&&a(),n},reliableMarginRight:function(){var t,n=o.appendChild(J.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(i),t}})}}(),Q.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var qe=/^(none|table(?!-c[ea]).+)/,Be=new RegExp("^("+xe+")(.*)$","i"),Ue=new RegExp("^([+-])=("+xe+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Q.camelCase(t),l=e.style;return t=Q.cssProps[s]||(Q.cssProps[s]=C(l,s)),a=Q.cssHooks[t]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:("string"===(o=typeof n)&&(i=Ue.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),o="number"),void(null!=n&&n==n&&("number"!==o||Q.cssNumber[s]||(n+="px"),Y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=C(e.style,s)),(a=Q.cssHooks[t]||Q.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(o=parseFloat(i),!0===n||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,r){return n?qe.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Ve,function(){return T(e,t,r)}):T(e,t,r):void 0},set:function(e,n,r){var i=r&&We(e);return S(e,n,r?_(e,t,r,"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=k(Y.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+we[r]+t]=o[r]||o[r-2]||o[0];return i}},$e.test(e)||(Q.cssHooks[e+t].set=S)}),Q.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,o={},a=0;if(Q.isArray(t)){for(r=We(e),i=t.length;i>a;a++)o[t[a]]=Q.css(e,t[a],!1,r);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=L,L.prototype={constructor:L,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=L.prototype.init,Q.fx.step={};var Xe,Ye,Je=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),Qe=/queueHooks$/,et=[P],tt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ze.exec(t),o=i&&i[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(Q.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",Q.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(N,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],tt[n]=tt[n]||[],tt[n].unshift(t)},prefilter:function(e,t){t?et.unshift(e):et.push(e)}}),Q.speed=function(e,t,n){var r=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Q.isEmptyObject(e),o=Q.speed(t,n,r),a=function(){var t=N(this,Q.extend({},e),o);(i||ge.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Q.timers,a=ge.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Qe.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ge.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Q.timers,a=r?r.length:0;for(n.finish=!0,Q.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(E(t,!0),e,r,i)}}),Q.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Xe=Q.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Xe=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ye||(Ye=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ye),Ye=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx&&Q.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Y.checkOn=""!==e.value,Y.optSelected=n.selected,t.disabled=!0,Y.optDisabled=!n.disabled,(e=J.createElement("input")).value="t",e.type="radio",Y.radioValue="t"===e.value}();var nt,rt,it=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return me(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var r,i,o=e.nodeType
;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Se?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),r=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?rt:nt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=Q.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Y.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return!1===t?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=it[t]||Q.find.attr;it[t]=function(e,t,r){var i,o;return r||(o=it[t],it[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,it[t]=o),i}});var ot=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return me(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!Q.isXMLDoc(e))&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ot.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Y.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u>l;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(at," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u>l;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(at," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=Q(this),o=e.match(pe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Se||"boolean"===n)&&(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||!1===e?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var st=/\r/g;Q.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=Q.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,Q(this).val()):e)?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),(t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(st,""):null==n?"":n:void 0}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(!(!(n=r[l]).selected&&l!==i||(Y.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=Q.makeArray(t),a=i.length;a--;)((r=i[a]).selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},Y.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Q.now(),ut=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(q){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var ct,ft,dt=/#.*$/,pt=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,vt=/^\/\//,yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},xt={},wt="*/".concat("*");try{ft=location.href}catch(Ft){(ft=J.createElement("a")).href="",ft=ft.href}ct=yt.exec(ft.toLowerCase())||[],Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ft,type:"GET",isLocal:mt.test(ct[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,Q.ajaxSettings),t):F(Q.ajaxSettings,e)},ajaxPrefilter:D(bt),ajaxTransport:D(xt),ajax:function(e,t){function n(e,t,n,a){var l,c,v,y,x,k=t;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=R(f,w,n)),y=I(f,y,w,l),l?(f.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(Q.lastModified[i]=x),(x=w.getResponseHeader("etag"))&&(Q.etag[i]=x)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=y.state,c=y.data,l=!(v=y.error))):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(t||k)+"",l?h.resolveWith(d,[c,k,w]):h.rejectWith(d,[w,k,v]),w.statusCode(g),g=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[w,f,l?c:v]),m.fireWith(d,[w,k]),u&&(p.trigger("ajaxComplete",[w,f]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,f=Q.ajaxSetup({},t),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?Q(d):Q.event,h=Q.Deferred(),m=Q.Callbacks("once memory"),g=f.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=ht.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||ft)+"").replace(dt,"").replace(vt,ct[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Q.trim(f.dataType||"*").toLowerCase().match(pe)||[""],null==f.crossDomain&&(l=yt.exec(f.url.toLowerCase()),f.crossDomain=!(!l||l[1]===ct[1]&&l[2]===ct[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ct[3]||("http:"===ct[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Q.param(f.data,f.traditional)),z(bt,f,t,w),2===b)return w;for(c in(u=f.global)&&0==Q.active++&&Q.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!gt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ut.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=pt.test(i)?i.replace(pt,"$1_="+lt++):i+(ut.test(i)?"&":"?")+"_="+lt++)),f.ifModified&&(Q.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&w.setRequestHeader("If-None-Match",Q.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+wt+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(!1===f.beforeSend.call(d,w,f)||2===b))return w.abort();for(c in x="abort",{success:1,error:1,complete:1})w[c](f[c]);if(r=z(xt,f,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,r.send(v,n)}catch(se){if(!(2>b))throw se;n(-1,se)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var kt=/%20/g,Ct=/\[\]$/,St=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,r=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(kt,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Tt.test(this.nodeName)&&!_t.test(e)&&(this.checked||!Ce.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var At=0,Lt={},Mt={0:200,1223:204},Et=Q.ajaxSettings.xhr();e.ActiveXObject&&Q(e).on("unload",function(){for(var e in Lt)Lt[e]()}),Y.cors=!!Et&&"withCredentials"in Et,Y.ajax=Et=!!Et,Q.ajaxTransport(function(e){var t;return Y.cors||Et&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++At;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Lt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Mt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Lt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(K){if(t)throw K}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}});var Ot=[],Pt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ot.pop()||Q.expando+"_"+lt++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Pt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Pt,"$1"+i):!1!==t.jsonp&&(t.url+=(ut.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ot.push(i)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=ae.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var jt=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Q.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Q("<div>").append(Q.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var Nt=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u=Q.css(e,"position"),c=Q(e),f={};"static"===u&&(e.style.position="relative"),s=c.offset(),o=Q.css(e,"top"),l=Q.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,Q.contains(t,r)?(typeof r.getBoundingClientRect!==Se&&(i=r.getBoundingClientRect()),n=H(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(r=e.offset()),r.top+=Q.css(e[0],"borderTopWidth",!0),r.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Q.css(n,"marginTop",!0),left:t.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Nt;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Nt})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Q.fn[t]=function(i){return me(this,function(t,i,o){var a=H(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=k(Y.pixelPosition,function(e,n){return n?(n=w(e,t),He.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return me(this,function(t,n,r){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Q.css(t,n,a):Q.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Dt=e.jQuery,zt=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=zt),t&&e.jQuery===Q&&(e.jQuery=Dt),Q},typeof t===Se&&(e.jQuery=e.$=Q),Q}),
/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function t(t,n){var r=typeof n;if(t=t.cache,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:v+n;return t=(t=t[r])&&t[i],"object"==r?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:v+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var a=n[i],s=r[i];if(a!==s){if(a>s||void 0===a)return 1;if(a<s||void 0===s)return-1}}return e.index-t.index}function o(e){var t=-1,r=e.length,i=e[0],o=e[r/2|0],a=e[r-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var s=l();s["false"]=s["null"]=s["true"]=s[void 0]=!1;var u=l();for(u.array=e,u.cache=s,u.push=n;++t<r;)u.push(e[t]);return u}function a(e){return"\\"+K[e]}function s(){return h.pop()||[]}function l(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function u(e){e.length=0,h.length<b&&h.push(e)}function c(e){var t=e.cache;t&&c(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,m.length<b&&m.push(e)}function f(e,t,n){t||(t=0),void 0===n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(i<0?0:i);++r<i;)o[r]=e[t+r];return o}function d(n){function h(e){return e&&"object"==typeof e&&!Qn(e)&&Nn.call(e,"__wrapped__")?e:new m(e)}function m(e,t){this.__chain__=!!t,this.__wrapped__=e}function b(e){function t(){if(r){var e=f(r);Dn.apply(e,arguments)}if(this instanceof t){var o=X(n.prototype),a=n.apply(o,e||arguments);return Ee(a)?a:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Zn(t,e),t}function K(e,t,n,r,i){if(n){var o=n(e);if(void 0!==o)return o}if(!Ee(e))return e;var a=An.call(e);if(!q[a])return e;var l=Xn[a];switch(a){case z:case F:return new l(+e);case I:case W:return new l(e);case H:return(o=l(e.source,_.exec(e))).lastIndex=e.lastIndex,o}var c=Qn(e);if(t){var d=!r;r||(r=s()),i||(i=s());for(var p=r.length;p--;)if(r[p]==e)return i[p];o=c?l(e.length):{}}else o=c?f(e):or({},e);return c&&(Nn.call(e,"index")&&(o.index=e.index),Nn.call(e,"input")&&(o.input=e.input)),t?(r.push(e),i.push(o),(c?Ye:lr)(e,function(e,a){o[a]=K(e,t,n,r,i)}),d&&(u(r),u(i)),o):o}function X(e){return Ee(e)?$n(e):{}}function Y(e,t,n){if("function"!=typeof e)return Jt;if(void 0===t||!("prototype"in e))return e;var r=e.__bindData__;if(void 0===r&&(Yn.funcNames&&(r=!e.name),!(r=r||!Yn.funcDecomp))){var i=Pn.call(e);Yn.funcNames||(r=!T.test(i)),r||(r=E.test(i),Zn(e,r))}if(!1===r||!0!==r&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return Nt(e,t)}function J(e){function t(){var e=l?a:this;if(i){var h=f(i);Dn.apply(h,arguments)}if((o||c)&&(h||(h=f(arguments)),o&&Dn.apply(h,o),c&&h.length<s))return r|=16,J([n,d?r:-4&r,h,null,a,s]);if(h||(h=arguments),u&&(n=e[p]),this instanceof t){e=X(n.prototype);var m=n.apply(e,h);return Ee(m)?m:e}return n.apply(e,h)}var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=1&r,u=2&r,c=4&r,d=8&r,p=n;return Zn(t,e),t}function Z(n,r){var i=-1,a=le(),s=n?n.length:0,l=s>=y&&a===e,u=[];if(l){var f=o(r);f?(a=t,r=f):l=!1}for(;++i<s;){var d=n[i];a(r,d)<0&&u.push(d)}return l&&c(r),u}function ee(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,a=[];++i<o;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Qn(s)||de(s))){t||(s=ee(s,t,n));var l=-1,u=s.length,c=a.length;for(a.length+=u;++l<u;)a[c++]=s[l]}else n||a.push(s)}return a}function te(e,t,n,r,i,o){if(n){var a=n(e,t);if(void 0!==a)return!!a}if(e===t)return 0!==e||1/e==1/t;var l=typeof t;if(!(e!=e||e&&V[typeof e]||t&&V[l]))return!1;if(null==e||null==t)return e===t;var c=An.call(e),f=An.call(t);if(c==N&&(c=$),f==N&&(f=$),c!=f)return!1;switch(c){case z:case F:return+e==+t;case I:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case H:case W:return e==kn(t)}var d=c==D;if(!d){var p=Nn.call(e,"__wrapped__"),h=Nn.call(t,"__wrapped__");if(p||h)return te(p?e.__wrapped__:e,h?t.__wrapped__:t,n,r,i,o);if(c!=$)return!1;var m=e.constructor,g=t.constructor;if(m!=g&&!(Me(m)&&m instanceof m&&Me(g)&&g instanceof g)&&"constructor"in e&&"constructor"in t)return!1}var v=!i;i||(i=s()),o||(o=s());for(var y=i.length;y--;)if(i[y]==e)return o[y]==t;var b=0;if(a=!0,i.push(e),o.push(t),d){if(y=e.length,b=t.length,(a=b==y)||r)for(;b--;){var x=y,w=t[b];if(r)for(;x--&&!(a=te(e[x],w,n,r,i,o)););else if(!(a=te(e[b],w,n,r,i,o)))break}}else sr(t,function(t,s,l){if(Nn.call(l,s))return b++,a=Nn.call(e,s)&&te(e[s],t,n,r,i,o)}),a&&!r&&sr(e,function(e,t,n){if(Nn.call(n,t))return a=--b>-1});return i.pop(),o.pop(),v&&(u(i),u(o)),a}function ne(e,t,n,r,i){(Qn(t)?Ye:lr)(t,function(t,o){var a,s,l=t,u=e[o];if(t&&((s=Qn(t))||ur(t))){for(var c,f=r.length;f--;)if(a=r[f]==t){u=i[f];break}if(!a)n&&(c=void 0!==(l=n(u,t)))&&(u=l),c||(u=s?Qn(u)?u:[]:ur(u)?u:{}),r.push(t),i.push(u),c||ne(u,t,n,r,i)}else n&&void 0===(l=n(u,t))&&(l=t),void 0!==l&&(u=l);e[o]=u})}function re(e,t){return e+On(Gn()*(t-e+1))}function ie(n,r,i){var a=-1,l=le(),f=n?n.length:0,d=[],p=!r&&f>=y&&l===e,h=i||p?s():d;p&&(l=t,h=o(h));for(;++a<f;){var m=n[a],g=i?i(m,a,n):m;(r?!a||h[h.length-1]!==g:l(h,g)<0)&&((i||p)&&h.push(g),d.push(m))}return p?(u(h.array),c(h)):i&&u(h),d}function oe(e){return function(t,n,r){var i={};n=h.createCallback(n,r,3);var o=-1,a=t?t.length:0;if("number"==typeof a)for(;++o<a;){var s=t[o];e(i,s,n(s,o,t),t)}else lr(t,function(t,r,o){e(i,t,n(t,r,o),o)});return i}}function ae(e,t,n,r,i,o){var a=1&t,s=4&t,l=16&t,u=32&t;if(!(2&t)&&!Me(e))throw new Cn;l&&!n.length&&(t&=-17,l=n=!1),u&&!r.length&&(t&=-33,u=r=!1);var c=e&&e.__bindData__;return c&&!0!==c?((c=f(c))[2]&&(c[2]=f(c[2])),c[3]&&(c[3]=f(c[3])),!a||1&c[1]||(c[4]=i),!a&&1&c[1]&&(t|=8),!s||4&c[1]||(c[5]=o),l&&Dn.apply(c[2]||(c[2]=[]),n),u&&Rn.apply(c[3]||(c[3]=[]),r),c[1]|=t,ae.apply(null,c)):(1==t||17===t?b:J)([e,t,n,r,i,o])}function se(e){return tr[e]}function le(){var t=(t=h.indexOf)===vt?e:t;return t}function ue(e){return"function"==typeof e&&Ln.test(e)}function ce(e){var t,n;return!(!e||An.call(e)!=$||Me(t=e.constructor)&&!(t instanceof t))&&(sr(e,function(e,t){n=t}),void 0===n||Nn.call(e,n))}function fe(e){return nr[e]}function de(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==N||!1}function pe(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),K(e,t,"function"==typeof n&&Y(n,r,1))}function he(e,t,n){return K(e,!0,"function"==typeof t&&Y(t,n,1))}function me(e,t){var n=X(e);return t?or(n,t):n}function ge(e,t,n){var r;return t=h.createCallback(t,n,3),lr(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function ve(e,t,n){var r;return t=h.createCallback(t,n,3),be(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function ye(e,t,n){var r=[];sr(e,function(e,t){r.push(t,e)});var i=r.length;for(t=Y(t,n,3);i--&&!1!==t(r[i--],r[i],e););return e}function be(e,t,n){var r=er(e),i=r.length;for(t=Y(t,n,3);i--;){var o=r[i];if(!1===t(e[o],o,e))break}return e}function xe(e){var t=[];return sr(e,function(e,n){Me(e)&&t.push(n)}),t.sort()}function we(e,t){return!!e&&Nn.call(e,t)}function ke(e){for(var t=-1,n=er(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function Ce(e){return!0===e||!1===e||e&&"object"==typeof e&&An.call(e)==z||!1}function Se(e){return e&&"object"==typeof e&&An.call(e)==F||!1}function _e(e){return e&&1===e.nodeType||!1}function Te(e){var t=!0;if(!e)return t;var n=An.call(e),r=e.length;return n==D||n==W||n==N||n==$&&"number"==typeof r&&Me(e.splice)?!r:(lr(e,function(){return t=!1}),t)}function Ae(e,t,n,r){return te(e,t,"function"==typeof n&&Y(n,r,2))}function Le(e){return Wn(e)&&!qn(parseFloat(e))}function Me(e){return"function"==typeof e}function Ee(e){return!(!e||!V[typeof e])}function Oe(e){return je(e)&&e!=+e}function Pe(e){return null===e}function je(e){return"number"==typeof e||e&&"object"==typeof e&&An.call(e)==I||!1}function Ne(e){return e&&"object"==typeof e&&An.call(e)==H||!1}function De(e){return"string"==typeof e||e&&"object"==typeof e&&An.call(e)==W||!1}function ze(e){return void 0===e}function Fe(e,t,n){var r={};return t=h.createCallback(t,n,3),lr(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Re(e){var t=arguments,n=2;if(!Ee(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=Y(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=f(arguments,1,n),o=-1,a=s(),l=s();++o<n;)ne(e,i[o],r,a,l);return u(a),u(l),e}function Ie(e,t,n){var r={};if("function"!=typeof t){var i=[];sr(e,function(e,t){i.push(t)});for(var o=-1,a=(i=Z(i,ee(arguments,!0,!1,1))).length;++o<a;){var s=i[o];r[s]=e[s]}}else t=h.createCallback(t,n,3),sr(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function $e(e){for(var t=-1,n=er(e),r=n.length,i=hn(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function He(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,o=ee(arguments,!0,!1,1),a=Ee(e)?o.length:0;++i<a;){var s=o[i];s in e&&(r[s]=e[s])}else t=h.createCallback(t,n,3),sr(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function We(e,t,n,r){var i=Qn(e);if(null==n)if(i)n=[];else{var o=e&&e.constructor,a=o&&o.prototype;n=X(a)}return t&&(t=h.createCallback(t,r,4),(i?Ye:lr)(e,function(e,r,i){return t(n,e,r,i)})),n}function qe(e){for(var t=-1,n=er(e),r=n.length,i=hn(r);++t<r;)i[t]=e[n[t]];return i}function Be(e){for(var t=arguments,n=-1,r=ee(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=hn(i);++n<i;)o[n]=e[r[n]];return o}function Ue(e,t,n){var r=-1,i=le(),o=e?e.length:0,a=!1;return n=(n<0?Un(0,o+n):n)||0,Qn(e)?a=i(e,t,n)>-1:"number"==typeof o?a=(De(e)?e.indexOf(t,n):i(e,t,n))>-1:lr(e,function(e){if(++r>=n)return!(a=e===t)}),a}function Ve(e,t,n){var r=!0;t=h.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&(r=!!t(e[i],i,e)););else lr(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Ke(e,t,n){var r=[];t=h.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o;){var a=e[i];t(a,i,e)&&r.push(a)}else lr(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Ge(e,t,n){t=h.createCallback(t,n,3);var r,i=-1,o=e?e.length:0;if("number"!=typeof o)return lr(e,function(e,n,i){if(t(e,n,i))return r=e,!1}),r;for(;++i<o;){var a=e[i];if(t(a,i,e))return a}}function Xe(e,t,n){var r;return t=h.createCallback(t,n,3),Je(e,function(e,n,i){if(t(e,n,i))return r=e,!1}),r}function Ye(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&void 0===n?t:Y(t,n,3),"number"==typeof i)for(;++r<i&&!1!==t(e[r],r,e););else lr(e,t);return e}function Je(e,t,n){var r=e?e.length:0;if(t=t&&void 0===n?t:Y(t,n,3),"number"==typeof r)for(;r--&&!1!==t(e[r],r,e););else{var i=er(e);r=i.length,lr(e,function(e,n,o){return n=i?i[--r]:--r,t(o[n],n,o)})}return e}function Ze(e,t){var n=f(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,a=hn("number"==typeof o?o:0);return Ye(e,function(e){a[++r]=(i?t:e[t]).apply(e,n)}),a}function Qe(e,t,n){var r=-1,i=e?e.length:0;if(t=h.createCallback(t,n,3),"number"==typeof i)for(var o=hn(i);++r<i;)o[r]=t(e[r],r,e);else o=[],lr(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function et(e,t,n){var i=-Infinity,o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Qn(e))for(var a=-1,s=e.length;++a<s;){var l=e[a];l>o&&(o=l)}else t=null==t&&De(e)?r:h.createCallback(t,n,3),Ye(e,function(e,n,r){var a=t(e,n,r);a>i&&(i=a,o=e)});return o}function tt(e,t,n){var i=Infinity,o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Qn(e))for(var a=-1,s=e.length;++a<s;){var l=e[a];l<o&&(o=l)}else t=null==t&&De(e)?r:h.createCallback(t,n,3),Ye(e,function(e,n,r){var a=t(e,n,r);a<i&&(i=a,o=e)});return o}function nt(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=h.createCallback(t,r,4);var o=-1,a=e.length;if("number"==typeof a)for(i&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);else lr(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)});return n}function rt(e,t,n,r){var i=arguments.length<3;return t=h.createCallback(t,r,4),Je(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function it(e,t,n){return t=h.createCallback(t,n,3),Ke(e,function(e,n,r){return!t(e,n,r)})}function ot(e,t,n){if(e&&"number"!=typeof e.length&&(e=qe(e)),null==t||n)return e?e[re(0,e.length-1)]:p;var r=at(e);return r.length=Vn(Un(0,t),r.length),r}function at(e){var t=-1,n=e?e.length:0,r=hn("number"==typeof n?n:0);return Ye(e,function(e){var n=re(0,++t);r[t]=r[n],r[n]=e}),r}function st(e){var t=e?e.length:0;return"number"==typeof t?t:er(e).length}function lt(e,t,n){var r;t=h.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&!(r=t(e[i],i,e)););else lr(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function ut(e,t,n){var r=-1,o=Qn(t),a=e?e.length:0,f=hn("number"==typeof a?a:0);for(o||(t=h.createCallback(t,n,3)),Ye(e,function(e,n,i){var a=f[++r]=l();o?a.criteria=Qe(t,function(t){return e[t]}):(a.criteria=s())[0]=t(e,n,i),a.index=r,a.value=e}),a=f.length,f.sort(i);a--;){var d=f[a];f[a]=d.value,o||u(d.criteria),c(d)}return f}function ct(e){return e&&"number"==typeof e.length?f(e):qe(e)}function ft(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function dt(e){return Z(e,ee(arguments,!0,!0,1))}function pt(e,t,n){var r=-1,i=e?e.length:0;for(t=h.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1}function ht(e,t,n){var r=e?e.length:0;for(t=h.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function mt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=h.createCallback(t,n,3);++o<i&&t(e[o],o,e);)r++}else if(null==(r=t)||n)return e?e[0]:p;return f(e,0,Vn(Un(0,r),i))}function gt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=Qe(e,n,r)),ee(e,t)}function vt(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=r<0?Un(0,i+r):r||0}else if(r){var o=Tt(t,n);return t[o]===n?o:-1}return e(t,n,r)}function yt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=h.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return f(e,0,Vn(Un(0,i-r),i))}function bt(){for(var n=[],r=-1,i=arguments.length,a=s(),l=le(),f=l===e,d=s();++r<i;){var p=arguments[r];(Qn(p)||de(p))&&(n.push(p),a.push(f&&p.length>=y&&o(r?n[r]:d)))}var h=n[0],m=-1,g=h?h.length:0,v=[];e:for(;++m<g;){var b=a[0];if(p=h[m],(b?t(b,p):l(d,p))<0){for(r=i,(b||d).push(p);--r;)if(((b=a[r])?t(b,p):l(n[r],p))<0)continue e;v.push(p)}}for(;i--;)(b=a[i])&&c(b);return u(a),u(d),v}function xt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=h.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else if(null==(r=t)||n)return e?e[i-1]:p;return f(e,Un(0,i-r))}function wt(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(n<0?Un(0,r+n):Vn(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function kt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,a=t[n];++o<i;)e[o]===a&&(Fn.call(e,o--,1),i--);return e}function Ct(e,t,n){e=+e||0,null==t&&(t=e,e=0);for(var r=-1,i=Un(0,Mn((t-e)/((n="number"==typeof n?n:+n||1)||1))),o=hn(i);++r<i;)o[r]=e,e+=n;return o}function St(e,t,n){var r=-1,i=e?e.length:0,o=[];for(t=h.createCallback(t,n,3);++r<i;){var a=e[r];t(a,r,e)&&(o.push(a),Fn.call(e,r--,1),i--)}return o}function _t(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,o=e?e.length:0;for(t=h.createCallback(t,n,3);++i<o&&t(e[i],i,e);)r++}else r=null==t||n?1:Un(0,t);return f(e,r)}function Tt(e,t,n,r){var i=0,o=e?e.length:i;for(t=(n=n?h.createCallback(n,r,1):Jt)(t);i<o;){var a=i+o>>>1;n(e[a])<t?i=a+1:o=a}return i}function At(){return ie(ee(arguments,!0,!0))}function Lt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=h.createCallback(n,r,3)),ie(e,t,n)}function Mt(e){return Z(e,f(arguments,1))}function Et(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Qn(n)||de(n))var r=r?ie(Z(r,n).concat(Z(n,r))):n}return r||[]}function Ot(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?et(pr(e,"length")):0,r=hn(n<0?0:n);++t<n;)r[t]=pr(e,t);return r}function Pt(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Qn(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function jt(e,t){if(!Me(t))throw new Cn;return function(){if(--e<1)return t.apply(this,arguments)}}function Nt(e,t){return arguments.length>2?ae(e,17,f(arguments,2),null,t):ae(e,1,null,null,t)}function Dt(e){for(var t=arguments.length>1?ee(arguments,!0,!1,1):xe(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=ae(e[i],1,null,null,e)}return e}function zt(e,t){return arguments.length>2?ae(t,19,f(arguments,2),null,e):ae(t,3,null,null,e)}function Ft(){for(var e=arguments,t=e.length;t--;)if(!Me(e[t]))throw new Cn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Rt(e,t){return ae(e,4,null,null,null,t="number"==typeof t?t:+t||e.length)}function It(e,t,n){var r,i,o,a,s,l,u,c=0,f=!1,d=!0;if(!Me(e))throw new Cn;if(t=Un(0,t)||0,!0===n){var h=!0;d=!1}else Ee(n)&&(h=n.leading,f="maxWait"in n&&(Un(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var m=function(){var n=t-(mr()-a);if(n<=0){i&&En(i);var f=u;i=l=u=p,f&&(c=mr(),o=e.apply(s,r),l||i||(r=s=null))}else l=zn(m,n)},g=function(){l&&En(l),i=l=u=p,(d||f!==t)&&(c=mr(),o=e.apply(s,r),l||i||(r=s=null))};return function(){if(r=arguments,a=mr(),s=this,u=d&&(l||!h),!1===f)var n=h&&!l;else{i||h||(c=a);var p=f-(a-c),v=p<=0;v?(i&&(i=En(i)),c=a,o=e.apply(s,r)):i||(i=zn(g,p))}return v&&l?l=En(l):l||t===f||(l=zn(m,t)),n&&(v=!0,o=e.apply(s,r)),!v||l||i||(r=s=null),o}}function $t(e){if(!Me(e))throw new Cn;var t=f(arguments,1);return zn(function(){e.apply(p,t)},1)}function Ht(e,t){if(!Me(e))throw new Cn;var n=f(arguments,2);return zn(function(){e.apply(p,n)},t)}function Wt(e,t){if(!Me(e))throw new Cn;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):v+arguments[0];return Nn.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function qt(e){var t,n;if(!Me(e))throw new Cn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Bt(e){return ae(e,16,f(arguments,1))}function Ut(e){return ae(e,32,null,f(arguments,1))}function Vt(e,t,n){var r=!0,i=!0;if(!Me(e))throw new Cn;return!1===n?r=!1:Ee(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),B.leading=r,B.maxWait=t,B.trailing=i,It(e,t,B)}function Kt(e,t){return ae(t,16,[e])}function Gt(e){return function(){return e}}function Xt(e,t,n){var r=typeof e;if(null==e||"function"==r)return Y(e,t,n);if("object"!=r)return tn(e);var i=er(e),o=i[0],a=e[o];return 1!=i.length||a!=a||Ee(a)?function(t){for(var n=i.length,r=!1;n--&&(r=te(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return a===t&&(0!==a||1/a==1/t)}}function Yt(e){return null==e?"":kn(e).replace(ir,se)}function Jt(e){return e}function Zt(e,t,n){var r=!0,i=t&&xe(t);t&&(n||i.length)||(null==n&&(n=t),o=m,t=e,e=h,i=xe(t)),!1===n?r=!1:Ee(n)&&"chain"in n&&(r=n.chain);var o=e,a=Me(o);Ye(i,function(n){var i=e[n]=t[n];a&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,a=[n];Dn.apply(a,arguments);var s=i.apply(e,a);if(r||t){if(n===s&&Ee(s))return this;(s=new o(s)).__chain__=t}return s})})}function Qt(){return n._=Tn,this}function en(){}function tn(e){return function(t){return t[e]}}function nn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Gn();return Vn(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return re(e,t)}function rn(e,t){if(e){var n=e[t];return Me(n)?e[t]():n}}function on(e,t,n){var r=h.templateSettings;e=kn(e||""),n=ar({},n,r);var i,o=ar({},n.imports,r.imports),s=er(o),l=qe(o),u=0,c=n.interpolate||M,f="__p += '",d=wn((n.escape||M).source+"|"+c.source+"|"+(c===A?S:M).source+"|"+(n.evaluate||M).source+"|$","g");e.replace(d,function(t,n,r,o,s,l){return r||(r=o),f+=e.slice(u,l).replace(O,a),n&&(f+="' +\n__e("+n+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),f+="';\n";var m=n.variable,g=m;g||(f="with ("+(m="obj")+") {\n"+f+"\n}\n"),f=(i?f.replace(w,""):f).replace(k,"$1").replace(C,"$1;"),f="function("+m+") {\n"+(g?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+j+++"]")+"\n*/";try{var y=vn(s,"return "+f+v).apply(p,l)}catch(b){throw b.source=f,b}return t?y(t):(y.source=f,y)}function an(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=hn(e);for(t=Y(t,n,1);++r<e;)i[r]=t(r);return i}function sn(e){return null==e?"":kn(e).replace(rr,fe)}function ln(e){var t=++g;return kn(null==e?"":e)+t}function un(e){return(e=new m(e)).__chain__=!0,e}function cn(e,t){return t(e),e}function fn(){return this.__chain__=!0,this}function dn(){return kn(this.__wrapped__)}function pn(){return this.__wrapped__}var hn=(n=n?Q.defaults(G.Object(),n,Q.pick(G,P)):G).Array,mn=n.Boolean,gn=n.Date,vn=n.Function,yn=n.Math,bn=n.Number,xn=n.Object,wn=n.RegExp,kn=n.String,Cn=n.TypeError,Sn=[],_n=xn.prototype,Tn=n._,An=_n.toString,Ln=wn("^"+kn(An).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Mn=yn.ceil,En=n.clearTimeout,On=yn.floor,Pn=vn.prototype.toString,jn=ue(jn=xn.getPrototypeOf)&&jn,Nn=_n.hasOwnProperty,Dn=Sn.push,zn=n.setTimeout,Fn=Sn.splice,Rn=Sn.unshift,In=function(){try{var e={},t=ue(t=xn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),$n=ue($n=xn.create)&&$n,Hn=ue(Hn=hn.isArray)&&Hn,Wn=n.isFinite,qn=n.isNaN,Bn=ue(Bn=xn.keys)&&Bn,Un=yn.max,Vn=yn.min,Kn=n.parseInt,Gn=yn.random,Xn={};Xn[D]=hn,Xn[z]=mn,Xn[F]=gn,Xn[R]=vn,Xn[$]=xn,Xn[I]=bn,Xn[H]=wn,Xn[W]=kn,m.prototype=h.prototype;var Yn=h.support={};Yn.funcDecomp=!ue(n.WinRTError)&&E.test(d),Yn.funcNames="string"==typeof vn.name,h.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:A,variable:"",imports:{_:h}},$n||(X=function(){function e(){}return function(t){if(Ee(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}());var Jn,Zn=In?function(e,t){U.value=t,In(e,"__bindData__",U)}:en,Qn=Hn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==D||!1},er=Bn?function(e){return Ee(e)?Bn(e):[]}:function(e){var t,n=e,r=[];if(!n)return r;if(!V[typeof e])return r;for(t in n)Nn.call(n,t)&&r.push(t);return r},tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nr=ke(tr),rr=wn("("+er(nr).join("|")+")","g"),ir=wn("["+er(tr).join("")+"]","g"),or=function(e,t,n){var r,i=e,o=i;if(!i)return o;var a=arguments,s=0,l="number"==typeof n?2:a.length;if(l>3&&"function"==typeof a[l-2])var u=Y(a[--l-1],a[l--],2);else l>2&&"function"==typeof a[l-1]&&(u=a[--l]);for(;++s<l;)if((i=a[s])&&V[typeof i])for(var c=-1,f=V[typeof i]&&er(i),d=f?f.length:0;++c<d;)o[r=f[c]]=u?u(o[r],i[r]):i[r];return o},ar=function(e,t,n){var r,i=e,o=i;if(!i)return o;for(var a=arguments,s=0,l="number"==typeof n?2:a.length;++s<l;)if((i=a[s])&&V[typeof i])for(var u=-1,c=V[typeof i]&&er(i),f=c?c.length:0;++u<f;)"undefined"==typeof o[r=c[u]]&&(o[r]=i[r]);return o},sr=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!V[typeof i])return o;for(r in t=t&&void 0===n?t:Y(t,n,3),i)if(!1===t(i[r],r,e))return o;return o},lr=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!V[typeof i])return o;t=t&&void 0===n?t:Y(t,n,3);for(var a=-1,s=V[typeof i]&&er(i),l=s?s.length:0;++a<l;)if(!1===t(i[r=s[a]],r,e))return o;return o},ur=jn?function(e){if(!e||An.call(e)!=$)return!1;var t=e.valueOf,n=ue(t)&&(n=jn(t))&&jn(n);return n?e==n||jn(e)==n:ce(e)}:ce,cr=oe(function(e,t,n){Nn.call(e,n)?e[n]++:e[n]=1}),fr=oe(function(e,t,n){(Nn.call(e,n)?e[n]:e[n]=[]).push(t)}),dr=oe(function(e,t,n){e[n]=t}),pr=Qe,hr=Ke,mr=ue(mr=gn.now)&&mr||function(){return(new gn).getTime()},gr=8==Kn(x+"08")?Kn:function(e,t){return Kn(De(e)?e.replace(L,""):e,t||0)};return h.after=jt,h.assign=or,h.at=Be,h.bind=Nt,h.bindAll=Dt,h.bindKey=zt,h.chain=un,h.compact=ft,h.compose=Ft,h.constant=Gt,h.countBy=cr,h.create=me,h.createCallback=Xt,h.curry=Rt,h.debounce=It,h.defaults=ar,h.defer=$t,h.delay=Ht,h.difference=dt,h.filter=Ke,h.flatten=gt,h.forEach=Ye,h.forEachRight=Je,h.forIn=sr,h.forInRight=ye,h.forOwn=lr,h.forOwnRight=be,h.functions=xe,h.groupBy=fr,h.indexBy=dr,h.initial=yt,h.intersection=bt,h.invert=ke,h.invoke=Ze,h.keys=er,h.map=Qe,h.mapValues=Fe,h.max=et,h.memoize=Wt,h.merge=Re,h.min=tt,h.omit=Ie,h.once=qt,h.pairs=$e,h.partial=Bt,h.partialRight=Ut,h.pick=He,h.pluck=pr,h.property=tn,h.pull=kt,h.range=Ct,h.reject=it,h.remove=St,h.rest=_t,h.shuffle=at,h.sortBy=ut,h.tap=cn,h.throttle=Vt,h.times=an,h.toArray=ct,h.transform=We,h.union=At,h.uniq=Lt,h.values=qe,h.where=hr,h.without=Mt,h.wrap=Kt,h.xor=Et,h.zip=Ot,h.zipObject=Pt,h.collect=Qe,h.drop=_t,h.each=Ye,h.eachRight=Je,h.extend=or,h.methods=xe,h.object=Pt,h.select=Ke,h.tail=_t,h.unique=Lt,h.unzip=Ot,Zt(h),h.clone=pe,h.cloneDeep=he,h.contains=Ue,h.escape=Yt,h.every=Ve,h.find=Ge,h.findIndex=pt,h.findKey=ge,h.findLast=Xe,h.findLastIndex=ht,h.findLastKey=ve,h.has=we,h.identity=Jt,h.indexOf=vt,h.isArguments=de,h.isArray=Qn,h.isBoolean=Ce,h.isDate=Se,h.isElement=_e,h.isEmpty=Te,h.isEqual=Ae,h.isFinite=Le,h.isFunction=Me,h.isNaN=Oe,h.isNull=Pe,h.isNumber=je,h.isObject=Ee,h.isPlainObject=ur,h.isRegExp=Ne,h.isString=De,h.isUndefined=ze,h.lastIndexOf=wt,h.mixin=Zt,h.noConflict=Qt,h.noop=en,h.now=mr,h.parseInt=gr,h.random=nn,h.reduce=nt,h.reduceRight=rt,h.result=rn,h.runInContext=d,h.size=st,h.some=lt,h.sortedIndex=Tt,h.template=on,h.unescape=sn,h.uniqueId=ln,h.all=Ve,h.any=lt,h.detect=Ge,h.findWhere=Ge,h.foldl=nt,h.foldr=rt,h.include=Ue,h.inject=nt,Zt((Jn={},lr(h,function(e,t){h.prototype[t]||(Jn[t]=e)}),Jn),!1),h.first=mt,h.last=xt,h.sample=ot,h.take=mt,h.head=mt,lr(h,function(e,t){var n="sample"!==t;h.prototype[t]||(h.prototype[t]=function(t,r){var i=this.__chain__,o=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new m(o,i):o})}),h.VERSION="2.4.1",h.prototype.chain=fn,h.prototype.toString=dn,h.prototype.value=pn,h.prototype.valueOf=pn,Ye(["join","pop","shift"],function(e){var t=Sn[e];h.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new m(n,e):n}}),Ye(["push","reverse","sort","unshift"],function(e){var t=Sn[e];h.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Ye(["concat","slice","splice"],function(e){var t=Sn[e];h.prototype[e]=function(){return new m(t.apply(this.__wrapped__,arguments),this.__chain__)}}),h}var p,h=[],m=[],g=0,v=+new Date+"",y=75,b=40,x=" \t\x0B\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",w=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,A=/<%=([\s\S]+?)%>/g,L=RegExp("^["+x+"]*0+(?=.$)"),M=/($^)/,E=/\bthis\b/,O=/['\n\r\t\u2028\u2029\\]/g,P=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],j=0,N="[object Arguments]",D="[object Array]",z="[object Boolean]",F="[object Date]",R="[object Function]",I="[object Number]",$="[object Object]",H="[object RegExp]",W="[object String]",q={};q[R]=!1,q[N]=q[D]=q[z]=q[F]=q[I]=q[$]=q[H]=q[W]=!0;var B={leading:!1,maxWait:0,trailing:!1},U={configurable:!1,enumerable:!1,value:null,writable:!1},V={boolean:!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},K={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},G=V[typeof window]&&window||this,X=V[typeof exports]&&exports&&!exports.nodeType&&exports,Y=V[typeof module]&&module&&!module.nodeType&&module,J=Y&&Y.exports===X&&X,Z=V[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(G=Z);var Q=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(G._=Q,define(function(){return Q})):X&&Y?J?(Y.exports=Q)._=Q:X._=Q:G._=Q}.call(this),
/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
function(){function e(e){var n=!1;return function(){if(n)throw new Error("Callback was already called.");n=!0,e.apply(t,arguments)}}var t,n,r={};null!=(t=this)&&(n=t.async),r.noConflict=function(){return t.async=n,r};var i=Object.prototype.toString,o=Array.isArray||function(e){return"[object Array]"===i.call(e)},a=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)},s=function(e,t){if(e.map)return e.map(t);var n=[];return a(e,function(e,r,i){n.push(t(e,r,i))}),n},l=function(e,t,n){return e.reduce?e.reduce(t,n):(a(e,function(e,r,i){n=t(n,e,r,i)}),n)},u=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,"undefined"!=typeof setImmediate?r.setImmediate=function(e){setImmediate(e)}:r.setImmediate=r.nextTick):"function"==typeof setImmediate?(r.nextTick=function(e){setImmediate(e)},r.setImmediate=r.nextTick):(r.nextTick=function(e){setTimeout(e,0)},r.setImmediate=r.nextTick),r.each=function(t,n,r){function i(e){e?(r(e),r=function(){}):(o+=1)>=t.length&&r()}if(r=r||function(){},!t.length)return r();var o=0;a(t,function(t){n(t,e(i))})},r.forEach=r.each,r.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1)>=e.length?n():i()})};i()},r.forEachSeries=r.eachSeries,r.eachLimit=function(e,t,n,r){c(t).apply(null,[e,n,r])},r.forEachLimit=r.eachLimit;var c=function(e){return function(t,n,r){if(r=r||function(){},!t.length||e<=0)return r();var i=0,o=0,a=0;!function s(){if(i>=t.length)return r();for(;a<e&&o<t.length;)a+=1,n(t[(o+=1)-1],function(e){e?(r(e),r=function(){}):(a-=1,(i+=1)>=t.length?r():s())})}()}},f=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.each].concat(t))}},d=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[c(e)].concat(n))}},p=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.eachSeries].concat(t))}},h=function(e,t,n,r){if(t=s(t,function(e,t){return{index:t,value:e}}),r){var i=[];e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};r.map=f(h),r.mapSeries=p(h),r.mapLimit=function(e,t,n,r){return m(t)(e,n,r)};var m=function(e){return d(e,h)};r.reduce=function(e,t,n,i){r.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){i(e,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(e,t,n,i){var o=s(e,function(e){return e}).reverse();r.reduce(o,t,n,i)},r.foldr=r.reduceRight;var g=function(e,t,n,r){var i=[];e(t=s(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(){r(s(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};r.filter=f(g),r.filterSeries=p(g),r.select=r.filter,r.selectSeries=r.filterSeries;var v=function(e,t,n,r){var i=[];e(t=s(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(){r(s(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};r.reject=f(v),r.rejectSeries=p(v);var y=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(){r()})};r.detect=f(y),r.detectSeries=p(y),r.some=function(e,t,n){r.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(){n(!1)})},r.any=r.some,r.every=function(e,t,n){r.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(){n(!0)})},r.all=r.every,r.sortBy=function(e,t,n){r.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);var r=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};n(null,s(t.sort(r),function(e){return e.value}))})},r.auto=function(e,t){t=t||function(){};var n=u(e),i=n.length;if(!i)return t();var s={},c=[],f=function(e){c.unshift(e)},d=function(e){for(var t=0;t<c.length;t+=1)if(c[t]===e)return void c.splice(t,1)},p=function(){i--,a(c.slice(0),function(e){e()})};f(function(){if(!i){var e=t;t=function(){},e(null,s)}}),a(n,function(n){var i=o(e[n])?e[n]:[e[n]],c=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),e){var o={};a(u(s),function(e){o[e]=s[e]}),o[n]=i,t(e,o),t=function(){}}else s[n]=i,r.setImmediate(p)},h=i.slice(0,Math.abs(i.length-1))||[],m=function(){return l(h,function(e,t){return e&&s.hasOwnProperty(t)},!0)&&!s.hasOwnProperty(n)};if(m())i[i.length-1](c,s);else{var g=function(){m()&&(d(g),i[i.length-1](c,s))};f(g)}})},r.retry=function(e,t,n){var i=5,o=[];"function"==typeof e&&(n=t,t=e,e=i),e=parseInt(e,10)||i;var a=function(i,a){for(var s=function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},a)}};e;)o.push(s(t,!(e-=1)));r.series(o,function(e,t){t=t[t.length-1],(i||n)(t.err,t.result)})};return n?a():a},r.waterfall=function(e,t){if(t=t||function(){},!o(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var i=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),a=e.next();a?o.push(i(a)):o.push(t),r.setImmediate(function(){e.apply(null,o)})}}};i(r.iterator(e))()};var b=function(e,t,n){if(n=n||function(){},o(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(u(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};r.parallel=function(e,t){b({map:r.map,each:r.each},e,t)},r.parallelLimit=function(e,t,n){b({map:m(t),each:c(t)},e,n)},r.series=function(e,t){if(t=t||function(){},o(e))r.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};r.eachSeries(u(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},r.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},r.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var x=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};r.concat=f(x),r.concatSeries=p(x),r.whilst=function(e,t,n){e()?t(function(i){if(i)return n(i);r.whilst(e,t,n)}):n()},r.doWhilst=function(e,t,n){e(function(i){if(i)return n(i);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?r.doWhilst(e,t,n):n()})},r.until=function(e,t,n){e()?n():t(function(i){if(i)return n(i);r.until(e,t,n)})},r.doUntil=function(e,t,n){e(function(i){if(i)return n(i);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?n():r.doUntil(e,t,n)})},r.queue=function(t,n){function i(e,t,n,i){if(e.started||(e.started=!0),o(t)||(t=[t]),0==t.length)return r.setImmediate(function(){e.drain&&e.drain()});a(t,function(t){var o={data:t,callback:"function"==typeof i?i:null};n?e.tasks.unshift(o):e.tasks.push(o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),r.setImmediate(e.process)})}n===undefined&&(n=1);var s=0,l={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){i(l,e,!1,t)},kill:function(){l.drain=null,l.tasks=[]},unshift:function(e,t){i(l,e,!0,t)},process:function(){if(!l.paused&&s<l.concurrency&&l.tasks.length){var n=l.tasks.shift();l.empty&&0===l.tasks.length&&l.empty(),s+=1;var r=e(function(){s-=1,n.callback&&n.callback.apply(n,arguments),l.drain&&l.tasks.length+s===0&&l.drain(),l.process()});t(n.data,r)}},length:function(){return l.tasks.length},running:function(){return s},idle:function(){return l.tasks.length+s===0},pause:function(){!0!==l.paused&&(l.paused=!0)},resume:function(){if(!1!==l.paused){l.paused=!1;for(var e=1;e<=l.concurrency;e++)r.setImmediate(l.process)}}};return l},r.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function s(e,t,s,l){if(e.started||(e.started=!0),o(t)||(t=[t]),0==t.length)return r.setImmediate(function(){e.drain&&e.drain()});a(t,function(t){var o={data:t,priority:s,callback:"function"==typeof l?l:null};e.tasks.splice(i(e.tasks,o,n)+1,0,o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),r.setImmediate(e.process)})}var l=r.queue(e,t);return l.push=function(e,t,n){s(l,e,t,n)},delete l.unshift,l},r.cargo=function(e,t){var n=!1,i=[],l={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){o(e)||(e=[e]),a(e,function(e){i.push({data:e,callback:"function"==typeof n?n:null}),l.drained=!1,l.saturated&&i.length===t&&l.saturated()}),r.setImmediate(l.process)},process:function u(){if(!n){if(0===i.length)return l.drain&&!l.drained&&l.drain(),void(l.drained=!0);var r="number"==typeof t?i.splice(0,t):i.splice(0,i.length),o=s(r,function(e){return e.data});l.empty&&l.empty(),n=!0,e(o,function(){n=!1;var e=arguments;a(r,function(t){t.callback&&t.callback.apply(null,e)}),u()})}},length:function(){return i.length},running:function(){return n}};return l};var w=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&a(n,function(t){console[e](t)}))}]))}};r.log=w("log"),r.dir=w("dir"),r.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var o=function(){var o=Array.prototype.slice.call(arguments),a=o.pop(),s=t.apply(null,o);s in n?r.nextTick(function(){a.apply(null,n[s])}):s in i?i[s].push(a):(i[s]=[a],e.apply(null,o.concat([function(){n[s]=arguments;var e=i[s];delete i[s];for(var t=0,r=e.length;t<r;t++)e[t].apply(null,arguments)}])))};return o.memo=n,o.unmemoized=e,o},r.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},r.times=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push(o);return r.map(i,t,n)},r.timesSeries=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push(o);return r.mapSeries(i,t,n)},r.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),i=n.pop();r.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))};var k=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};r.applyEach=f(k),r.applyEachSeries=p(k),r.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof define&&define.amd?define([],function(){return r}):t.async=r}();var CPLocalStorage={clear:function(){this._exec(function(){localStorage.clear()})},setItem:function(e,t){this._exec(function(){localStorage.setItem(e,t)})},getItem:function(e){return this._exec(function(){return localStorage.getItem(e)})},removeItem:function(e){var t=this.getItem(e);return this._exec(function(){localStorage.removeItem(e)}),t},_exec:function(e){try{return e()}catch(t){}}},CP={};!function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function r(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var o=new this;for(var a in e=!1,n)o[a]="function"==typeof n[a]&&"function"==typeof i[a]&&t.test(n[a])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(a,n[a]):n[a];return r.prototype=o,r.prototype.constructor=r,r.extend=arguments.callee,r}}();var Hub=window.Hub||{sub:function(e,t){if("function"!=typeof t)throw"fn MUST be a function";window.addEventListener(e,e=>t(e,e.detail.data))},pub:function(e,t){var n=new CustomEvent(e,{detail:{data:t}});window.dispatchEvent(n)},unsub:function(e,t){window.removeEventListener(e,t)}};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.fe={})}(this,function(e){"use strict";var t=function(){return function(e,t){return e===t||e!=e&&t!=t}},n=function(e){return!(!e.$$typeof||!e._store)},r=function(e){var t={keys:new Array(e.size),values:new Array(e.size)},n=0;return e.forEach(function(e,r){t.keys[n]=r,t.values[n++]=e}),t},i=function(e,t,n,i){if(e.size!==t.size)return!1;var o=r(e),a=r(t);return i?n(o.keys,a.keys)&&n(o.values,a.values):n(o.values,a.values)},o="function"==typeof Map,a="function"==typeof Set,s=t(),l=function(e){function t(e,l){if(s(e,l))return!0;var u=typeof e;if(u!==typeof l)return!1;if("object"===u&&e&&l){var c=Array.isArray(e),f=Array.isArray(l),d=void 0;if(c||f){if(c!==f||e.length!==l.length)return!1;for(d=0;d<e.length;d++)if(!r(e[d],l[d]))return!1;return!0}var p=e instanceof Date,h=l instanceof Date;if(p||h)return p===h&&s(e.getTime(),l.getTime());var m=e instanceof RegExp,g=l instanceof RegExp;if(m||g)return m===g&&e.source===l.source&&e.global===l.global&&e.ignoreCase===l.ignoreCase&&e.multiline===l.multiline;if(o){var v=e instanceof Map,y=l instanceof Map;if(v||y)return v===y&&i(e,l,t,!0)}if(a){var b=e instanceof Set,x=l instanceof Set;if(b||x)return b===x&&i(e,l,t,!1)}var w=Object.keys(e);if(w.length!==Object.keys(l).length)return!1;var k=void 0;for(d=0;d<w.length;d++){if(k=w[d],!Object.prototype.hasOwnProperty.call(l,k))return!1;if(("_owner"!==k||!n(e)||!n(l))&&!r(e[k],l[k]))return!1}return!0}return!1}var r="function"==typeof e?e(t):t;return t},u=l(),c=t(),f=l(t),d={createCustom:l,deep:u,sameValueZero:c,shallow:f};e.createCustomEqual=l,e.deepEqual=u,e.sameValueZeroEqual=c,e.shallowEqual=f,e["default"]=d,Object.defineProperty(e,"__esModule",{value:!0})}),window._isOnLocalhost=function(){var e=document.location.host;return e.match("127.0.0.1")||e.match("localhost")||e.match("codepen.dev")||e.match("cdpn.dev")},window._inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},window._fullURL=function(e){return document.location.protocol+"//"+document.location.host+e},window._getUnixTimestamp=function(){return Math.round((new Date).getTime()/1e3)},window._isValidURL=function(e){var t=e||"";return/^(http:\/\/|https:\/\/|\/\/){1}\S+/i.test($.trim(t))},window._inIntegrationTest=function(){return"true"===localStorage.getItem("integrationTest")},window._htmlEntities=function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},window._htmlEncode=function(e){return $("<div/>").text(e).html()},window._stripHTMLTags=function(e){var t=e.replace(/<\/?[^>]+(>|$)/g,""),n=$("<div>"+t+"</div>"),r=n.text();return n.remove(),r},window._areEqual=function(e,t){return window.fe.deepEqual(e,t)},window._getCPWildcardDomain=function(){return"."+document.location.host},window._diffObjects=function(e,t){var n={};for(var r in e)r in t&&(window._areEqual(e[r],t[r])||(n[r]={old:e[r],current:t[r]}));return n},window._cloneDeep=function(e){return JSON.parse(JSON.stringify(e||{}))},window._hideElementWhenUserClicksAway=function(e,t){$("body").bind("click",function(n){var r=$(n.target).closest(e),i=$(e);0===r.length&&i.hasClass("open")&&("function"==typeof t?t(n,i):i.removeClass("open"))})},window._onMessage=function(e){window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},function(){function e(e){try{return"string"==typeof e?$.parseJSON(e):e}catch(t){}return e}function t(e){$.showModal(e.errors.url_to_modal,"modal-error")}function n(e){return 502===e.status||503===e.status}function r(e){return e.errors&&e.errors.new_csrf_token}function i(e,t,n){return"function"==typeof e?$.proxy(e,t):$.proxy(n,t)}function o(e){if("string"==typeof e)return e;if(e._isJSON)return JSON.stringify(e.json);if(!0===e._doNOTChange)return e;var t="";for(var n in e)""!==t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);return t}var a=3e4;window.AJAXUtil={post:function(e,t,n,r,i){return this._send("POST",e,t,n,r,i)},simplePost:function(e,t,n){return this._simpleRequest("POST",e,t,n)},get:function(e,t,n,r,i){return this._send("GET",e,t,n,r,i)},put:function(e,t,n,r,i){return this._send("PUT",e,t,n,r,i)},del:function(e,t,n,r,i){return this._send("DELETE",e,t,n,r,i)},_send:function(s,l,u,c,f,d,p){var h=this;c=i(c,this,$.noop),f=i(f,this,function(e,t){window._isOnLocalhost()&&(console.error(`Request failed: ${t}`),console.error({url:t,params:u,rslt:e})),h.showStandardErrorMessage(e,t)}),d=i(d,this,$.noop);var m={url:l,type:s,timeout:a,data:o(u),headers:{"X-Cookies-Enabled":navigator.cookieEnabled,"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content"),"X-Retry-CSRF-Token":p?"true":"false"},error:function(t){n(t)?d(t,l):f(e(t.responseText),l)},success:function(n){(n=e(n)).success?c(n):r(n)?h._handleExpiredCSRFTokenError(n,s,l,u,c,f,d):n.errors&&n.errors.show_modal?t(n):f(n)}};return u._isJSON&&(m.contentType="application/json; charset=utf-8"),$.ajax(m)},_simpleRequest:function(e,t,n,r,i){return $.ajax({url:t,type:e,timeout:a,data:o(r),error:function(e){i(e)},success:function(e){i(e)}})},_handleExpiredCSRFTokenError:function(e,t,n,r,i,o,a){$('meta[name="csrf-token"]').attr("content",e.errors.new_csrf_token),this._send(t,n,r,i,o,a,!1)},showStandardErrorMessage:function(e,t){var n="",r=e.errors?e.errors:e.error;for(var i in r)if($.isArray(r[i]))for(var o=0;o<r[i].length;o++)n+=r[i][o]+"<br />";else"message"===i&&(n+=r[i]+"<br />");var a="Application Error.";switch(e.status){case 502:case 503:a="Unable to make network request.";break;case 413:a="Request Too Large.";break;case 429:a="Request Limit Reached."}if(!n)switch(e.status){case 502:case 503:n="A network request has failed to reach our servers. Please try again in a few minutes or email support at <a href='mailto:support@codepen.io'>support@codepen.io</a> and we'll help.";break;case 413:n="This Pen is larger than the 1 megabyte limit. Try removing data from this Pen and trying again.";break;case 429:n="It looks like you're hitting a request limit we have in place to protect us against a current DDoS attack. This should not have happened, please contact us at <a href='mailto:support@codepen.io'>support@codepen.io</a> so we can fix this for you.";break;default:n="Something has gone wrong. Please contact us at <a href='mailto:support@codepen.io'>support@codepen.io</a> so we can help."}var s="";s="<h1>"+a+"</h1>",s+='<p class="error-details">CODE: '+e.status+"</p>",t&&(s+='<p class="error-details">PATH: '+t+"</p>"),s+="<p>"+n+"</p>",s+='<p class="modal-buttons"><br class="mobile-break"><a href="#0" class="button button-medium hide-message">Close</a></p>',$.showModal(s,"modal-warning")}}}(),$.fn._on=function(e,t,n,r){n=n||!1,r=r||!1,this.on(e,$.proxy(function(e){r||e.preventDefault();var i=e.target?$(e.target):[];if(n&&(t=$.proxy(t,n)),t(e,i),!r)return!1},n))};var ObjectUtil={hasNestedValue:function(e,t){if(!t)return!1;for(var n=t.split("."),r=0;r<n.length;r++){var i=n[r];if(!e||!e.hasOwnProperty(i))return!1;e=e[i]}return!0}},IDGenerator={length:8,generate:function(){for(var e=(+new Date).toString().split("").reverse(),t="",n=0;n<this.length;++n){t+=e[this._getRandomInt(0,e.length-1)]}return t},_getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}};window.CacheGet={_inMemoryStore:{},find:function(e){this._validateOpts(e);var t=this._find(e);t?e.onSuccess(t):this._fetchAndCache(e)},_find:function(e){return this._inMemoryStore[e.key]},_validateOpts:function(e){if(!e.key)throw"Invalid key";if(!e.url)throw"Invalid URL";if(!e.onSuccess)throw"Invalid callback"},_fetchAndCache:function(e){var t=this;$.ajax({dataType:e.dataType||"text",url:e.url,success:function(n){var r=n;"function"==typeof e.createCacheableResult&&(r=e.createCacheableResult(n)),t._inMemoryStore[e.key]=r,e.onSuccess(r)}})}},function(){function e(e){if("string"==typeof e){var t=e.substring(0,1);if("["===t||"{"===t)return!0}return!1}var t=$("#init-data").val();if("string"==typeof t){var n=$.parseJSON(t);for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];e(i)?window[r]=$.parseJSON(i):window[r]=i}}}();var PenResourcesData={MIN_RESOURCES:2,setResource:function(e,t){this._setResourceURL(_.find(this.resources,{view_id:e}),t),this._postResourceChange()},updateResourcesOrder:function(e,t){this._updateResourcesOrder(e,t),this._postResourceChange()},addEmptyResource:function(e){this._addNewResource(e,""),this._postResourceChange()},quickAddResource:function(e,t){this._quickAddResource(e,t),this._postResourceChange(!0)},deleteResource:function(e){this._deleteResource(e),this._postResourceChange()},getResourcesByType:function(e){return _.select(this.resources,{resource_type:e})},setPenResources:function(e){this.resources=e.pen.resources,this._postResourceChange()},_ensureResourcesValid:function(){this._ensureMinNumberOfResourcesForEachType(),this._storeResourcesByOrder(),this._ensureResourcesHaveViewIDs(),this._ensureResourcesHaveActions()},_ensureMinNumberOfResourcesForEachType:function(){this._ensureMinNumberOfResourcesForType("css"),this._ensureMinNumberOfResourcesForType("js")},_ensureMinNumberOfResourcesForType:function(e){for(var t=this.MIN_RESOURCES-this.getResourcesByType(e).length,n=0;n<t;n++)this.resources.push({resource_type:e,order:this.getNextMaxOrder(e),url:""})},_ensureResourcesHaveViewIDs:function(){_.forEach(this.resources,function(e){_.isUndefined(e.view_id)&&(e.view_id=IDGenerator.generate())})},_ensureResourcesHaveActions:function(){_.forEach(this.resources,function(e){_.isUndefined(e.action)&&(e.action="include_"+e.resource_type+"_url")})},_postResourceChange:function(e){this._updateLastUpdated(),this._ensureResourcesValid(),this._publishResourcePenChange(e)},_quickAddResource:function(e,t){var n=_.find(this.getResourcesByType(e),{url:""});n?this._setResourceURL(n,t):this._addNewResource(e,t)},_setResourceURL:function(e,t){e.url=t.replace(/\s+/,"")},_updateResourcesOrder:function(e,t){for(var n=0,r=this.resources.length;n<r;n++)this.resources[n].resource_type===e&&(this.resources[n].order=t[this.resources[n].view_id]);this._storeResourcesByOrder()},_storeResourcesByOrder:function(){this.resources=_.sortBy(this.resources,"order")},_addNewResource:function(e,t){this.resources.push({resource_type:e,order:this.getNextMaxOrder(e),url:t||"",view_id:IDGenerator.generate(),action:"include_"+e+"_url"})},getNextMaxOrder:function(e){for(var t=0,n=0;n<this.resources.length;n++){var r=this.resources[n];e===r.resource_type&&t<=r.order&&(t=r.order+1)}return t},_deleteResource:function(e){var t=_.findIndex(this.resources,{view_id:e});this.resources.splice(t,1)},_publishResourcePenChange:function(e){Hub.pub("pen-change",{origin:"client",rebind:e,pen:{resources:_.cloneDeep(this.resources)}})}},LocalDataValidator={makeObjValid:function(e,t){for(var n in e)t[n]&&(e[n]=this._getValidAttributeValue(t,n,e[n]))},_getValidAttributeValue:function(e,t,n){var r=e[t];return"array"===r["typeof"]?this._getValidArrayType(n,r):_.isArray(r["typeof"])?this._getValidArrayAttributeValue(n,r):"object"===r["typeof"]?this._getValidObjectType(n,r):this._getValidSimpleAttributeValue(n,r)},_getValidObjectType:function(e,t){return Object.assign({},window._cloneDeep(t["default"]),e)},_getValidArrayType:function(e,t){return _.isArray(e)?e:t["default"]},_getValidArrayAttributeValue:function(e,t){return _.contains(t["typeof"],e)?e:t["default"]},_getValidSimpleAttributeValue:function(e,t){return typeof e===t["typeof"]?e:t["default"]}},PenValidator=Class.extend({dataAttributes:{title:{"typeof":"string","default":""},description:{"typeof":"string","default":""},slug_hash:{"typeof":"string","default":""},html:{"typeof":"string","default":""},css:{"typeof":"string","default":""},js:{"typeof":"string","default":""},parent:{"typeof":"number","default":0},"private":{"typeof":"boolean","default":!1},template:{"typeof":"boolean","default":!1},npm_packages:{"typeof":"object","default":{}},html_pre_processor:{"typeof":__preprocessors.html.syntaxes,"default":__preprocessors.html["default"]},html_classes:{"typeof":"string","default":""},head:{"typeof":"string","default":""},css_pre_processor:{"typeof":__preprocessors.css.syntaxes,"default":__preprocessors.css["default"]},css_prefix:{"typeof":__preprocessors.css.prefixes,"default":__preprocessors.css.default_prefix},css_starter:{"typeof":__preprocessors.css.bases,"default":__preprocessors.css.default_base},styles:{"typeof":"array","default":[]},js_pre_processor:{"typeof":__preprocessors.js.syntaxes,"default":__preprocessors.js["default"]},scripts:{"typeof":"array","default":[]}},makePenValid:function(e){LocalDataValidator.makeObjValid(e,this.dataAttributes)}});window.PenNpmPackages={addPackage:function(e,t){this.npm_packages[e]={id:"",name:e,version:t,manifest:null,_destroy:!1},this._loadNpmManifest(e,t),this._publishNpmPackagesChange()},getActiveNpmPackages:function(){return Object.values(this.npm_packages).filter(function(e){return!0!==e._destroy})},getActiveNpmPackagesAsDependencies:function(){return this.getActiveNpmPackages().reduce(function(e,t){return e[t.name]={manifest:t.manifest,name:t.name,version:t.version},e},{})},removePackage:function(e){this.npm_packages[e]._destroy=!0,this._publishNpmPackagesChange()},isBuildingPackages:function(){return!!Object.values(this.npm_packages).find(e=>null===e.manifest)},_publishNpmPackagesChange:function(){Hub.pub("pen-change",{pen:{npm_packages:window._cloneDeep(this.getActiveNpmPackages())}})},_loadAllNpmManifests:function(){Object.values(this.npm_packages).forEach(e=>{this._loadNpmManifest(e.name,e.version)})},_loadNpmManifest:function(e,t){const n=`${window.__npm_base_url}/${e}/${t}/${e}.json`;$.getJSON(n,t=>{this.npm_packages[e].manifest=t,this._publishNpmPackagesChange()})}};var Pen=Class.extend({id:"",title:"",description:"",slug_hash:"",html:"",css:"",js:"",parent:0,"private":!1,template:!1,html_pre_processor:"none",html_classes:"",head:"",css_pre_processor:"none",css_prefix:"neither",css_starter:"neither",js_pre_processor:"none",npm_packages:[],editor_settings:{},newTags:[],resources:[],tags:[],save_disabled:!1,autosavingNow:!1,last_updated:"",updated_at:"",errorCode:"",saveAttempts:0,MAX_SAVE_ATTEMPTS:4,SAVE_ATTEMPT_TIMEOUT:1e4,lastSavedPen:{},redirectingToSavedURL:!1,init:function(){_.extend(this,AJAXUtil),_.extend(this,PenResourcesData),_.extend(this,PenNpmPackages),this._loadStoredData(),this._ensureDataIsValid(),this._showForkedMessage()},_loadStoredData:function(){_.extend(this,__item,!0),this._ensureResourcesValid(),this._loadAllNpmManifests(),this.lastSavedPen=this.getSaveableCopyOfPen()},_ensureDataIsValid:function(){var e=new PenValidator;e.makePenValid(this),e.makePenValid(this.lastSavedPen)},_showForkedMessage:function(){CPLocalStorage.getItem(this.slug_hash+"-fork")&&($.showMessage("Pen Forked"),CPLocalStorage.removeItem(this.slug_hash+"-fork"))},setItemValue:function(e){var t=this._cloneObject(e);for(var n in t.item&&(t.pen=t.item),t.pen)this._setValue(n,t.pen[n]);Hub.pub("pen-change",this._cloneObject(t))},_cloneObject:function(e){return JSON.parse(JSON.stringify(e))},_setValue:function(e,t){if(_.isObject(t)&&!_.isArray(t))for(var n in t)this[e][n]=t[n];else this[e]=t;this._updateLastUpdated()},_updateLastUpdated:function(){this.last_updated=(new Date).getTime()},getLastUpdatedAt:function(){return this.last_updated||new Date(this.updated_at).getTime()},getActiveSlugHash:function(){return this["private"]?this.slug_hash_private:this.slug_hash},getTags:function(){return _.uniq(_.clone(this.tags).concat(_.clone(this.newTags)))},getAttribute:function(e){return this[e]},newPen:function(){window.location="/pen"},save:function(){this.save_disabled||(CP.user.anon?window.CP.loginHandler.showAnonymousUserSignupModal():this._canSave()?this._shouldForkPen()?this._forkPen():this._savePenToDB():Hub.pub("pen-errors",this.errorCode))},forkPenInCurrentState:function(){this.save_disabled||(this._canSave()?this._forkPen(!0):Hub.pub("pen-errors",this.errorCode))},_shouldForkPen:function(){return this._isPenOwnedByAnotherUser()},saveAsPrivate:function(){this._canSave()?(this["private"]=!0,this._savePenToDB()):Hub.pub("pen-errors",this.errorCode)},MAX_PEN_SIZE:1e6,_canSave:function(){return!CP.user.isUserLoggedIn()&&this._isProfessorOrCollabSession()?(this.errorCode="anon-cannot-save-during-rt-session",!1):!(JSON.stringify(this.getSaveableCopyOfPen()).length>this.MAX_PEN_SIZE)||(this.errorCode="pen-too-large",!1)},_isProfessorOrCollabSession:function(){return"professor"===__pageType||"collab"===__pageType},_forkPen:function(e){if(e||this._shouldSavePenToDB()){var t=this.getCopyOfSaveablePen();t.fork=!0,this.post("/pen/save",{pen:JSON.stringify(t)},this.doneSave,this.failedSave,this.erroredSave)}else this.sendPseudoSavedSignal()},_savePenToDB:function(){this._shouldSavePenToDB()?this.post("/pen/save",{pen:this._getSaveablePen()},this.doneSave,this.failedSave,this.erroredSave):this.sendPseudoSavedSignal()},_getSaveablePen:function(){return JSON.stringify(this.getCopyOfSaveablePen())},getCopyOfSaveablePen:function(){return this._updateSaveableTagsPriorToSave(),this.getSaveableCopyOfPen()},_shouldSavePenToDB:function(){return this.hasPenChanged()||this._isBlankNewPen()||this._isPenOwnedByAnotherUser()},_isBlankNewPen:function(){return""===this.slug_hash},_updateSaveableTagsPriorToSave:function(){this.tags=this.getTags(),this.newTags=[]},sendPseudoSavedSignal:function(){Hub.pub("pen-saved",{})},doneSave:function(e){this.saveAttempts=0;var t=this._getDiffPen(this,this.lastSavedPen);if(this.lastSavedPen=this.getSaveableCopyOfPen(),this.npm_packages=_.merge(this.npm_packages,e.npm_packages),e.new_pen_saved)if(this._isProfessorOrCollabSession()){var n={newPen:!0,url:e.redirect_url,pen:t};Hub.pub("pen-saved",n)}else Hub.pub("save-editor-sizes",e.slug_hash),this.slug_hash&&CPLocalStorage.setItem(e.slug_hash+"-fork","fork"),this.redirectingToSavedURL=!0,window.location=this._getFullRedirectURL(e);else Hub.pub("pen-saved",{pen:t,last_saved_time_ago:e.last_saved_time_ago})},_getFullRedirectURL:function(e){var t=document.location.href.split("?");return t.length>1?this._stripQuestionMarkInURL(e.redirect_url+"?"+this._stripTemplateQueryPart(t[1])):e.redirect_url},_stripTemplateQueryPart:function(e){return(e||"").replace(/template=\w+/,"")},_stripQuestionMarkInURL:function(e){return e.replace(/\?$/,"")},failedSave:function(e){this.showStandardErrorMessage(e)},erroredSave:function(e,t){if(this.saveAttempts<this.MAX_SAVE_ATTEMPTS){var n=_.template(Copy.errors["unable-to-save-try-again"],{time:TimeUtil.countToString(this.saveAttempts+1)});$.showMessage(n,"super-slow"),this.saveAttempts+=1,setTimeout($.proxy(this._savePenToDB,this),this.SAVE_ATTEMPT_TIMEOUT)}else this.saveAttempts=0,this.showStandardErrorMessage(e,t)},isUserPenOwner:function(){return""===this.slug_hash||(CP.profiled.is_team?CP.profiled.id===CP.user.current_team_id:CP.user.isAnon()?this.session_hash===CP.user.session_hash:CP.profiled.id===CP.user.id)},_isPenOwnedByAnotherUser:function(){return!this.isUserPenOwner()},hasPenChanged:function(){return _.size(this._getDiffPen(this,this.lastSavedPen))>0},hasPenContentChanged:function(){var e=this._getDiffPen(this,this.lastSavedPen);return delete e.editor_settings,_.size(e)>0},_getDiffPen:function(e,t){return _diffObjects(t,e)},getSaveableCopyOfPen:function(){return window._cloneDeep(_.reduce(this._getDataRelevantAttributes(),function(e,t){if(e[t]=this[t],"npm_packages"===t){const n=Object.keys(this[t]);e[t]=n.reduce((e,n)=>{const r=this[t][n];return e[n]={_destroy:r._destroy,id:r.id,name:n,version:r.version},e},{})}return e},{},this))},_getDataRelevantAttributes:function(){return["css","css_pre_processor","css_prefix","css_starter","description","editor_settings","head","html","html_classes","html_pre_processor","id","js","js_pre_processor","newTags","npm_packages","parent","private","resources","slug_hash","slug_hash_private","tags","team_id","template","title","user_id"]},getAttributesThatAffectPenPreview:function(){
return["css","css_pre_processor","css_prefix","css_starter","head","html","html_classes","html_pre_processor","js","js_pre_processor","npm_packages","resources"]}}),ClientSidePenValidations={validatePen:function(e){var t={};return this._validateHTML(e,t),this.validateCSS(e,t),t},_validateHTML:function(e,t){/^(\s+)?<!doctype/i.test(e.html)&&(t.html={line:1,type:"html",message:"You don't need a DOCTYPE on CodePen. Just put here what you would normally put in the <body>.",level:"warn",pretty_name:"HTML"})},validateCSS:function(e,t){if(_.contains(["scss","sass"],e.css_pre_processor)){var n=/inline-image/i;n.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,n),type:"css",message:"The function inline-image can not be used on CodePen since it depends on reading images from disk. We've removed it.",level:"warn",pretty_name:"SCSS"});var r=/image-width\(/i;r.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,r),type:"css",message:"The function image-width can not be used on CodePen since it depends on reading images from disk. We've removed it.",level:"warn",pretty_name:"SCSS"});var i=/image-height\(/i;i.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,i),type:"css",message:"The function image-height can not be used on CodePen since it depends on reading images from disk. We've removed it.",level:"warn",pretty_name:"SCSS"})}if("less"===e.css_pre_processor){var o=/data-uri/i;o.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,o),type:"css",message:"The function data-uri can not be used because it's insecure. We've removed it from your LESS code.",level:"warn",pretty_name:"LESS"})}if(e.css){var a=/<style>/i;a.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,a),type:"css",message:"You don't need to include a style tag. Just put here what you would normally include in the style tag.",level:"warn",pretty_name:"CSS"})}return t},_findErrorLineNumber:function(e,t){for(var n=e.split("\n"),r=0,i=n.length;r<i;r++)if(t.test(n[r]))return r+1;return 1}},HTMLTemplating={findHTMLTemplatesInPenHTML:function(e){return(e||"").match(/(\[\[\[\S+\]\]\])/gm)||[]},regexReplaceHTMLBeforeProcessing:function(e,t){return this._regexReplaceHTML(e,"regex_replace_before_processing",t)},regexReplaceHTMLAfterProcessing:function(e,t){return this._regexReplaceHTML(e,"regex_replace",t)},_regexReplaceHTML:function(e,t,n){for(var r=0;r<n.length;r++)if(n[r].action===t){var i=this._getWhiteSpacePrefixToTemplate(n[r].text_to_replace,e),o=n[r].text_to_replace;o=(o=(o=o.replace(/\//g,"\\/")).replace(/\[/g,"\\[")).replace(/\]/g,"\\]");var a=new RegExp(o,"g");e=e.replace(a,this.getContentToReplaceTemplateText(i,n[r].content))}return e},_getWhiteSpacePrefixToTemplate:function(e,t){var n="(\\s+)?"+e.replace(/\[/g,"\\[").replace(/\//g,"\\/").replace(/\]/g,"\\]"),r=new RegExp(n,"mg").exec(t);return r?r[1]:""},getContentToReplaceTemplateText:function(e,t){return e?(t||"").split(/\r|\n/).join(e):t}};!function(){function e(e){var t=$(e.target).closest("div.box").data("type");$("#box-"+t+" .inline-editor-error").removeClass("inline-error-hidden"),k(t),T(t),Hub.pub("editor-refresh",{delay:0})}function t(e){return!_.find(e,{level:"error"})}function n(e){clearTimeout(M),r("all"),_.size(e)&&o(e)}function r(e){("all"===e?A:[e]).forEach(function(e){i(e)}),T()}function i(e){var t=(CodeEditorsUtil.getEditorByType(e)||{}).editor;if(t){for(var n=L[e].widgets,r=0,i=n.length;r<i;r++)n[r].clear();t.eachLine(function(e){t.removeLineClass(e,"background","line-highlight")}),L[e].widgets=[],L[e].lines=[]}}function o(e){M=setTimeout(function(){l(e)},100)}function a(e){return"undefined"==typeof e.line||"undefined"==typeof e.message}function s(e,t){L[e.type].widgets.push(t),L[e.type].lines.push(e.line),e.errorType===E.dependency&&(L[e.type].solution=e)}function l(e){for(var t in e){var n=e[t];if(!a(n)){m(n);var r=u(CodeEditorsUtil.getEditorByType(n.type).editor,n);S(n),s(n,r)}}}function u(e,t){var n=$(x(t))[0],r=parseInt(t.line-1,10);return e.addLineClass(r,"background","line-highlight"),e.addLineWidget(r,n,{coverGutter:!0,noHScroll:!0})}function c(e,t){for(var n=0;n<t.hits.length;n++){var r=t.hits[n];if(r.name===e.name)return e.version,{name:r.name,version:r.version}}return null}function f(e){var t=e.map(function(e){return window.algolia.npmIndex.search(e.name)});return Promise.all(t).then(function(t){for(var n=[],r=[],i=0;i<t.length;i++){var o=t[i],a=e[i],s=c(a,o);s?r.push(s):n.push(a)}return{foundPackages:r,missingPackages:n}})}function d(e,t){var n="Unable to find '"+t[0].importPath+"' on npm.";return[Object.assign({},e,{errorType:E.error,message:n,showErrorImmediately:!0})]}function p(){CP.pen.setItemValue({origin:"client",pen:{js_pre_processor:"babel"}})}function h(e){e.preventDefault();var t=L.js.solution;t.errorType===E.dependency&&(p(),f(t.dependencies).then(function(e){e.missingPackages.length>0?n(d(t,e.missingPackages)):(e.foundPackages.forEach(function(e){CP.pen.addPackage(e.name,e.version)}),CP.pen.save())}))}function m(e){e.errorType===E.dependency&&f(e.dependencies.filter(function(e){return"peer"===e.type})).then(function(e){e.foundPackages.forEach(function(e){CP.pen.addPackage(e.name,e.version)}),CP.pen.save()})}function g(e){var t=e.dependencies.map(function(e){return e.importPath}),n=t[0];return t.length>2?n+" and "+(t.length-1)+" other packages haven't been loaded.":2===t.length?n+" and "+t[1]+" haven't been loaded.":n+" hasn't been loaded."}function v(e){return e.errorType===E.dependency?g(e):e.message}function y(e){return e.errorType===E.dependency||e.showErrorImmediately}function b(e){var t=y(e)?"":"inline-error-hidden";return e.errorType===E.dependency?"<div class='inline-editor-error yellow "+t+"'><div class='inline-error-message'><%= message %> <a href='#' class='js-editor-solution'>Install now?</a></div></div>":"<div class='inline-editor-error "+t+"'><div class='inline-error-message'><%= message %></div></div>"}function x(e){var t=v(e);return _.template(b(e),{message:w(t)})}function w(e){return _htmlEntities(e).replace(/&lt;br \/&gt;/g,"<br />").replace(/-&gt;/g,"->")}function k(e){var t=C(L[e].lines[0]);CodeEditorsUtil.getEditorByType(e).editor.scrollIntoView(t)}function C(e){return e-2>0?e-2:0}function S(e){y(e)||$("#error-bar-"+e.type).show()}function T(e){e?$("#error-bar-"+e).hide():$(".error-bar").hide()}var A=["html","css","js"],L=A.reduce(function(e,t){return e[t]={lines:[],solution:null,widgets:[]},e},{}),M=0;$("body").on("click",".js-editor-solution",h);var E={error:"error",dependency:"dependency",importPath:"importPath"};$(".error-icon").on("click",e),Hub.sub("error-infinite-loop",function(e,t){n(t)}),window.editorErrorHandler={canRenderPen:t,clearPreprocWidgets:r,handleErrorsInEditor:n}}(),function(){function e(e){return Object.values(e).reduce(function(e,t){return e[t.contentType]=t.textOutput,e},{})}function t(t,n){return Object.assign({},t,e(n))}function n(e){return Object.values(e).reduce(function(e,t){if(t.errors&&t.errors[0]){var n=t.errors[0];e[t.contentType]=Object.assign({},n,{level:"error",line:n.line,message:n.message,solution:n.solution,syntax:t.syntax,type:t.contentType})}return e},{})}function r(e,r){return{editorHash:t(r.toStore,e),errors:n(e),payload:e}}function i(){return new Promise(function(e){CP.penResources.processResourcesAndCallback(CP.pen,function(t){e(t)})})}function o(e){return Object.keys(e).length>0}function a(e){v>g?alert("You're session expired. Refresh the page to continue"):AJAXUtil.post("/processor_jwts","",function(t){window.__jwt=t.payload.jwt,v+=1,e()})}function s(e){if(!e.success){var t=e.errors;if(t.auth_token_expired||t.auth_token_fail)return!0}return!1}function l(e,t){window.ProcessorRouter.route(e,function(n){s(n)?a(function(){l(e,t)}):t(n)})}function u(e){return new Promise(function(t){o(e)?l(e,t):t({payload:e})})}function c(e){var t=[];for(var n in e){var r=e[n].logs;if(e[n].logs){for(var i=e[n].contentType,o=0,a=r.length;o<a;o++)t.push({line:r[o].line,message:r[o].message,type:i});t=t.concat()}}return t}function f(e){Hub.pub("show-processing-logs",{logs:c(e)})}function d(e,t){var n,o=new ProcessedPen(t);CP.pen.isBuildingPackages()||i().then(function(e){return o.setProcessedValue("resources",e),u((n=o.buildToSendAndToStore()).toSend)}).then(function(e){return r(e.payload,n)}).then(function(t){var r=t.editorHash,i=t.errors;f(t.payload),o.updateAfterProcessing(n,r),m=o,e({errors:i,processedPen:o})})["catch"](function(e){console.error("Caught error!"),console.error(e.message),console.error(e)})}function p(e){return m.getProcessed(e)||""===m.getProcessed(e)?m.getProcessed(e):"\ud83d\udc3b Bear with us while we compile your code to "+e}function h(e){return new Promise(t=>{m?t(p(e)):d(()=>{t(p(e))})})}var m,g=100,v=0;CP.penProcessor={getProcessed:h,process:d}}(),function(){function e(e,t,n){for(var r=0;r<e.length;r++)if(e[r]&&e[r][t]&&e[r][t]===n)return r;return-1}function t(){n()}function n(){var e=CPLocalStorage.getItem(l);e&&(a=JSON.parse(e))}function r(t,n,r){if(("css"===t||"js"===t)&&r!==undefined){var o=e(a[t],"name",r);o>-1?(a[t].splice(o,1),a[t].unshift({name:r,url:n})):a[t].unshift({name:r,url:n}),a[t].length>s&&(a[t].length=s),i()}}function i(){CPLocalStorage.setItem(l,JSON.stringify(a))}function o(e){return a[e]}var a={css:[],js:[]},s=6,l="CP_recent_pen_resources";CP.PenRecentResourcesManager={},CP.PenRecentResourcesManager.addNewPenResource=r,CP.PenRecentResourcesManager.getRecentPenResources=o,t()}();var BunkerBox={makeHeadSafe:function(e,t){return e=e||"","public"===(t=this._getSafeSandboxType(t))&&(e=e.replace(/<script.+/gim,"")),e=this.makeHTMLSafe(e,t)},makeHTMLSafe:function(e,t){return e=e||"",t=this._getSafeSandboxType(t),e=(e=(e=(e=e.replace(/(<.*?\s)(autofocus=("|')autofocus("|')|autofocus)/g,"$1")).replace(/iframe.+src=.+(&#)/gim,"")).replace(/autoPlay=true/gim,"autoPlay=false")).replace(/http-equiv="refresh"/gim,""),e=this.makeJSSafe(e,t)},makeJSSafe:function(e,t){return e=e||"",t=this._getSafeSandboxType(t),e=(e=e.replace(/location\.replace\s*\(\s*\)/gim,"location.removedByCodePen()")).replace(/location\.reload\s*\(\s*\)/gim,"location.removedByCodePen()"),"public"===t&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("beforeunloadreplacedbycodepen")).replace(/debugger(\s+)?;/gim,"")).replace(/console\.(\S+)\(([\s\S]*?)\);/gim,"")).replace(/(alert|confirm|prompt)\(([\s\S]*?)\);/gim,"")).replace(/geolocation/gim,"")).replace(/audiocontext/gim,"")).replace(/getusermedia/gim,"")).replace(/initMouseEvent/gim,"")).replace(/download/gim,"")).replace(/\.click\(/gim,"")).replace(/YT.Player/gim,"YT.CodePenRemovedPlayer")),this._isSandboxSupported()||(e=(e=(e=(e=(e=e.replace(/window(\s+)?\[(\s+)?("|")l/gim,"")).replace(/self(\s+)?\[(\s+)?("|")loc/gim,"")).replace(/\.submit\(\)/gim,"")).replace(/fromCharCode/gim,"")).replace(/\blocation(\s+)?=/gim,"")),e},_getSafeSandboxType:function(e){return void 0===e?"public":"public"===e?"public":"personal"},_sandboxSupported:null,_isSandboxSupported:function(){return null===this._sandboxSupported&&(this._sandboxSupported=this._determineIfSandboxIsSupported()),this._sandboxSupported},_determineIfSandboxIsSupported:function(){try{return"sandbox"in document.createElement("iframe")}catch(e){return!1}}},IFramePenToHTML={renderPenAsHTML:function(e){var t=[];return t.push(this._getHTMLStart(e)),t.push(this._getHeadAndCSS(e)),t.push(this._getHTML(e)),t.push(this._getJS(e)),t.push(this._getHTMLEnd()),t.join("\n")},_getHTMLStart:function(e){return"<!DOCTYPE html><html lang='en' class='"+e.html_classes+"'>"},_getHTMLEnd:function(){return"</body></html>"},_getHeadAndCSS:function(e){var t="";return t+="<head>",t+="<script src='"+window.__path_to_console_runner_js+"'></script>",t+="<script src='"+window.__path_to_live_reloader_js+"'></script>",t+="<meta charset='UTF-8'>",t+='<meta name="robots" content="noindex">',t+='<link rel="shortcut icon" type="image/x-icon" href="'+window.__favicon_shortcut_icon+'" />',t+='<link rel="mask-icon" type="" href="'+window.__favicon_mask_icon+'" color="#111" />',t+='<link rel="canonical" href="'+document.location.href+'" />',t+="\n"+e.head+"\n",t+=this._getCSSStarterStyles(e),t+=this._getPrefixesStyles(e),t+=this._getStylesToAddToHead(e),t+='\n<style class="cp-pen-styles">'+e.css+"</style>",t+="</head><body>"},_getHTML:function(e){return BunkerBox.makeHTMLSafe(e.html,"personal")},_getCSSStarterStyles:function(e){return"normalize"===e.css_starter?this._buildCSSLink(window.__pen_normalize_css_url):"reset"===e.css_starter?this._buildCSSLink(window.__pen_reset_css_url):""},_getPrefixesStyles:function(e){return"prefixfree"===e.css_prefix?this._buildScriptLink(window.__pen_prefix_free_url):""},_buildScriptLink:function(e){return"<script src='"+e+"'></script>"},_getStylesToAddToHead:function(e){return _.reduce(e.styles,function(e,t){return"include_css_url"===t.action?e+=this._getIncludeCSSURL(t):"prepend_as_css"===t.action&&(e+="\n<style>\n"+t.content+"\n</style>"),e},"",this)},_getIncludeCSSURL:function(e){return this._buildCSSLink(this._getIncludeCSSURLHref(e))},_buildCSSLink:function(e){return"<link rel='stylesheet' href='"+e+"'>"},_getIncludeCSSURLHref:function(e){return this._urlRefersToPenURL(e.url)?this._ensureEndsInDotType(e.url,"css"):e.url},_getJS:function(e){return this._getJSScripts(e)+this._getPenJS(e)},_getPenJS:function(e){var t=this._getSafeJS(e.js);if(t){return`\n        <script id="rendered-js"${this._loadAsModule(t)?' type="module"':""}>\n          ${t}\n          //# sourceURL=pen.js\n        </script>`}return""},_loadAsModule:function(e){return/import\s+([\S\s]+\s+from\s+)?["'].+["']/m.test(e)},_getJSScripts:function(e){var t="";return this._includeStopExecutionScript(e)&&(t+="<script src='"+__path_to_stop_execution_on_timeout+"'></script>"),t+this._getPenResourcesAsScripts(e.scripts)},_includeStopExecutionScript:function(e){return e.js},_getPenResourcesAsScripts:function(e){return _.reduce(e,function(e,t){return"include_js_url"===t.action?e+="<script src='"+this._getIncludeJSURLHref(t)+"'></script>":"prepend_as_js"===t.action&&(e+="\n<script>"+t.content+"</script>"),e},"",this)},_getIncludeJSURLHref:function(e){return this._urlRefersToPenURL(e.url)?this._ensureEndsInDotType(e.url,"js"):e.url},_urlRefersToPenURL:function(e){return/\S+\/pen\/(\w{5,})/i.test(e)},_ensureEndsInDotType:function(e,t){var n=(e||"").split("?");return new RegExp("."+t,"i").exec(n[0])?e:(n[0]=this._removeTraingForwardSlash(n[0])+"."+t,n.join("?"))},_removeTraingForwardSlash:function(e){return e.replace(/\/$/,"")},_getSafeJS:function(e){return BunkerBox.makeJSSafe(e,"personal")}};!function(){function e(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}window.generateGuid=e}(),function(){function e(){$("#loading-text").remove()}function t(e,t){for(var n=e.children("iframe"),r=0,i=n.length;r<i;r++)n[r].id!==t&&$(n[r]).remove();$("#"+t).removeClass("iframe-visual-update")}function n(n,r){t(n,r),e()}function r(e,t){e.prepend(s(t)),i(e,t)}function i(e,t){var r=!1,i=setTimeout(function(){r||(n(e,t),r=!0)},h);$("#"+t).load(function(){clearTimeout(i),r||(n(e,t),r=!0)})}function o(){return window.__CPDATA.iframe_sandbox}function a(){return window.__CPDATA.iframe_allow}function s(e){return"<iframe id='"+e+"' src='"+u(e)+"' name='CodePen' allowfullscreen='true' sandbox='"+o()+"' allow='"+a()+"' allowTransparency='true' allowpaymentrequest='true' class='result-iframe iframe-visual-update' ></iframe>"}function l(e,t){return new Promise(n=>{const r=new XMLHttpRequest;r.open("POST",e,!0),r.timeout=g,r.setRequestHeader("Content-Type","text/plain; charset=utf-8"),r.onload=(()=>{let e={};try{e=JSON.parse(r.responseText)}catch(t){}if(r.status>=200&&r.status<400)return void n({error:null,data:e});const t={message:"Server Error",request:r};n({error:t,data:e})});const i=JSON.stringify(t);r.send(i)})}function u(e){const t=c(e),n=document.location.hash;return`${m.serve_url}${t}${n}`}function c(e){return/\?/.test(document.location.search)?`${document.location.search}&key=${e}`:`?key=${e}`}function f(){return"iFrameKey-"+generateGuid()}function d(e,t){return l(`${m.store_url}?token=${window.__jwt}`,{key:e,html:t})}async function p(e,t){const n=f();return await d(n,t),r(e,n),u(n)}const h=300,m=window.__boomboom,g=3e4;window.IFrameRender={updateIFramePreview:p}}(),function(){function e(e){return"infinite-loop"!==e.data.action}function t(){window._onMessage(function(t){try{if(e(t))return;var r=n(t.data.line);Hub.pub("error-infinite-loop",{js:{errorType:"error",level:"error",line:r,message:i(r),syntax:CP.pen.js_pre_processor,type:"js"}})}catch(o){}})}function n(e){var t=r(e);t=t.replace(/\s+/g,"");var n=_.map(CP.pen.js.split(/\r\n?|\n/),function(e){return e.replace(/\s+/g,"")});return _.indexOf(n,t)+1}function r(e){for(var t=h.split(/\r\n?|\n/),n=e;n>-1&&t[n].match(/(break;|shouldStopExecution)/);)n-=1;return t[n]}function i(e){return"Infinite loop found on line "+e+". The line number is approximated so look carefully."}function o(e){if(null===b)return b=_.cloneDeep(e,!0),void f(e);if(a(e))try{c(e)}catch(t){f(e)}else f(e)}function a(e){if(s(e))return!1;if(e.fullRefresh)return!1;var t=u(e,b);return b=_.clone(e,!0),t}function s(e){return!!l(e)||(e.css||"").match(/(keyframes|:target|animation|CP_DoFullRefresh)/gi)}function l(e){var t=e.html||"",n=e.css||"";return t.match(/svg/i)&&n.match(/background/)}function u(e,t){if(null===t)return!1;var n=_diffObjects(e,t);return delete n.css,delete n.fullRefresh,0===_.size(n)}function c(e){for(var t=document.getElementsByClassName("result-iframe"),n=0;n<t.length;n++){var r={action:m,data:{css:e.css,head:e.head}};Hub.pub(m,r),t[n].contentWindow.postMessage(r,"*")}}function f(e){clearTimeout(y),y=setTimeout(function(){d(e)},v)}function d(e){h=IFramePenToHTML.renderPenAsHTML(e),IFrameRender.updateIFramePreview(p,h).then(function(t){var n={action:g,data:{url:t,head:e.head}};Hub.pub(g,n)})}var p=$("#result_div, #result-box"),h="",m="ACTION_LIVE_VIEW_RELOAD_CSS",g="ACTION_LIVE_VIEW_UPDATE_URL",v=700,y=0,b=null;t(),window.PenToPreview={updateLiveIFrame:o}}();var PenRenderer=Class.extend({DEFAULT_TIMEOUT:700,MAX_TIMEOUT:2500,hasRendered:!1,init:function(){this._bindToHub(),this.processAndRender=_.debounce(this._processAndRenderInternal.bind(this),this.DEFAULT_TIMEOUT,{leading:!1,maxWait:this.MAX_TIMEOUT}),$(".result-iframe.iframe-empty").length&&(CP.pen.css||CP.pen.html||CP.pen.js)&&this._runIfNotRan()},_bindToHub:function(){Hub.sub("pen-change",$.proxy(this._onPenChange,this)),Hub.sub("console-opened",$.proxy(this._runIfNotRan,this))},_runIfNotRan:function(){this.hasRendered||this.processAndRender(!0)},_onPenChange:function(e,t){CP.pen.getAttribute("editor_settings").auto_run&&this._penPreviewAttributeChanged(t.pen)&&this.processAndRender()},_penPreviewAttributeChanged:function(e){var t=CP.pen.getAttributesThatAffectPenPreview();return _.intersection(t,_.keys(e)).length>0},_processAndRenderInternal:function(e){CP.penProcessor.process(this._renderProcessedPen.bind(this),{fullRefresh:e||!1})},_renderProcessedPen:function(e){editorErrorHandler.canRenderPen(e.errors)&&(this.hasRendered=!0,this.renderablePen=e.processedPen.buildRenderableHash(),Hub.pub("live_change",this.renderablePen),PenToPreview.updateLiveIFrame(this.renderablePen)),editorErrorHandler.handleErrorsInEditor(e.errors)}}),PenResources=Class.extend({_cachedResources:{},init:function(){_.extend(this,AJAXUtil)},processResourcesAndCallback:function(e,t){var n=this._findResourcesNeedingToBeProcess(e);this._canProcessResources()&&n.length>0?this._postPenResources(e,t):t(e.resources)},_findResourcesNeedingToBeProcess:function(e){return HTMLTemplating.findHTMLTemplatesInPenHTML(e.html).concat(this._findResourcesThatNeedToBeProcessed(e.resources))},_findResourcesThatNeedToBeProcessed:function(e){return _.filter(_.pluck(e,"url"),function(e){return this._isURLResourceNeedingProcessing(e)},this)},_isURLResourceNeedingProcessing:function(e){return this._urlRefersToPenURL(e)||this._urlRefersToCSSNeedingToBePreprocessed(e)||this._urlRefersToJSNeedingToBePreprocessed(e)},_urlRefersToPenURL:function(e){return/\S+\/pen\/(\w{5,})/i.test(e)},_urlRefersToCSSNeedingToBePreprocessed:function(e){return _.contains(__preprocessors.css.preprocessors,this._getExtension(e))},_urlRefersToJSNeedingToBePreprocessed:function(e){return _.contains(__preprocessors.js.preprocessors,this._getExtension(e))},_getExtension:function(e){return _.last((e||"").split("."))},_canProcessResources:function(){return navigator.cookieEnabled},_postPenResources:function(e,t){var n="/process_resources",r={pen:JSON.stringify(this._getProcessResourcesParams(e))};this.post(n,r,$.proxy(function(e){var n=JSON.parse(e.resources);this._cacheResources(n),t(n)},this))},_getProcessResourcesParams:function(e){return _.pick(e,["html","html_pre_processor","css","css_pre_processor","css_prefix","js_pre_processor","resources"])},_cacheResources:function(e){this._cachedResources={};for(var t=0,n=e.length;t<n;t++)this._cachedResources[this._getCacheKey(e[t])]=e[t]},_getCacheKey:function(e){return e.url?e.url:e.text_to_replace},_hasAllResourcesNeedingToBeProcessedCached:function(e){var t=_.keys(this._cachedResources);return 0===_.difference(e,t).length}}),ProcessedPen=Class.extend({fullRefresh:!1,processed:{},lastSent:{},resources:[],init:function(e){_.assign(this,e)},setValue:function(e,t){this[e]=t},setProcessedValue:function(e,t){void 0!==t&&(this.processed[e]=t)},getProcessed:function(e){return this.processed[e]},updateAfterProcessing:function(e,t){this._updateLastSentAttributes(e),this._setProcessedValue(t)},_setProcessedValue:function(e){["html","css","js"].forEach(function(t){this.setProcessedValue(t,e[t])}.bind(this))},_updateLastSentAttributes:function(e){for(var t in e)this.lastSent[t]=e[t]},buildToSendAndToStore:function(){var e={html:this._htmlPreprocessorData(),css:this._cssPreprocessorData(),js:this._jsPreprocessorData()};return this._diff(this.lastSent,e)},_htmlPreprocessorData:function(){var e=this._baseProcessorData("html");return e.contentType="html",e.syntax=CP.pen.html_pre_processor,e.textInput=this._mergeHTMLWithProcessedResources(CP.pen.html),e},_cssPreprocessorData:function(){var e=this._baseProcessorData("css");return e.contentType="css",e.syntax=CP.pen.css_pre_processor,e.textInput=this._mergeCSSWithProcessedResources(CP.pen.css,this.processed.resources),"scss"!==e.syntax&&"sass"!=e.syntax||(e.version=this._determineSassVersion(e.textInput)),"autoprefixer"===CP.pen.css_prefix&&(e.options[CP.pen.css_prefix]=!0),e},SASS_WITH_COMPASS:"3.4.22",_determineSassVersion:function(e){var t="string"==typeof e?e:"";return/@import\s+('|")?compass('|")?/i.test(t)?this.SASS_WITH_COMPASS:"default"},_jsPreprocessorData:function(){var e=this._baseProcessorData("js");return Object.assign({},e,{contentType:"js",options:this._getJSProcessorOptions(),syntax:CP.pen.js_pre_processor,textInput:this._mergeJSWithProcessedResources(CP.pen.js,this.processed.resources)})},_getJSProcessorOptions:function(){const e={detectInfiniteLoops:!0,dependencies:{}};return window.__feature_npm_enabled&&(e.dependencies=Object.values(CP.pen.getActiveNpmPackagesAsDependencies())),e},_baseProcessorData:function(e){return{id:e,version:"default",options:{}}},_isEqual:function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],o=t[i],a=n[i];if(("object"==typeof o||"object"==typeof a)&&JSON.stringify(o)!==JSON.stringify(a))return!1;if(o!==a)return!1}return!0},_shouldProcessPayloadType:function(e){return!!e.textInput&&("none"!==e.syntax||Object.keys(e.options).length>0)},_diff:function(e,t){var n={},r={},i=["syntax","textInput","options"];for(var o in t){var a=e[o]||{},s=t[o];this._shouldProcessPayloadType(s)?this._isEqual(i,s,a)?r[o]=s.textInput:n[o]=s:r[o]=s.textInput}return{toSend:n,toStore:r}},_mergeHTMLWithProcessedResources:function(e){return e?HTMLTemplating.regexReplaceHTMLBeforeProcessing(e,this.processed.resources):e},_mergeCSSWithProcessedResources:function(e,t){return this._getPrependFromResources("css",t)+e},_mergeJSWithProcessedResources:function(e,t){return this._getPrependFromResources("js",t)+e},_getPrependFromResources:function(e,t){return _.reduce(t,function(t,n){return n.action==="prepend_to_"+e?"js"===e?t+n.content+";\n":t+n.content+"\n":t},"")},buildRenderableHash:function(){return{html:this._getProcessedHTML(),html_classes:CP.pen.html_classes,head:CP.pen.head,css:this.processed.css,css_prefix:CP.pen.css_prefix,css_starter:CP.pen.css_starter,styles:this._getStyles(),js:this._getProcessedJS(),js_pre_processor:CP.pen.js_pre_processor,scripts:this._getScripts(),fullRefresh:this.fullRefresh,location_hash:window.location.hash}},_getProcessedHTML:function(){return HTMLTemplating.regexReplaceHTMLAfterProcessing(this.processed.html,this.processed.resources)},_getProcessedJS:function(){return this.processed.js},_getStyles:function(){return this._getIncludesAndPrependToResources(this.processed.resources,"css")},_getScripts:function(){var e=this._getIncludesAndPrependToResources(this.processed.resources,"js");return this._getBundleScripts().concat(e)},_getBundleScripts:function(){return Object.keys(CP.pen.getActiveNpmPackages()).length>0?[{action:"prepend_as_js",content:'window.__webpack_public_path__ = "'+window.__npm_base_url+'"',order:0,resource_type:"js"},{action:"include_js_url",order:1,resource_type:"js",url:window.__npm_base_url+"/runtime.js"}]:[]},_getIncludesAndPrependToResources:function(e,t){return _.sortBy(_.select(this._matchByURLAndMixin(e,t),function(e){return _isValidURL(e.url)&&(e.action==="include_"+t+"_url"||e.action==="prepend_as_"+t)}),"order")},_matchByURLAndMixin:function(e,t){return _.map(this._selectRenderableResources(t),function(n){var r=this._findMatchByURLAndResourceType(e,n);return r?_.assign({},r,n,{action:r.action,content:r.content}):(n.action="include_"+t+"_url",n)},this)},_selectRenderableResources:function(e){return _.select(CP.pen.getResourcesByType(e),function(e){return""!==e.url})},_findMatchByURLAndResourceType:function(e,t){return _.find(e,function(e){return e.url===t.url&&e.resource_type===t.resource_type})}}),CodeEditorsUtil={getEditorByType:function(e){return"html"===e?CP.htmlEditor:"css"===e?CP.cssEditor:CP.jsEditor},getQueryString:function(e){var t=window.location.search;if(t)for(var n=t.substring(1).split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");if(o[0]===e)return o[1]}}};!function(){function e(e,t,n,r){function i(){e.removeEventListener(t,i),n.apply(this,arguments)}return e.addEventListener(t,i,r),i}function t(){if(i(),r(),n(),window.__embed_prefill){var t=document.getElementById("result-link");t.className.indexOf("active")>-1?o():e(t,"click",o)}}function n(){CP.pen=new Pen,CP.item=CP.pen,CP.pen.editor_settings={key_bindings:"normal",indent_with:"spaces",tab_size:"2",auto_run:!0,line_numbers:!0,line_wrapping:!0,code_folding:!0,match_brackets:!1,snippets:{markupSnippets:{},stylesheetSnippets:{}},emmet_active:!0},CP.penResources=new PenResources}function r(){$(".edit-on-codepen").on("click",l)}function i(){Hub.sub("pen-change",_.debounce(o,c,{leading:!1,trailing:!0}))}function o(){a(),s()}function a(){d||($("#edit-on-text").html("FORK ON"),d=!0)}function s(){!1===f&&(CP.penRenderer=new PenRenderer,f=!0)}function l(e){if(d){e.preventDefault();var t=CP.pen.getCopyOfSaveablePen();t.parent=t.id,t.id=0,t.slug_hash="",delete t.fork,AJAXUtil.post("/pen/define",{data:JSON.stringify(t)},u)}}function u(e){window.open(e.url)}var c=500,f=!1,d=window.__embed_prefill;t()}(),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,n,i){var o=r(e,t,n,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function a(){var e;try{e=document.activeElement}catch(Va){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function l(t,n){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(n)&&(n+=" "+r[i]);return n}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function f(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}function d(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function p(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}function h(e){for(;Za.length<=e;)Za.push(m(Za)+" ");return Za[e]}function m(e){return e[e.length-1]}function g(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function v(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function y(){}function b(e,t){var n;return Object.create?n=Object.create(e):(y.prototype=e,n=new y),t&&c(t,n),n}function x(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Qa.test(e))}function w(e,t){return t?!!(t.source.indexOf("\\w")>-1&&x(e))||t.test(e):x(e)}function k(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function C(e){return e.charCodeAt(0)>=768&&es.test(e)}function S(e,t,n){for(;(n<0?t>0:t<e.length)&&C(e.charAt(t));)t+=n;return t}function _(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function T(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}function A(e,t,n){var r;ts=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ts=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ts=i)}return null!=r?r:ts}function L(e,t){var n=e.order;return null==n&&(n=e.order=ns(e.text,t)),n}function M(e,t){return e._handlers&&e._handlers[t]||rs}function E(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=d(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function O(e,t){var n=M(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function P(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),O(e,n||t.type,e,t),R(t)||t.codemirrorIgnore}function j(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==d(n,t[r])&&n.push(t[r])}function N(e,t){return M(e,t).length>0}function D(e){e.prototype.on=function(e,t){is(this,e,t)},e.prototype.off=function(e,t){E(this,e,t)}}function z(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function F(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function R(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function I(e){z(e),F(e)}function $(e){return e.target||e.srcElement}function H(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Na&&e.ctrlKey&&1==t&&(t=3),t}function W(e){if(null==Ba){var t=r("span","\u200b");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ba=t.offsetWidth<=1&&t.offsetHeight>2&&!(ka&&Ca<8))}var i=Ba?r("span","\u200b"):r("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function q(e){if(null!=Ua)return Ua;var r=n(e,document.createTextNode("A\u062eA")),i=Ra(r,0,1).getBoundingClientRect(),o=Ra(r,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(Ua=o.right-i.right<3)}function B(e){if(null!=us)return us;var t=n(e,r("span","x")),i=t.getBoundingClientRect(),o=Ra(t,0,1).getBoundingClientRect();return us=Math.abs(i.left-o.left)>1}function U(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),cs[e]=t}function V(e,t){fs[e]=t}function K(e){if("string"==typeof e&&fs.hasOwnProperty(e))e=fs[e];else if(e&&"string"==typeof e.name&&fs.hasOwnProperty(e.name)){var t=fs[e.name];"string"==typeof t&&(t={name:t}),(e=b(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return K("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return K("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function G(e,t){t=K(t);var n=cs[t.name];if(!n)return G(e,"text/plain");var r=n(e,t);if(ds.hasOwnProperty(t.name)){var i=ds[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}function X(e,t){c(t,ds.hasOwnProperty(e)?ds[e]:ds[e]={})}function Y(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function J(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Z(e,t,n){return!e.startState||e.startState(t,n)}function Q(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function ee(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function te(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ne(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function re(e){if(null==e.parent)return null;for(var t=e.parent,n=d(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function ie(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function oe(e,t){return t>=e.first&&t<e.first+e.size}function ae(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function se(e,t,n){if(void 0===n&&(n=null),!(this instanceof se))return new se(e,t,n);this.line=e,this.ch=t,this.sticky=n}function le(e,t){return e.line-t.line||e.ch-t.ch}function ue(e,t){return e.sticky==t.sticky&&0==le(e,t)}function ce(e){return se(e.line,e.ch)}function fe(e,t){return le(e,t)<0?t:e}function de(e,t){return le(e,t)<0?e:t}function pe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function he(e,t){if(t.line<e.first)return se(e.first,0);var n=e.first+e.size-1;return t.line>n?se(n,Q(e,n).text.length):me(t,Q(e,t.line).text.length)}function me(e,t){var n=e.ch;return null==n||n>t?se(e.line,t):n<0?se(e.line,0):e}function ge(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=he(e,t[r]);return n}function ve(e,t,n,r){var i=[e.state.modeGen],o={};_e(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,u=0;n.state=!0,_e(e,t.text,s.mode,n,function(e,t){for(var n=l;u<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function ye(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=be(e,re(t)),i=t.text.length>e.options.maxHighlightLength&&Y(e.doc.mode,r.state),o=ve(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function be(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ms(r,!0,t);var o=Te(e,t,n),a=o>r.first&&Q(r,o-1).stateAfter,s=a?ms.fromSaved(r,a,o):new ms(r,Z(r.mode),o);return r.iter(o,t,function(n){xe(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function xe(e,t,n,r){var i=e.doc.mode,o=new ps(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&we(i,n.state);!o.eol();)ke(i,o,n.state),o.start=o.pos}function we(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=J(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ke(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=J(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Ce(e,t,n,r){var i,o,a=e.doc,s=a.mode,l=Q(a,(t=he(a,t)).line),u=be(e,t.line,n),c=new ps(l.text,e.options.tabSize,u);for(r&&(o=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=ke(s,c,u.state),r&&o.push(new gs(c,i,Y(a.mode,u.state)));return r?o:new gs(c,i,u.state)}function Se(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function _e(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,f=new ps(t,e.options.tabSize,r),d=e.options.addModeClass&&[null];for(""==t&&Se(we(n,r.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&xe(e,t,r,f.pos),f.pos=t.length,l=null):l=Se(ke(n,f,r.state,d),o),d){var p=d[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){for(;u<f.start;)i(u=Math.min(f.start,u+5e3),c);c=l}f.start=f.pos}for(;u<f.pos;){var h=Math.min(f.pos,u+5e3);i(h,c),u=h}}function Te(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Q(o,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof hs?u.lookAhead:0)<=o.modeFrontier))return s;var c=f(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function Ae(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Q(e,r).stateAfter;if(i&&(!(i instanceof hs)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function Le(){vs=!0}function Me(){ys=!0}function Ee(e,t,n){this.marker=e,this.from=t,this.to=n}function Oe(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Pe(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function je(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Ne(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Ee(a,o.from,s?null:o.to))}}return r}function De(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Ee(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}function ze(e,t){if(t.full)return null;var n=oe(e,t.from.line)&&Q(e,t.from.line).markedSpans,r=oe(e,t.to.line)&&Q(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==le(t.from,t.to),s=Ne(n,i,a),l=De(r,o,a),u=1==t.text.length,c=m(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var p=Oe(l,d.marker);p?u&&(d.to=null==p.to?null:p.to+c):d.to=i}}if(l)for(var h=0;h<l.length;++h){var g=l[h];if(null!=g.to&&(g.to+=c),null==g.from)Oe(s,g.marker)||(g.from=c,u&&(s||(s=[])).push(g));else g.from+=c,u&&(s||(s=[])).push(g)}s&&(s=Fe(s)),l&&l!=s&&(l=Fe(l));var v=[s];if(!u){var y,b=t.text.length-2;if(b>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(y||(y=[])).push(new Ee(s[x].marker,null,null));for(var w=0;w<b;++w)v.push(y);v.push(l)}return v}function Fe(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Re(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=d(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(le(u.to,s.from)<0||le(u.from,s.to)>0)){var c=[l,1],f=le(u.from,s.from),p=le(u.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function Ie(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function $e(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function He(e){return e.inclusiveLeft?-1:0}function We(e){return e.inclusiveRight?1:0}function qe(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=le(r.from,i.from)||He(e)-He(t);if(o)return-o;var a=le(r.to,i.to)||We(e)-We(t);return a||t.id-e.id}function Be(e,t){var n,r=ys&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||qe(n,i.marker)<0)&&(n=i.marker);return n}function Ue(e){return Be(e,!0)}function Ve(e){return Be(e,!1)}function Ke(e,t){var n,r=ys&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||qe(n,o.marker)<0)&&(n=o.marker)}return n}function Ge(e,t,n,r,i){var o=Q(e,t),a=ys&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=le(u.from,n)||He(l.marker)-He(i),f=le(u.to,r)||We(l.marker)-We(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?le(u.to,n)>=0:le(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?le(u.from,r)<=0:le(u.from,r)<0)))return!0}}}function Xe(e){for(var t;t=Ue(e);)e=t.find(-1,!0).line;return e}function Ye(e){for(var t;t=Ve(e);)e=t.find(1,!0).line;return e}function Je(e){for(var t,n;t=Ve(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function Ze(e,t){var n=Q(e,t),r=Xe(n);return n==r?t:re(r)}function Qe(e,t){if(t>e.lastLine())return t;var n,r=Q(e,t);if(!et(e,r))return t;for(;n=Ve(r);)r=n.find(1,!0).line;return re(r)+1}function et(e,t){var n=ys&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&tt(e,t,r))return!0}}function tt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return tt(e,r.line,Oe(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&tt(e,t,i))return!0}function nt(e){for(var t=0,n=(e=Xe(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function rt(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Ue(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Ve(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function it(e){var t=e.display,n=e.doc;t.maxLine=Q(n,n.first),t.maxLineLength=rt(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=rt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function ot(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ie(e),$e(e,n);var i=r?r(e):1;i!=e.height&&ne(e,i)}function at(e){e.parent=null,Ie(e)}function st(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ks:ws;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function lt(e,t){var n=i("span",null,null,Sa?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,s=void 0;r.pos=0,r.addToken=ct,q(e.display.measure)&&(s=L(a,e.doc.direction))&&(r.addToken=dt(r.addToken,s)),r.map=[],ht(a,r,ye(e,a,t!=e.display.externalMeasured&&re(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=l(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=l(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(W(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Sa){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return O(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=l(r.pre.className,r.textClass||"")),r}function ut(e){var t=r("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ct(e,t,n,i,o,a,s){if(t){var l,u=e.splitSpaces?ft(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){l=document.createDocumentFragment();for(var d=0;;){c.lastIndex=d;var p=c.exec(t),m=p?p.index-d:t.length-d;if(m){var g=document.createTextNode(u.slice(d,d+m));ka&&Ca<9?l.appendChild(r("span",[g])):l.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;d+=m+1;var v=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=l.appendChild(r("span",h(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=l.appendChild(r("span","\r"==p[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),ka&&Ca<9?l.appendChild(r("span",[v])):l.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,l=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,l),ka&&Ca<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||i||o||f||a){var x=n||"";i&&(x+=i),o&&(x+=o);var w=r("span",[l],x,a);if(s)for(var k in s)s.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,s[k]);return e.content.appendChild(w)}e.content.appendChild(l)}}function ft(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function dt(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=void 0,d=0;d<t.length&&!((f=t[d]).to>u&&f.from<=u);d++);if(f.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,f.to-u),i,o,null,s,l),o=null,r=r.slice(f.to-u),u=f.to}}}function pt(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function ht(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,u,c,f,d,p=i.length,h=0,m=1,g="",v=0;;){if(v==h){l=u=c=s="",d=null,f=null,v=Infinity;for(var y=[],b=void 0,x=0;x<r.length;++x){var w=r[x],k=w.marker;if("bookmark"==k.type&&w.from==h&&k.widgetNode)y.push(k);else if(w.from<=h&&(null==w.to||w.to>h||k.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&v>w.to&&(v=w.to,u=""),k.className&&(l+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&w.from==h&&(c+=" "+k.startStyle),k.endStyle&&w.to==v&&(b||(b=[])).push(k.endStyle,w.to),k.title&&((d||(d={})).title=k.title),k.attributes)for(var C in k.attributes)(d||(d={}))[C]=k.attributes[C];k.collapsed&&(!f||qe(f.marker,k)<0)&&(f=w)}else w.from>h&&v>w.from&&(v=w.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(u+=" "+b[S]);if(!f||f.from==h)for(var _=0;_<y.length;++_)pt(t,0,y[_]);if(f&&(f.from||0)==h){if(pt(t,(null==f.to?p+1:f.to)-h,f.marker,null==f.from),null==f.to)return;f.to==h&&(f=!1)}}if(h>=p)break;for(var T=Math.min(p,v);;){if(g){var A=h+g.length;if(!f){var L=A>T?g.slice(0,T-h):g;t.addToken(t,L,a?a+l:l,c,h+L.length==v?u:"",s,d)}if(A>=T){g=g.slice(T-h),h=T;break}h=A,c=""}g=i.slice(o,o=n[m++]),a=st(n[m++],t.cm.options)}}else for(var M=1;M<n.length;M+=2)t.addToken(t,i.slice(o,o=n[M]),st(n[M+1],t.cm.options))}function mt(e,t,n){this.line=t,this.rest=Je(t),this.size=this.rest?re(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=et(e,t)}function gt(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new mt(e.doc,Q(e.doc,o),o);r=o+a.size,i.push(a)}return i}function vt(e){Cs?Cs.ops.push(e):e.ownsGroup=Cs={ops:[e],delayedCallbacks:[]}}function yt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function bt(e,t){var n=e.ownsGroup;if(n)try{yt(n)}finally{Cs=null,t(n)}}function xt(e,t){var n=M(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);Cs?r=Cs.delayedCallbacks:Ss?r=Ss:(r=Ss=[],setTimeout(wt,0));for(var o=function(e){r.push(function(){return n[e].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function wt(){var e=Ss;Ss=null;for(var t=0;t<e.length;++t)e[t]()}function kt(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Tt(e,t):"gutter"==o?Lt(e,t,n,r):"class"==o?At(e,t):"widget"==o&&Mt(e,t,r)}t.changes=null}function Ct(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ka&&Ca<8&&(e.node.style.zIndex=2)),e.node}function St(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=Ct(t);t.background=i.insertBefore(r("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function _t(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):lt(e,t)}function Tt(e,t){var n=t.text.className,r=_t(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,At(e,t)):n&&(t.text.className=n)}function At(e,t){St(e,t),t.line.wrapClass?Ct(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Lt(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Ct(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var s=Ct(t),l=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),s.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(r("div",ae(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var u=0;u<e.display.gutterSpecs.length;++u){var c=e.display.gutterSpecs[u].className,f=a.hasOwnProperty(c)&&a[c];f&&l.appendChild(r("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Mt(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);Ot(e,t,n)}function Et(e,t,n,r){var i=_t(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),At(e,t),Lt(e,t,n,r),Ot(e,t,r),t.node}function Ot(e,t,n){if(Pt(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Pt(e,t.rest[r],t,n,!1)}function Pt(e,t,n,i,o){if(t.widgets)for(var a=Ct(n),s=0,l=t.widgets;s<l.length;++s){var u=l[s],c=r("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),jt(u,c,n,i),e.display.input.setUneditable(c),o&&u.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),xt(u,"redraw")}}function jt(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Nt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Dt(e,t){for(var n=$(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function zt(e){return e.lineSpace.offsetTop}function Ft(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Rt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function It(e){return Ka-e.display.nativeBarWidth}function $t(e){return e.display.scroller.clientWidth-It(e)-e.display.barWidth}function Ht(e){return e.display.scroller.clientHeight-It(e)-e.display.barHeight}function Wt(e,t,n){var r=e.options.lineWrapping,i=r&&$t(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function qt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(re(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Bt(e,t){var r=re(t=Xe(t)),i=e.display.externalMeasured=new mt(e.doc,t,r);i.lineN=r;var o=i.built=lt(e,i);return i.text=o.pre,n(e.display.lineMeasure,o.pre),i}function Ut(e,t,n,r){return Gt(e,Kt(e,t),n,r)}function Vt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Tn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Kt(e,t){var n=re(t),r=Vt(e,n);r&&!r.text?r=null:r&&r.changes&&(kt(e,r,n,wn(e)),e.curOp.forceUpdate=!0),r||(r=Bt(e,t));var i=qt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Gt(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Wt(e,t.view,t.rect),t.hasHeights=!0),(o=Jt(e,t,n,r)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Xt(e,t,n){for(var r,i,o,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,o=1,a="left"):t<l?o=(i=t-s)+1:(u==e.length-3||t==l&&e[u+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Yt(e,t){var n=_s;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Jt(e,t,n,r){var i,o=Xt(t.map,n,r),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&C(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&C(t.line.text.charAt(o.coverStart+l));)++l;if((i=ka&&Ca<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Yt(Ra(a,s,l).getClientRects(),r)).left||i.right||0==s)break;l=s,s-=1,u="right"}ka&&Ca<11&&(i=Zt(e.display.measure,i))}else{var f;s>0&&(u=r="right"),i=e.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(ka&&Ca<9&&!s&&(!i||!i.left&&!i.right)){var d=a.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+xn(e.display),top:d.top,bottom:d.bottom}:_s}for(var p=i.top-t.rect.top,h=i.bottom-t.rect.top,m=(p+h)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var y=v?g[v-1]:0,b=g[v],x={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=p,x.rbottom=h),x}function Zt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!B(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Qt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function en(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Qt(e.display.view[n])}function tn(e){en(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function nn(){return Ta&&Pa?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rn(){return Ta&&Pa?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function on(e){var t=0
;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Nt(e.widgets[n]));return t}function an(e,t,n,r,i){if(!i){var o=on(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=nt(t);if("local"==r?a+=zt(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:rn());var l=s.left+("window"==r?0:nn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function sn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=nn(),i-=rn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function ln(e,t,n,r,i){return r||(r=Q(e.doc,t.line)),an(e,r,Ut(e,r,t.ch,i),n)}function un(e,t,n,r,i,o){function a(t,a){var s=Gt(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,an(e,r,s,n)}function s(e,t,n){return a(n?e-1:e,1==l[t].level!=n)}r=r||Q(e.doc,t.line),i||(i=Kt(e,r));var l=L(r,e.doc.direction),u=t.ch,c=t.sticky;if(u>=r.text.length?(u=r.text.length,c="before"):u<=0&&(u=0,c="after"),!l)return a("before"==c?u-1:u,"before"==c);var f=A(l,u,c),d=ts,p=s(u,f,"before"==c);return null!=d&&(p.other=s(u,d,"before"!=c)),p}function cn(e,t){var n=0;t=he(e.doc,t),e.options.lineWrapping||(n=xn(e.display)*t.ch);var r=Q(e.doc,t.line),i=nt(r)+zt(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function fn(e,t,n,r,i){var o=se(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function dn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return fn(r.first,0,null,!0,-1);var i=ie(r,n),o=r.first+r.size-1;if(i>o)return fn(r.first+r.size-1,Q(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=Q(r,i);;){var s=gn(e,a,i,t,n),l=Ke(a,s.ch+(s.xRel>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;a=Q(r,i=u.line)}}function pn(e,t,n,r){r-=on(t);var i=t.text.length,o=_(function(t){return Gt(e,n,t-1).bottom<=r},i,0);return{begin:o,end:i=_(function(t){return Gt(e,n,t).top>r},o,i)}}function hn(e,t,n,r){return n||(n=Kt(e,t)),pn(e,t,n,an(e,t,Gt(e,n,r),"line").top)}function mn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function gn(e,t,n,r,i){i-=nt(t);var o=Kt(e,t),a=on(t),s=0,l=t.text.length,u=!0,c=L(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?yn:vn)(e,t,n,o,c,r,i);s=(u=1!=f.level)?f.from:f.to-1,l=u?f.to:f.from-1}var d,p,h=null,m=null,g=_(function(t){var n=Gt(e,o,t);return n.top+=a,n.bottom+=a,!!mn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(h=t,m=n),!0)},s,l),v=!1;if(m){var y=r-m.left<m.right-r,b=y==u;g=h+(b?0:1),p=b?"after":"before",d=y?m.left:m.right}else{u||g!=l&&g!=s||g++,p=0==g?"after":g==t.text.length?"before":Gt(e,o,g-(u?1:0)).bottom+a<=i==u?"after":"before";var x=un(e,se(n,g,p),"line",t,o);d=x.left,v=i<x.top||i>=x.bottom}return fn(n,g=S(t.text,g,1),p,v,r-d)}function vn(e,t,n,r,i,o,a){var s=_(function(s){var l=i[s],u=1!=l.level;return mn(un(e,se(n,u?l.to:l.from,u?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=un(e,se(n,u?l.from:l.to,u?"after":"before"),"line",t,r);mn(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function yn(e,t,n,r,i,o,a){var s=pn(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,f=null,d=0;d<i.length;d++){var p=i[d];if(!(p.from>=u||p.to<=l)){var h=Gt(e,r,1!=p.level?Math.min(u,p.to)-1:Math.max(l,p.from)).right,m=h<o?o-h+1e9:h-o;(!c||f>m)&&(c=p,f=m)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function bn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==xs){xs=r("pre");for(var i=0;i<49;++i)xs.appendChild(document.createTextNode("x")),xs.appendChild(r("br"));xs.appendChild(document.createTextNode("x"))}n(e.measure,xs);var o=xs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function xn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),i=r("pre",[t]);n(e.measure,i);var o=t.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function wn(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:kn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function kn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Cn(e){var t=bn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/xn(e.display)-3);return function(i){if(et(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Sn(e){var t=e.doc,n=Cn(e);t.iter(function(e){var t=n(e);t!=e.height&&ne(e,t)})}function _n(e,t,n,r){var i=e.display;if(!n&&"true"==$(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=dn(e,o,a);if(r&&1==u.xRel&&(l=Q(e.doc,u.line).text).length==u.ch){var c=f(l,l.length,e.options.tabSize)-l.length;u=se(u.line,Math.max(0,Math.round((o-Rt(e.display).left)/xn(e.display))-c))}return u}function Tn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function An(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ys&&Ze(e.doc,t)<i.viewTo&&Mn(e);else if(n<=i.viewFrom)ys&&Qe(e.doc,n+r)>i.viewFrom?Mn(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Mn(e);else if(t<=i.viewFrom){var o=En(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Mn(e)}else if(n>=i.viewTo){var a=En(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Mn(e)}else{var s=En(e,t,t,-1),l=En(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(gt(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Mn(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function Ln(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Tn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==d(a,n)&&a.push(n)}}}function Mn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function En(e,t,n,r){var i,o=Tn(e,t),a=e.display.view;if(!ys||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;Ze(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function On(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=gt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=gt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Tn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(gt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Tn(e,n)))),r.viewTo=n}function Pn(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function jn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Nn(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Dn(e,s.head,i),l||Fn(e,s,o)}}return r}function Dn(e,t,n){var i=un(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(r("div","\xa0","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var a=n.appendChild(r("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function zn(e,t){return e.top-t.top||e.left-t.left}function Fn(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),l.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?f-e:n)+"px;\n                             height: "+(i-t)+"px"))}function o(t,n,r){function o(n,r){return ln(e,se(t,n),"div",p,r)}function a(t,n,r){var i=hn(e,p,null,t),a="ltr"==n==("after"==r)?"left":"right";return o("after"==r?i.begin:i.end-(/\s/.test(p.text.charAt(i.end-1))?2:1),a)[a]}var l,u,p=Q(s,t),h=p.text.length,m=L(p,s.direction);return T(m,n||0,null==r?h:r,function(e,t,s,p){var g="ltr"==s,v=o(e,g?"left":"right"),y=o(t-1,g?"right":"left"),b=null==n&&0==e,x=null==r&&t==h,w=0==p,k=!m||p==m.length-1;if(y.top-v.top<=3){var C=(d?x:b)&&k,S=(d?b:x)&&w?c:(g?v:y).left,_=C?f:(g?y:v).right;i(S,v.top,_-S,v.bottom)}else{var T,A,L,M;g?(T=d&&b&&w?c:v.left,A=d?f:a(e,s,"before"),L=d?c:a(t,s,"after"),M=d&&x&&k?f:y.right):(T=d?a(e,s,"before"):c,A=!d&&b&&w?f:v.right,L=!d&&x&&k?c:y.left,M=d?a(t,s,"after"):f),i(T,v.top,A-T,v.bottom),v.bottom<y.top&&i(c,v.bottom,null,y.top),i(L,y.top,M-L,y.bottom)}(!l||zn(v,l)<0)&&(l=v),zn(y,l)<0&&(l=y),(!u||zn(v,u)<0)&&(u=v),zn(y,u)<0&&(u=y)}),{start:l,end:u}}var a=e.display,s=e.doc,l=document.createDocumentFragment(),u=Rt(e.display),c=u.left,f=Math.max(a.sizerWidth,$t(e)-a.sizer.offsetLeft)-u.right,d="ltr"==s.direction,p=t.from(),h=t.to();if(p.line==h.line)o(p.line,p.ch,h.ch);else{var m=Q(s,p.line),g=Q(s,h.line),v=Xe(m)==Xe(g),y=o(p.line,p.ch,v?m.text.length+1:null).end,b=o(h.line,v?0:null,h.ch).start;v&&(y.top<b.top-2?(i(y.right,y.top,null,y.bottom),i(c,b.top,b.left,b.bottom)):i(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&i(c,y.bottom,null,b.top)}n.appendChild(l)}function Rn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function In(e){e.state.focused||(e.display.input.focus(),Hn(e))}function $n(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Wn(e))},100)}function Hn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(O(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Sa&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Rn(e))}function Wn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(O(e,"blur",e,t),e.state.focused=!1,Ha(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function qn(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,a=void 0,s=0;if(!i.hidden){if(ka&&Ca<8){var l=i.node.offsetTop+i.node.offsetHeight;a=l-n,n=l}else{var u=i.node.getBoundingClientRect();a=u.bottom-u.top,!o&&i.text.firstChild&&(s=i.text.firstChild.getBoundingClientRect().right-u.left-1)}var c=i.line.height-a;if((c>.005||c<-.005)&&(ne(i.line,a),Bn(i.line),i.rest))for(var f=0;f<i.rest.length;f++)Bn(i.rest[f]);if(s>e.display.sizerWidth){var d=Math.ceil(s/xn(e.display));d>e.display.maxLineLength&&(e.display.maxLineLength=d,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Bn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Un(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-zt(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=ie(t,r),a=ie(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=ie(t,nt(Q(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=ie(t,nt(Q(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Vn(e,t){if(!P(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Ea){var a=r("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-zt(e.display))+"px;\n                         height: "+(t.bottom-t.top+It(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function Kn(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?se(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?se(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=un(e,t),l=n&&n!=t?un(e,n):s,u=Xn(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(nr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(ir(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}function Gn(e,t){var n=Xn(e,t);null!=n.scrollTop&&nr(e,n.scrollTop),null!=n.scrollLeft&&ir(e,n.scrollLeft)}function Xn(e,t){var n=e.display,r=bn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Ht(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Ft(n),l=t.top<r,u=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,d=$t(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),p=t.right-t.left>d;return p&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>d+f-3&&(a.scrollLeft=t.right+(p?0:10)-d),a}function Yn(e,t){null!=t&&(er(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Jn(e){er(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Zn(e,t,n){null==t&&null==n||er(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Qn(e,t){er(e),e.curOp.scrollToPos=t}function er(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,tr(e,cn(e,t.from),cn(e,t.to),t.margin))}function tr(e,t,n,r){var i=Xn(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Zn(e,i.scrollLeft,i.scrollTop)}function nr(e,t){Math.abs(e.doc.scrollTop-t)<2||(ya||Lr(e,{top:t}),rr(e,t,!0),ya&&Lr(e),wr(e,100))}function rr(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ir(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Pr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function or(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Ft(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+It(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function ar(e,t){t||(t=or(e));var n=e.display.barWidth,r=e.display.barHeight;sr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&qn(e),sr(e,or(e)),n=e.display.barWidth,r=e.display.barHeight}function sr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function lr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ha(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ls[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),is(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?ir(e,t):nr(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function ur(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ms},vt(e.curOp)}function cr(e){var t=e.curOp;t&&bt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;fr(e)})}function fr(e){for(var t=e.ops,n=0;n<t.length;n++)dr(t[n]);for(var r=0;r<t.length;r++)pr(t[r]);for(var i=0;i<t.length;i++)hr(t[i]);for(var o=0;o<t.length;o++)mr(t[o]);for(var a=0;a<t.length;a++)gr(t[a])}function dr(e){var t=e.cm,n=t.display;Cr(t),e.updateMaxLine&&it(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Es(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function pr(e){e.updatedDisplay=e.mustUpdate&&Tr(e.cm,e.update)}function hr(e){var t=e.cm,n=t.display;e.updatedDisplay&&qn(t),e.barMeasure=or(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ut(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+It(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-$t(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function mr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ir(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==a();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ar(t,e.barMeasure),e.updatedDisplay&&Or(t,e.barMeasure),e.selectionChanged&&Rn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&In(e.cm)}function gr(e){var t=e.cm,n=t.display,r=t.doc;(e.updatedDisplay&&Ar(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&rr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ir(t,e.scrollLeft,!0,!0),e.scrollToPos)&&Vn(t,Kn(t,he(r,e.scrollToPos.from),he(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||O(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&O(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&O(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function vr(e,t){if(e.curOp)return t();ur(e);try{return t()}finally{cr(e)}}function yr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ur(e);try{return t.apply(e,arguments)}finally{cr(e)}}}function br(e){return function(){if(this.curOp)return e.apply(this,arguments);ur(this);try{return e.apply(this,arguments)}finally{cr(this)}}}function xr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ur(t);try{return e.apply(this,arguments)}finally{cr(t)}}}function wr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(kr,e))}function kr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=be(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Y(t.mode,r.state):null,l=ve(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=o.styles[d];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&xe(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return wr(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&vr(e,function(){for(var t=0;t<i.length;t++)Ln(e,i[t],"text")})}}function Cr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=It(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=It(e)+"px",t.scrollbarsClipped=!0)}function Sr(e){if(e.hasFocus())return null;var t=a();if(!t||!o(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&o(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function _r(e){if(e&&e.activeElt&&e.activeElt!=a()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Tr(e,n){var r=e.display,i=e.doc;if(n.editorIsHidden)return Mn(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Pn(e))return!1;jr(e)&&(Mn(e),n.dims=wn(e));var o=i.first+i.size,a=Math.max(n.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,n.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(o,r.viewTo)),ys&&(a=Ze(e.doc,a),s=Qe(e.doc,s));var l=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;On(e,a,s),r.viewOffset=nt(Q(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=Pn(e);if(!l&&0==u&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=Sr(e);return u>4&&(r.lineDiv.style.display="none"),Mr(e,r.updateLineNumbers,n.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,_r(c),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,wr(e,400)),r.updateLineNumbers=null,!0}function Ar(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=$t(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ft(e.display)-Ht(e),n.top)}),t.visible=Un(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Tr(e,t);r=!1){qn(e);var i=or(e);jn(e),ar(e,i),Or(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Lr(e,t){var n=new Es(e,t);if(Tr(e,n)){qn(e),Ar(e,n);var r=or(e);jn(e),ar(e,r),Or(e,r),n.finish()}}function Mr(e,n,r){function i(t){var n=t.nextSibling;return Sa&&Na&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,a=e.options.lineNumbers,s=o.lineDiv,l=s.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var p=u[f];if(p.hidden);else if(p.node&&p.node.parentNode==s){for(;l!=p.node;)l=i(l);var h=a&&null!=n&&n<=c&&p.lineNumber;p.changes&&(d(p.changes,"gutter")>-1&&(h=!1),kt(e,p,c,r)),h&&(t(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(ae(e.options,c)))),l=p.node.nextSibling}else{var m=Et(e,p,c,r);s.insertBefore(m,l)}c+=p.size}for(;l;)l=i(l)}function Er(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Or(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+It(e)+"px"}function Pr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=kn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function jr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=ae(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Er(e.display),!0}return!1}function Nr(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Dr(e){var n=e.gutters,i=e.gutterSpecs;t(n),e.lineGutter=null;for(var o=0;o<i.length;++o){var a=i[o],s=a.className,l=a.style,u=n.appendChild(r("div",null,"CodeMirror-gutter "+s));l&&(u.style.cssText=l),"CodeMirror-linenumbers"==s&&(e.lineGutter=u,u.style.width=(e.lineNumWidth||1)+"px")}n.style.display=i.length?"":"none",Er(e)}function zr(e){Dr(e.display),An(e),Pr(e)}function Fr(e,t,n,o){var a=this;this.input=n,a.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=i("div",null,"CodeMirror-code"),a.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=r("div",null,"CodeMirror-cursors"),a.measure=r("div",null,"CodeMirror-measure"),a.lineMeasure=r("div",null,"CodeMirror-measure"),a.lineSpace=i("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var s=i("div",[a.lineSpace],"CodeMirror-lines");a.mover=r("div",[s],null,"position: relative"),a.sizer=r("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=r("div",null,null,"position: absolute; height: "+Ka+"px; width: 1px;"),a.gutters=r("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=r("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=r("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),ka&&Ca<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),Sa||ya&&ja||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=Nr(o.gutters,o.lineNumbers),Dr(a),n.init(a)}function Rr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Ir(e){var t=Rr(e);return t.x*=Ps,t.y*=Ps,t}function $r(e,t){var n=Rr(t),r=n.x,i=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&Na&&Sa)e:for(var u=t.target,c=o.view;u!=a;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(r&&!ya&&!Aa&&null!=Ps)return i&&l&&nr(e,Math.max(0,a.scrollTop+i*Ps)),ir(e,Math.max(0,a.scrollLeft+r*Ps)),(!i||i&&l)&&z(t),void(o.wheelStartX=null);if(i&&null!=Ps){var d=i*Ps,p=e.doc.scrollTop,h=p+o.wrapper.clientHeight;d<0?p=Math.max(0,p+d-50):h=Math.min(e.doc.height,h+d+50),Lr(e,{top:p,bottom:h})}Os<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ps=(Ps*Os+n)/(Os+1),++Os)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Hr(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(e,t){return le(e.from(),t.from())}),n=d(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=le(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var u=de(s.from(),a.from()),c=fe(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new Ns(f?c:u,f?u:c))}}return new js(t,n)}function Wr(e,t){return new js([new Ns(e,t||e)],0)}function qr(e){return e.text?se(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Br(e,t){if(le(e,t.from)<0)return e;if(le(e,t.to)<=0)return qr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=qr(t).ch-t.to.ch),se(n,r)}function Ur(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Ns(Br(i.anchor,t),Br(i.head,t)))}return Hr(e.cm,n,e.sel.primIndex)}function Vr(e,t,n){return e.line==t.line?se(n.line,e.ch-t.ch+n.ch):se(n.line+(e.line-t.line),e.ch)}function Kr(e,t,n){for(var r=[],i=se(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=Vr(s.from,i,o),u=Vr(qr(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],f=le(c.head,c.anchor)<0;r[a]=new Ns(f?u:l,f?l:u)}else r[a]=new Ns(l,l)}return new js(r,e.sel.primIndex)}function Gr(e){e.doc.mode=G(e.options,e.doc.modeOption),Xr(e)}function Xr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,wr(e,100),e.state.modeGen++,e.curOp&&An(e)}function Yr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Jr(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){ot(e,n,i,r),xt(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new bs(u[o],i(o),r));return n}var s=t.from,l=t.to,u=t.text,c=Q(e,s.line),f=Q(e,l.line),d=m(u),p=i(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(Yr(e,t)){
var g=a(0,u.length-1);o(f,f.text,p),h&&e.remove(s.line,h),g.length&&e.insert(s.line,g)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),p);else{var v=a(1,u.length-1);v.push(new bs(d+c.text.slice(l.ch),p,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,v)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(s.line+1,h);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,d+f.text.slice(l.ch),p);var y=a(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,y)}xt(e,"change",e,t)}function Zr(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Qr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Sn(e),Gr(e),ei(e),e.options.lineWrapping||it(e),e.options.mode=t.modeOption,An(e)}function ei(e){("rtl"==e.doc.direction?s:Ha)(e.display.lineDiv,"CodeMirror-rtl")}function ti(e){vr(e,function(){ei(e),An(e)})}function ni(e){this.done=[],this.undone=[],this.undoDepth=Infinity,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ri(e,t){var n={from:ce(t.from),to:qr(t),text:ee(e,t.from,t.to)};return ci(e,n,t.from.line,t.to.line+1),Zr(e,function(e){return ci(e,n,t.from.line,t.to.line+1)},!0),n}function ii(e){for(;e.length;){if(!m(e).ranges)break;e.pop()}}function oi(e,t){return t?(ii(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function ai(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=oi(i,i.lastOp==r)))a=m(o.changes),0==le(t.from,t.to)&&0==le(t.from,a.to)?a.to=qr(t):o.changes.push(ri(e,t));else{var l=m(i.done);for(l&&l.ranges||ui(e.sel,i.done),o={changes:[ri(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||O(e,"historyAdded")}function si(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function li(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||si(e,o,m(i.done),t))?i.done[i.done.length-1]=t:ui(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ii(i.undone)}function ui(e,t){var n=m(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ci(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function fi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function di(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(fi(n[i]));return r}function pi(e,t){var n=di(e,t),r=ze(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function hi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?js.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&d(t,Number(c[1]))>-1&&(m(s)[f]=u[f],delete u[f])}}}return r}function mi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=le(t,i)<0;o!=le(n,i)<0?(i=t,t=n):o!=le(t,n)<0&&(t=n)}return new Ns(i,t)}return new Ns(n||t,t)}function gi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),ki(e,new js([mi(e.sel.primary(),t,n,i)],0),r)}function vi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=mi(e.sel.ranges[o],t[o],null,i);ki(e,Hr(e.cm,r,e.sel.primIndex),n)}function yi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,ki(e,Hr(e.cm,i,e.sel.primIndex),r)}function bi(e,t,n,r){ki(e,Wr(t,n),r)}function xi(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new Ns(he(e,t[r].anchor),he(e,t[r].head))},origin:n&&n.origin};return O(e,"beforeSelectionChange",e,r),e.cm&&O(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Hr(e.cm,r.ranges,r.ranges.length-1):t}function wi(e,t,n){var r=e.history.done,i=m(r);i&&i.ranges?(r[r.length-1]=t,Ci(e,t,n)):ki(e,t,n)}function ki(e,t,n){Ci(e,t,n),li(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ci(e,t,n){(N(e,"beforeSelectionChange")||e.cm&&N(e.cm,"beforeSelectionChange"))&&(t=xi(e,t,n)),Si(e,Ti(e,t,n&&n.bias||(le(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Jn(e.cm)}function Si(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,j(e.cm)),xt(e,"cursorActivity",e))}function _i(e){Si(e,Ti(e,e.sel,null,!1))}function Ti(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Li(e,a.anchor,s&&s.anchor,n,r),u=Li(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Ns(l,u))}return i?Hr(e.cm,i,t.primIndex):t}function Ai(e,t,n,r,i){var o=Q(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(O(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u=l.find(r<0?1:-1),c=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Mi(e,u,-r,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=le(u,n))&&(r<0?c<0:c>0))return Ai(e,u,t,r,i)}var f=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(f=Mi(e,f,r,f.line==t.line?o:null)),f?Ai(e,f,t,r,i):null}}return t}function Li(e,t,n,r,i){var o=r||1,a=Ai(e,t,n,o,i)||!i&&Ai(e,t,n,o,!0)||Ai(e,t,n,-o,i)||!i&&Ai(e,t,n,-o,!0);return a||(e.cantEdit=!0,se(e.first,0))}function Mi(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?he(e,se(t.line-1)):null:n>0&&t.ch==(r||Q(e,t.line)).text.length?t.line<e.first+e.size-1?se(t.line+1,0):null:new se(t.line,t.ch+n)}function Ei(e){e.setSelection(se(e.firstLine(),0),se(e.lastLine()),Xa)}function Oi(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=he(e,t)),n&&(r.to=he(e,n)),i&&(r.text=i),o!==undefined&&(r.origin=o)}),O(e,"beforeChange",e,r),e.cm&&O(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Pi(e,t,n){if(e.cm){if(!e.cm.curOp)return yr(e.cm,Pi)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(N(e,"beforeChange")||e.cm&&N(e.cm,"beforeChange"))||(t=Oi(e,t,!0))){var r=vs&&!n&&Re(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)ji(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else ji(e,t)}}function ji(e,t){if(1!=t.text.length||""!=t.text[0]||0!=le(t.from,t.to)){var n=Ur(e,t);ai(e,t,n,e.cm?e.cm.curOp.id:NaN),zi(e,t,n,ze(e,t));var r=[];Zr(e,function(e,n){n||-1!=d(r,e.history)||(Hi(e.history,t),r.push(e.history)),zi(e,t,null,ze(e,t))})}}function Ni(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],n?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(ui(i,l),n&&!i.equals(e.sel))return void ki(e,i,{clearRedo:!1});a=i}var c=[];ui(a,l),l.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=N(e,"beforeChange")||e.cm&&N(e.cm,"beforeChange"),p=function(n){var r=i.changes[n];if(r.origin=t,f&&!Oi(e,r,!1))return s.length=0,{};c.push(ri(e,r));var o=n?Ur(e,r):m(s);zi(e,r,o,pi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:qr(r)});var a=[];Zr(e,function(e,t){t||-1!=d(a,e.history)||(Hi(e.history,r),a.push(e.history)),zi(e,r,null,pi(e,r))})},h=i.changes.length-1;h>=0;--h){var g=p(h);if(g)return g.v}}}}function Di(e,t){if(0!=t&&(e.first+=t,e.sel=new js(g(e.sel.ranges,function(e){return new Ns(se(e.anchor.line+t,e.anchor.ch),se(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){An(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Ln(e.cm,r,"gutter")}}function zi(e,t,n,r){if(e.cm&&!e.cm.curOp)return yr(e.cm,zi)(e,t,n,r);if(t.to.line<e.first)Di(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Di(e,i),t={from:se(e.first,0),to:se(t.to.line+i,t.to.ch),text:[m(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:se(o,Q(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ee(e,t.from,t.to),n||(n=Ur(e,t)),e.cm?Fi(e.cm,t,r):Jr(e,t,r),Ci(e,n,Xa)}}function Fi(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=re(Xe(Q(r,o.line))),r.iter(l,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&j(e),Jr(r,t,n,Cn(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=rt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),Ae(r,o.line),wr(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?An(e):o.line!=a.line||1!=t.text.length||Yr(e.doc,t)?An(e,o.line,a.line+1,u):Ln(e,o.line,"text");var c=N(e,"changes"),f=N(e,"change");if(f||c){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&xt(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function Ri(e,t,n,r,i){var o;r||(r=n),le(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Pi(e,{from:n,to:r,text:t,origin:i})}function Ii(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function $i(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)Ii(o.ranges[s].anchor,t,n,r),Ii(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=se(u.from.line+r,u.from.ch),u.to=se(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Hi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;$i(e.done,n,r,i),$i(e.undone,n,r,i)}function Wi(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Q(e,pe(e,t)):i=re(t),null==i?null:(r(o,i)&&e.cm&&Ln(e.cm,i,n),o)}function qi(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function Bi(e){var t=this;this.children=e;for(var n=0,r=0,i=0;i<e.length;++i){var o=e[i];n+=o.chunkSize(),r+=o.height,o.parent=t}this.size=n,this.height=r,this.parent=null}function Ui(e,t,n){nt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Yn(e,n)}function Vi(e,t,n,r){var i=new Ds(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Wi(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!et(e,t)){var r=nt(t)<e.scrollTop;ne(t,t.height+Nt(i)),r&&Yn(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&xt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:re(t)),i}function Ki(e,t,n,r,o){if(r&&r.shared)return Gi(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return yr(e.cm,Ki)(e,t,n,r,o);var a=new Fs(e,o),s=le(t,n);if(r&&c(r,a,!1),s>0||0==s&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=i("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Ge(e,t.line,t,n,a)||t.line!=n.line&&Ge(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Me()}a.addToHistory&&ai(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,u=t.line,f=e.cm;if(e.iter(u,n.line+1,function(e){f&&a.collapsed&&!f.options.lineWrapping&&Xe(e)==f.display.maxLine&&(l=!0),a.collapsed&&u!=t.line&&ne(e,0),je(e,new Ee(a,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u}),a.collapsed&&e.iter(t.line,n.line+1,function(t){et(e,t)&&ne(t,0)}),a.clearOnEnter&&is(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(Le(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++zs,a.atomic=!0),f){if(l&&(f.curOp.updateMaxLine=!0),a.collapsed)An(f,t.line,n.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var d=t.line;d<=n.line;d++)Ln(f,d,"text");a.atomic&&_i(f.doc),xt(f,"markerAdded",f,a)}return a}function Gi(e,t,n,r,i){(r=c(r)).shared=!1;var o=[Ki(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Zr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Ki(e,he(e,t),he(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=m(o)}),new Rs(o,a)}function Xi(e){return e.findMarks(se(e.first,0),e.clipPos(se(e.lastLine())),function(e){return e.parent})}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(le(o,a)){var s=Ki(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Ji(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Zr(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==d(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}function Zi(e){var t=this;if(to(t),!P(t,e)&&!Dt(t.display,e)){z(e),ka&&(Hs=+new Date);var n=_n(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(e,r){if(!t.options.allowDropFileTypes||-1!=d(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=yr(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++a==i){var l={from:n=he(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Pi(t.doc,l),wi(t.doc,Wr(n,qr(l)))}}),s.readAsText(e)}},l=0;l<i;++l)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var c;if(t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),Ci(t.doc,Wr(n,n)),c)for(var f=0;f<c.length;++f)Ri(t.doc,"",c[f].anchor,c[f].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Qi(e,t){if(ka&&(!e.state.draggingText||+new Date-Hs<100))I(t);else if(!P(e,t)&&!Dt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!La)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Aa&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Aa&&n.parentNode.removeChild(n)}}function eo(e,t){var i=_n(e,t);if(i){var o=document.createDocumentFragment();Dn(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function to(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function no(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}function ro(){Ws||(io(),Ws=!0)}function io(){var e;is(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,no(oo)},100))}),is(window,"blur",function(){return no(Wn)})}function oo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function ao(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function so(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=g(n.split(" "),ao),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function lo(e,t,n,r){var i=(t=po(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return lo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=lo(e,t.fallthrough[o],n,r);if(a)return a}}}function uo(e){var t="string"==typeof e?e:qs[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function co(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(Ia?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(Ia?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function fo(e,t){if(Aa&&34==e.keyCode&&e.char)return!1;var n=qs[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),co(n,e,t))}function po(e){return"string"==typeof e?Ks[e]:e}function ho(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&le(o.from,m(r).to)<=0;){var a=r.pop();if(le(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}vr(e,function(){for(var t=r.length-1;t>=0;t--)Ri(e.doc,"",r[t].from,r[t].to,"+delete");Jn(e)})}function mo(e,t,n){var r=S(e.text,t+n,n);return r<0||r>e.text.length?null:r}function go(e,t,n){var r=mo(e,t.ch,n);return null==r?null:new se(t.line,r,n<0?"after":"before")}function vo(e,t,n,r,i){if(e){var o=L(n,t.doc.direction);if(o){var a,s=i<0?m(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=Kt(t,n);a=i<0?n.text.length-1:0;var c=Gt(t,u,a).top;a=_(function(e){return Gt(t,u,e).top==c},i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=mo(n,a,1))}else a=i<0?s.to:s.from;return new se(r,a,l)}}return new se(r,i<0?n.text.length:0,i<0?"before":"after")}function yo(e,t,n,r){var i=L(t,e.doc.direction);if(!i)return go(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=A(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return go(t,n,r);var s,l=function(e,n){return mo(t,e instanceof se?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||Kt(e,t),hn(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,d=l(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=c.end:d>=a.from&&d>=c.begin)){var p=f?"before":"after";return new se(n.line,d,p)}}var h=function(e,t,r){for(var o=function(e,t){return t?new se(n.line,l(e,1),"before"):new se(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return o(u,s)}},m=h(o+r,r,c);if(m)return m;var g=r>0?c.end:l(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=h(r>0?0:i.length-1,r,u(g)))?null:m}function bo(e,t){var n=Q(e.doc,t),r=Xe(n);return r!=n&&(t=re(r)),vo(!0,e,r,t,1)}function xo(e,t){var n=Q(e.doc,t),r=Ye(n);return r!=n&&(t=re(r)),vo(!0,e,n,t,-1)}function wo(e,t){var n=bo(e,t.line),r=Q(e.doc,n.line),i=L(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return se(n.line,a?0:o,n.sticky)}return n}function ko(e,t,n){if("string"==typeof t&&!(t=Ys[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Ga}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Co(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=lo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&lo(t,e.options.extraKeys,n,e)||lo(t,e.options.keyMap,n,e)}function So(e,t,n,r){var i=e.state.keySeq;if(i){if(uo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Js.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),_o(e,i+" "+t,n,r))return!0}return _o(e,t,n,r)}function _o(e,t,n,r){var i=Co(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&xt(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(z(n),Rn(e)),!!i}function To(e,t){var n=fo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?So(e,"Shift-"+n,t,function(t){return ko(e,t,!0)})||So(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ko(e,t)}):So(e,n,t,function(t){return ko(e,t)}))}function Ao(e,t,n){return So(e,"'"+n+"'",t,function(t){return ko(e,t,!0)})}function Lo(e){var t=this;if(t.curOp.focus=a(),!P(t,e)){ka&&Ca<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=To(t,e);Aa&&(Zs=r?n:null,!r&&88==n&&!ls&&(Na?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Mo(t)}}function Mo(e){function t(e){18!=e.keyCode&&e.altKey||(Ha(n,"CodeMirror-crosshair"),E(document,"keyup",t),E(document,"mouseover",t))}var n=e.display.lineDiv;s(n,"CodeMirror-crosshair"),is(document,"keyup",t),is(document,"mouseover",t)}function Eo(e){16==e.keyCode&&(this.doc.sel.shift=!1),P(this,e)}function Oo(e){var t=this;if(!(Dt(t.display,e)||P(t,e)||e.ctrlKey&&!e.altKey||Na&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Aa&&n==Zs)return Zs=null,void z(e);if(!Aa||e.which&&!(e.which<10)||!To(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(Ao(t,e,i)||t.display.input.onKeyPress(e))}}}function Po(e,t){var n=+new Date;return Xs&&Xs.compare(n,e,t)?(Gs=Xs=null,"triple"):Gs&&Gs.compare(n,e,t)?(Xs=new el(n,e,t),Gs=null,"double"):(Gs=new el(n,e,t),Xs=null,"single")}function jo(e){var t=this,n=t.display;if(!(P(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Dt(n,e))Sa||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!Wo(t,e)){var r=_n(t,e),i=H(e),o=r?Po(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&No(t,i,r,o,e)||(1==i?r?zo(t,r,o,e):$(e)==n.scroller&&z(e):2==i?(r&&gi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&($a?t.display.input.onContextMenu(e):$n(t)))}}function No(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),So(e,co(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=Ys[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=Ga}finally{e.state.suppressEdits=!1}return r})}function Do(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=Da?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=Na?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Na?n.altKey:n.ctrlKey)),i}function zo(e,t,n,r){ka?setTimeout(u(In,e),0):e.curOp.focus=a();var i,o=Do(e,n,r),s=e.doc.sel;e.options.dragDrop&&os&&!e.isReadOnly()&&"single"==n&&(i=s.contains(t))>-1&&(le((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(le(i.to(),t)>0||t.xRel<0)?Fo(e,r,t,o):Io(e,r,t,o)}function Fo(e,t,n,r){var i=e.display,o=!1,a=yr(e,function(t){Sa&&(i.scroller.draggable=!1),e.state.draggingText=!1,E(i.wrapper.ownerDocument,"mouseup",a),E(i.wrapper.ownerDocument,"mousemove",s),E(i.scroller,"dragstart",l),E(i.scroller,"drop",a),o||(z(t),r.addNew||gi(e.doc,n,null,null,r.extend),Sa||ka&&9==Ca?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},l=function(){return o=!0};Sa&&(i.scroller.draggable=!0),e.state.draggingText=a,a.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),is(i.wrapper.ownerDocument,"mouseup",a),is(i.wrapper.ownerDocument,"mousemove",s),is(i.scroller,"dragstart",l),is(i.scroller,"drop",a),$n(e),setTimeout(function(){return i.input.focus()},20)}function Ro(e,t,n){if("char"==n)return new Ns(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Ns(se(t.line,0),he(e.doc,se(t.line+1,0)));var r=n(e,t);return new Ns(r.from,r.to)}function Io(e,t,n,r){function i(t){if(0!=le(v,t))if(v=t,"rectangle"==r.unit){for(var i=[],o=e.options.tabSize,a=f(Q(u,n.line).text,n.ch,o),s=f(Q(u,t.line).text,t.ch,o),l=Math.min(a,s),m=Math.max(a,s),g=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=y;g++){var b=Q(u,g).text,x=p(b,l,o);l==m?i.push(new Ns(se(g,x),se(g,x))):b.length>x&&i.push(new Ns(se(g,x),se(g,p(b,m,o))))}i.length||i.push(new Ns(n,n)),ki(u,Hr(e,h.ranges.slice(0,d).concat(i),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var w,k=c,C=Ro(e,t,r.unit),S=k.anchor;le(C.anchor,S)>0?(w=C.head,S=de(k.from(),C.anchor)):(w=C.anchor,S=fe(k.to(),C.head));var _=h.ranges.slice(0);_[d]=$o(e,new Ns(he(u,S),w)),ki(u,Hr(e,_,d),Ya)}}function o(t){var n=++b,s=_n(e,t,!0,"rectangle"==r.unit);if(s)if(0!=le(s,v)){e.curOp.focus=a(),i(s);var c=Un(l,u);(s.line>=c.to||s.line<c.from)&&setTimeout(yr(e,function(){b==n&&o(t)}),150)}else{var f=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;f&&setTimeout(yr(e,function(){b==n&&(l.scroller.scrollTop+=f,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=Infinity,t&&(z(t),l.input.focus()),E(l.wrapper.ownerDocument,"mousemove",x),E(l.wrapper.ownerDocument,"mouseup",w),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;z(t);var c,d,h=u.sel,m=h.ranges;if(r.addNew&&!r.extend?(d=u.sel.contains(n),c=d>-1?m[d]:new Ns(n,n)):(c=u.sel.primary(),d=u.sel.primIndex),"rectangle"==r.unit)r.addNew||(c=new Ns(n,n)),n=_n(e,t,!0,!0),d=-1;else{var g=Ro(e,n,r.unit);c=r.extend?mi(c,g.anchor,g.head,r.extend):g}r.addNew?-1==d?(d=m.length,ki(u,Hr(e,m.concat([c]),d),{scroll:!1,origin:"*mouse"})):m.length>1&&m[d].empty()&&"char"==r.unit&&!r.extend?(ki(u,Hr(e,m.slice(0,d).concat(m.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),h=u.sel):yi(u,d,c,Ya):(d=0,ki(u,new js([c],0),Ya),h=u.sel);var v=n,y=l.wrapper.getBoundingClientRect(),b=0,x=yr(e,function(e){0!==e.buttons&&H(e)?o(e):s(e)}),w=yr(e,s);e.state.selectingText=w,is(l.wrapper.ownerDocument,"mousemove",x),is(l.wrapper.ownerDocument,"mouseup",w)}function $o(e,t){var n=t.anchor,r=t.head,i=Q(e.doc,n.line);if(0==le(n,r)&&n.sticky==r.sticky)return t;var o=L(i);if(!o)return t;var a=A(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=A(o,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?f<0:f>0}var d=o[u+(l?-1:0)],p=l==(1==d.level),h=p?d.from:d.to,m=p?"after":"before";return n.ch==h&&n.sticky==m?t:new Ns(new se(n.line,h,m),r)}function Ho(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&z(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!N(e,n))return R(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i)return O(e,n,e,ie(e.doc,o),e.display.gutterSpecs[l].className,t),R(t)}}function Wo(e,t){return Ho(e,t,"gutterClick",!0)}function qo(e,t){Dt(e.display,t)||Bo(e,t)||P(e,t,"contextmenu")||$a||e.display.input.onContextMenu(t)}function Bo(e,t){return!!N(e,"gutterContextMenu")&&Ho(e,t,"gutterContextMenu",!1)}function Uo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tn(e)}function Vo(e){function t(t,r,i,o){e.defaults[t]=r,i&&(n[t]=o?function(e,t,n){n!=tl&&i(e,t,n)}:i)}var n=e.optionHandlers;e.defineOption=t,e.Init=tl,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Gr(e)},!0),t("indentUnit",2,Gr,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Xr(e),tn(e),An(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(se(r,o))}r++});for(var i=n.length-1;i>=0;i--)Ri(e.doc,t,n[i],se(n[i].line,n[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=tl&&e.refresh()}),t("specialCharPlaceholder",ut,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",ja?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),t("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),t("rtlMoveVisually",!za),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Uo(e),zr(e)},!0),t("keyMap","default",function(e,t,n){var r=po(t),i=n!=tl&&po(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Go,!0),t("gutters",[],function(e,t){e.display.gutterSpecs=Nr(t,e.options.lineNumbers),zr(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?kn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return ar(e)},!0),t("scrollbarStyle","native",function(e){lr(e),ar(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e,t){e.display.gutterSpecs=Nr(e.options.gutters,t),zr(e)},!0),t("firstLineNumber",1,zr,!0),t("lineNumberFormatter",function(e){return e},zr,!0),t("showCursorWhenSelecting",!1,jn,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("selectionsMayTouch",!1),t("readOnly",!1,function(e,t){"nocursor"==t&&(Wn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Ko),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,jn,!0),t("singleCursorHeightPerLine",!0,jn,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Xr,!0),t("addModeClass",!1,Xr,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Xr,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),t("phrases",null)}function Ko(e,t,n){if(!t!=!(n&&n!=tl)){var r=e.display.dragFunctions,i=t?is:E;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Go(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",
e.display.sizerWidth=null):(Ha(e.display.wrapper,"CodeMirror-wrap"),it(e)),Sn(e),An(e),tn(e),setTimeout(function(){return ar(e)},100)}function Xo(e,t){var n=this;if(!(this instanceof Xo))return new Xo(e,t);this.options=t=t?c(t):{},c(nl,t,!1);var r=t.value;"string"==typeof r?r=new $s(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Xo.inputStyles[t.inputStyle](this),o=this.display=new Fr(e,r,i,t);for(var a in o.wrapper.CodeMirror=this,Uo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),lr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new qa,keySeq:null,specialChars:null},t.autofocus&&!ja&&o.input.focus(),ka&&Ca<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Yo(this),ro(),ur(this),this.curOp.forceUpdate=!0,Qr(this,r),t.autofocus&&!ja||this.hasFocus()?setTimeout(u(Hn,this),20):Wn(this),rl)rl.hasOwnProperty(a)&&rl[a](n,t[a],tl);jr(this),t.finishInit&&t.finishInit(this);for(var s=0;s<il.length;++s)il[s](n);cr(this),Sa&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Yo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),(a=i.activeTouch).end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;is(i.scroller,"mousedown",yr(e,jo)),is(i.scroller,"dblclick",ka&&Ca<11?yr(e,function(t){if(!P(e,t)){var n=_n(e,t);if(n&&!Wo(e,t)&&!Dt(e.display,t)){z(t);var r=e.findWordAt(n);gi(e.doc,r.anchor,r.head)}}}):function(t){return P(e,t)||z(t)}),is(i.scroller,"contextmenu",function(t){return qo(e,t)});var o,a={end:0};is(i.scroller,"touchstart",function(t){if(!P(e,t)&&!n(t)&&!Wo(e,t)){i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),is(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),is(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Dt(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new Ns(s,s):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(s):new Ns(se(s.line,0),he(e.doc,se(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),z(n)}t()}),is(i.scroller,"touchcancel",t),is(i.scroller,"scroll",function(){i.scroller.clientHeight&&(nr(e,i.scroller.scrollTop),ir(e,i.scroller.scrollLeft,!0),O(e,"scroll",e))}),is(i.scroller,"mousewheel",function(t){return $r(e,t)}),is(i.scroller,"DOMMouseScroll",function(t){return $r(e,t)}),is(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){P(e,t)||I(t)},over:function(t){P(e,t)||(eo(e,t),I(t))},start:function(t){return Qi(e,t)},drop:yr(e,Zi),leave:function(t){P(e,t)||to(e)}};var s=i.input.getField();is(s,"keyup",function(t){return Eo.call(e,t)}),is(s,"keydown",yr(e,Lo)),is(s,"keypress",yr(e,Oo)),is(s,"focus",function(t){return Hn(e,t)}),is(s,"blur",function(t){return Wn(e,t)})}function Jo(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=be(e,t).state:n="prev");var a=e.options.tabSize,s=Q(o,t),l=f(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==Ga||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?f(Q(o,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var d="",p=0;if(e.options.indentWithTabs)for(var m=Math.floor(u/a);m;--m)p+=a,d+="\t";if(p<u&&(d+=h(u-p)),d!=c)return Ri(o,d,se(t,0),se(t,c.length),"+input"),s.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var v=o.sel.ranges[g];if(v.head.line==t&&v.head.ch<c.length){var y=se(t,c.length);yi(o,g,new Ns(y,y));break}}}function Zo(e){ol=e}function Qo(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=as(t),u=null;if(s&&r.ranges.length>1)if(ol&&ol.text.join("\n")==t){if(r.ranges.length%ol.text.length==0){u=[];for(var c=0;c<ol.text.length;c++)u.push(o.splitLines(ol.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=g(l,function(e){return[e]}));for(var f=e.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var p=r.ranges[d],h=p.from(),v=p.to();p.empty()&&(n&&n>0?h=se(h.line,h.ch-n):e.state.overwrite&&!s?v=se(v.line,Math.min(Q(o,v.line).text.length,v.ch+m(l).length)):s&&ol&&ol.lineWise&&ol.text.join("\n")==t&&(h=v=se(h.line,0)));var y={from:h,to:v,text:u?u[d%u.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Pi(e.doc,y),xt(e,"inputRead",e,y)}t&&!s&&ta(e,t),Jn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function ea(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||vr(t,function(){return Qo(t,n,0,null,"paste")}),!0}function ta(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Jo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Q(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Jo(e,i.head.line,"smart"));a&&xt(e,"electricInput",e,i.head.line)}}}function na(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:se(i,0),head:se(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ra(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function ia(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Sa?e.style.width="1000px":e.setAttribute("wrap","off"),Oa&&(e.style.border="1px solid black"),ra(e),t}function oa(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&yr(this,t[e])(this,n,i),O(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](po(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:br(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,An(this)}),removeOverlay:br(function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return n.splice(r,1),t.state.modeGen++,void An(t)}}),indentLine:br(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),oe(this.doc,e)&&Jo(this,e,t,n)}),indentSelection:br(function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(Jo(t,o.head.line,e,!0),r=o.head.line,i==t.doc.sel.primIndex&&Jn(t));else{var a=o.from(),s=o.to(),l=Math.max(r,a.line);r=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=l;u<r;++u)Jo(t,u,e);var c=t.doc.sel.ranges;0==a.ch&&n.length==c.length&&c[i].from().ch>0&&yi(t.doc,i,new Ns(a,c[i].to()),Xa)}}}),getTokenAt:function(e,t){return Ce(this,e,t)},getLineTokens:function(e,t){return Ce(this,se(e),t,!0)},getTokenTypeAt:function(e){e=he(this.doc,e);var t,n=ye(this,Q(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,i=[];if(!n.hasOwnProperty(t))return i;var o=n[t],a=this.getModeAt(e);if("string"==typeof a[t])o[a[t]]&&i.push(o[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var l=o[a[t][s]];l&&i.push(l)}else a.helperType&&o[a.helperType]?i.push(o[a.helperType]):o[a.name]&&i.push(o[a.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(a,r)&&-1==d(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var n=this.doc;return be(this,(e=pe(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return un(this,null==e?n.head:"object"==typeof e?he(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return ln(this,he(this.doc,e),t||"page")},coordsChar:function(e,t){return dn(this,(e=sn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=sn(this,{top:e,left:0},t||"page").top,ie(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Q(this.doc,e)}else r=e;return an(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-nt(r):0)},defaultTextHeight:function(){return bn(this.display)},defaultCharWidth:function(){return xn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=un(this,he(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Gn(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:br(Lo),triggerOnKeyPress:br(Oo),triggerOnKeyUp:Eo,triggerOnMouseDown:br(jo),execCommand:function(e){if(Ys.hasOwnProperty(e))return Ys[e].call(null,this)},triggerElectric:br(function(e){ta(this,e)}),findPosH:function(e,t,n,r){var i=this,o=1;t<0&&(o=-1,t=-t);for(var a=he(this.doc,e),s=0;s<t&&!(a=aa(i.doc,a,o,n,r)).hitSide;++s);return a},moveH:br(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?aa(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},Ja)}),deleteH:br(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):ho(this,function(n){var i=aa(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=this,o=1,a=r;t<0&&(o=-1,t=-t);for(var s=he(this.doc,e),l=0;l<t;++l){var u=un(i,s,"div");if(null==a?a=u.left:u.left=a,(s=sa(i,u,o,n)).hitSide)break}return s},moveV:br(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=un(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=sa(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Yn(n,ln(n,l,"div").top-s.top),l},Ja),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=Q(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=w(o,i)?function(e){return w(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!w(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new Ns(se(e.line,n),se(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Ha(this.display.cursorDiv,"CodeMirror-overwrite"),O(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==a()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:br(function(e,t){Zn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-It(this)-this.display.barHeight,width:e.scrollWidth-It(this)-this.display.barWidth,clientHeight:Ht(this),clientWidth:$t(this)}},scrollIntoView:br(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:se(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Qn(this,e):tr(this,e.from,e.to,e.margin)}),setSize:br(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&en(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Ln(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,O(this,"refresh",this)}),operation:function(e){return vr(this,e)},startOperation:function(){return ur(this)},endOperation:function(){return cr(this)},refresh:br(function(){var e=this.display.cachedTextHeight;An(this),this.curOp.forceUpdate=!0,tn(this),Zn(this,this.doc.scrollLeft,this.doc.scrollTop),Er(this.display),(null==e||Math.abs(e-bn(this.display))>.5)&&Sn(this),O(this,"refresh",this)}),swapDoc:br(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Qr(this,e),tn(this),this.display.input.reset(),Zn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xt(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},D(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function aa(e,t,n,r,i){function o(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new se(r,t.ch,t.sticky),u=Q(e,r))}function a(r){var a;if(null==(a=i?yo(e.cm,u,t,n):go(u,t,n))){if(r||!o())return!1;t=vo(i,e.cm,u,t.line,n)}else t=a;return!0}var s=t,l=n,u=Q(e,t.line);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var c=null,f="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||a(!p);p=!1){var h=u.text.charAt(t.ch)||"\n",m=w(h,d)?"w":f&&"\n"==h?"n":!f||/\s/.test(h)?null:"p";if(!f||p||m||(m="s"),c&&c!=m){n<0&&(n=1,a(),t.sticky="after");break}if(m&&(c=m),n>0&&!a(!p))break}var g=Li(e,t,s,l,!0);return ue(s,g)&&(g.hitSide=!0),g}function sa(e,t,n,r){var i,o,a=e.doc,s=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*bn(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=dn(e,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}function la(e,t){var n=Vt(e,t.line);if(!n||n.hidden)return null;var r=Q(e.doc,t.line),i=qt(n,r,t.line),o=L(r,e.doc.direction),a="left";o&&(a=A(o,t.ch)%2?"right":"left");var s=Xt(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function ua(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ca(e,t){return t&&(e.bad=!0),e}function fa(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function a(){c&&(u+=f,d&&(u+=f),c=d=!1)}function s(e){e&&(a(),u+=e)}function l(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void s(n);var u,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(se(r,0),se(i+1,0),o(+p));return void(h.length&&(u=h[0].find(0))&&s(ee(e.doc,u.from,u.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&a();for(var g=0;g<t.childNodes.length;g++)l(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(d=!0),m&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var u="",c=!1,f=e.doc.lineSeparator(),d=!1;l(t),t!=n;)t=t.nextSibling,d=!1;return u}function da(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return ca(e.clipPos(se(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return pa(o,t,n)}}function pa(e,t,n){function r(t,n,r){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=re(i<0?e.line:e.rest[i]),u=o[a]+r;return(r<0||s!=t)&&(u=o[a+(r?1:0)]),se(l,u)}}}var i=e.text.firstChild,a=!1;if(!t||!o(i,t))return ca(se(re(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[n],n=0,!t)){var s=e.rest?m(e.rest):e.line;return ca(se(re(s),s.text.length),a)}var l=3==t.nodeType?t:null,u=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,f=c.maps,d=r(l,u,n);if(d)return ca(d,a);for(var p=u.nextSibling,h=l?l.nodeValue.length-n:0;p;p=p.nextSibling){if(d=r(p,p.firstChild,0))return ca(se(d.line,d.ch-h),a);h+=p.textContent.length}for(var g=u.previousSibling,v=n;g;g=g.previousSibling){if(d=r(g,g.firstChild,-1))return ca(se(d.line,d.ch+v),a);v+=g.textContent.length}}function ha(e,t){function n(){e.value=l.getValue()}if((t=t?c(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=a();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(is(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=s}}catch(Va){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(E(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var l=Xo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}function ma(e){e.off=E,e.on=is,e.wheelEventPixels=Ir,e.Doc=$s,e.splitLines=as,e.countColumn=f,e.findColumn=p,e.isWordChar=x,e.Pass=Ga,e.signal=O,e.Line=bs,e.changeEnd=qr,e.scrollbarModel=Ls,e.Pos=se,e.cmpPos=le,e.modes=cs,e.mimeModes=fs,e.resolveMode=K,e.getMode=G,e.modeExtensions=ds,e.extendMode=X,e.copyState=Y,e.startState=Z,e.innerMode=J,e.commands=Ys,e.keyMap=Ks,e.keyName=fo,e.isModifierKey=uo,e.lookupKey=lo,e.normalizeKeyMap=so,e.StringStream=ps,e.SharedTextMarker=Rs,e.TextMarker=Fs,e.LineWidget=Ds,e.e_preventDefault=z,e.e_stopPropagation=F,e.e_stop=I,e.addClass=s,e.contains=o,e.rmClass=Ha,e.keyNames=qs}var ga=navigator.userAgent,va=navigator.platform,ya=/gecko\/\d/i.test(ga),ba=/MSIE \d/.test(ga),xa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ga),wa=/Edge\/(\d+)/.exec(ga),ka=ba||xa||wa,Ca=ka&&(ba?document.documentMode||6:+(wa||xa)[1]),Sa=!wa&&/WebKit\//.test(ga),_a=Sa&&/Qt\/\d+\.\d+/.test(ga),Ta=!wa&&/Chrome\//.test(ga),Aa=/Opera\//.test(ga),La=/Apple Computer/.test(navigator.vendor),Ma=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ga),Ea=/PhantomJS/.test(ga),Oa=!wa&&/AppleWebKit/.test(ga)&&/Mobile\/\w+/.test(ga),Pa=/Android/.test(ga),ja=Oa||Pa||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ga),Na=Oa||/Mac/.test(va),Da=/\bCrOS\b/.test(ga),za=/win/i.test(va),Fa=Aa&&ga.match(/Version\/(\d*\.\d*)/);Fa&&(Fa=Number(Fa[1])),Fa&&Fa>=15&&(Aa=!1,Sa=!0);var Ra,Ia=Na&&(_a||Aa&&(null==Fa||Fa<12.11)),$a=ya||ka&&Ca>=9,Ha=function(t,n){var r=t.className,i=e(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(o?i[1]+o:"")}};Ra=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(Va){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Wa=function(e){e.select()};Oa?Wa=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ka&&(Wa=function(e){try{e.select()}catch(t){}});var qa=function(){this.id=null};qa.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ba,Ua,Va,Ka=30,Ga={toString:function(){return"CodeMirror.Pass"}},Xa={scroll:!1},Ya={origin:"*mouse"},Ja={origin:"+move"},Za=[""],Qa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,es=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,ts=null,ns=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/;return function(n,r){var u="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var c=n.length,f=[],d=0;d<c;++d)f.push(e(n.charCodeAt(d)));for(var p=0,h=u;p<c;++p){var g=f[p];"m"==g?f[p]=h:h=g}for(var v=0,y=u;v<c;++v){var b=f[v];"1"==b&&"r"==y?f[v]="n":a.test(b)&&(y=b,"r"==b&&(f[v]="R"))}for(var x=1,w=f[0];x<c-1;++x){var k=f[x];"+"==k&&"1"==w&&"1"==f[x+1]?f[x]="1":","!=k||w!=f[x+1]||"1"!=w&&"n"!=w||(f[x]=w),w=k}for(var C=0;C<c;++C){var S=f[C];if(","==S)f[C]="N";else if("%"==S){var _=void 0;for(_=C+1;_<c&&"%"==f[_];++_);for(var T=C&&"!"==f[C-1]||_<c&&"1"==f[_]?"1":"N",A=C;A<_;++A)f[A]=T;C=_-1}}for(var L=0,M=u;L<c;++L){var E=f[L];"L"==M&&"1"==E?f[L]="L":a.test(E)&&(M=E)}for(var O=0;O<c;++O)if(o.test(f[O])){var P=void 0;for(P=O+1;P<c&&o.test(f[P]);++P);for(var j="L"==(O?f[O-1]:u),N=j==("L"==(P<c?f[P]:u))?j?"L":"R":u,D=O;D<P;++D)f[D]=N;O=P-1}for(var z,F=[],R=0;R<c;)if(s.test(f[R])){var I=R;for(++R;R<c&&s.test(f[R]);++R);F.push(new t(0,I,R))}else{var $=R,H=F.length;for(++R;R<c&&"L"!=f[R];++R);for(var W=$;W<R;)if(l.test(f[W])){$<W&&F.splice(H,0,new t(1,$,W));var q=W;for(++W;W<R&&l.test(f[W]);++W);F.splice(H,0,new t(2,q,W)),$=W}else++W;$<R&&F.splice(H,0,new t(1,$,R))}return"ltr"==r&&(1==F[0].level&&(z=n.match(/^\s+/))&&(F[0].from=z[0].length,F.unshift(new t(0,0,z[0].length))),1==m(F).level&&(z=n.match(/\s+$/))&&(m(F).to-=z[0].length,F.push(new t(0,c-z[0].length,c)))),"rtl"==r?F.reverse():F}}(),rs=[],is=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||rs).concat(n)}},os=function(){if(ka&&Ca<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),as=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},ss=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(Va){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(Va){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ls="oncopy"in(Va=r("div"))||(Va.setAttribute("oncopy","return;"),"function"==typeof Va.oncopy),us=null,cs={},fs={},ds={},ps=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};ps.prototype.eol=function(){return this.pos>=this.string.length},ps.prototype.sol=function(){return this.pos==this.lineStart},ps.prototype.peek=function(){return this.string.charAt(this.pos)||undefined},ps.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ps.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},ps.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},ps.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},ps.prototype.skipToEnd=function(){this.pos=this.string.length},ps.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},ps.prototype.backUp=function(e){this.pos-=e},ps.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ps.prototype.indentation=function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ps.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},ps.prototype.current=function(){return this.string.slice(this.start,this.pos)},ps.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},ps.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},ps.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var hs=function(e,t){this.state=e,this.lookAhead=t},ms=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};ms.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ms.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ms.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ms.fromSaved=function(e,t,n){return t instanceof hs?new ms(e,Y(e.mode,t.state),n,t.lookAhead):new ms(e,Y(e.mode,t),n)},ms.prototype.save=function(e){var t=!1!==e?Y(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new hs(t,this.maxLookAhead):t};var gs=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},vs=!1,ys=!1,bs=function(e,t,n){this.text=e,$e(this,t),this.height=n?n(this):1};bs.prototype.lineNo=function(){return re(this)},D(bs);var xs,ws={},ks={},Cs=null,Ss=null,_s={left:0,right:0,top:0,bottom:0},Ts=function(e,t,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=o.tabIndex=-1,e(i),e(o),is(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),is(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ka&&Ca<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ts.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Ts.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ts.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ts.prototype.zeroWidthHack=function(){var e=Na&&!Ma?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new qa,this.disableVert=new qa},Ts.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect()
;("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},Ts.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var As=function(){};As.prototype.update=function(){return{bottom:0,right:0}},As.prototype.setScrollLeft=function(){},As.prototype.setScrollTop=function(){},As.prototype.clear=function(){};var Ls={native:Ts,"null":As},Ms=0,Es=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Un(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=$t(e),this.force=n,this.dims=wn(e),this.events=[]};Es.prototype.signal=function(e,t){N(e,t)&&this.events.push(arguments)},Es.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)O.apply(null,e.events[t])};var Os=0,Ps=null;ka?Ps=-.53:ya?Ps=15:Ta?Ps=-.7:La&&(Ps=-1/3);var js=function(e,t){this.ranges=e,this.primIndex=t};js.prototype.primary=function(){return this.ranges[this.primIndex]},js.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(!ue(r.anchor,i.anchor)||!ue(r.head,i.head))return!1}return!0},js.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Ns(ce(e.ranges[n].anchor),ce(e.ranges[n].head));return new js(t,this.primIndex)},js.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},js.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(le(t,i.from())>=0&&le(e,i.to())<=0)return r}return-1};var Ns=function(e,t){this.anchor=e,this.head=t};Ns.prototype.from=function(){return de(this.anchor,this.head)},Ns.prototype.to=function(){return fe(this.anchor,this.head)},Ns.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},qi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,r=e,i=e+t;r<i;++r){var o=n.lines[r];n.height-=o.height,at(o),xt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=r},iterN:function(e,t,n){for(var r=this,i=e+t;e<i;++e)if(n(r.lines[e]))return!0}},Bi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e),s=i.height;if(i.removeInner(e,a),n.height-=s-i.height,o==a&&(n.children.splice(r--,1),i.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof qi))){var l=[];this.collapse(l),this.children=[new qi(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<=a){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,l=s;l<o.lines.length;){var u=new qi(o.lines.slice(l,l+=25));o.height-=u.height,r.children.splice(++i,0,u),u.parent=r}o.lines=o.lines.slice(0,s),r.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Bi(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=d(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new Bi(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<a){var s=Math.min(t,a-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var Ds=function(e,t,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=e,this.node=t};Ds.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,i=re(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(r.widgets=null);var a=Nt(this);ne(r,Math.max(0,r.height-a)),t&&(vr(t,function(){Ui(t,r,-a),Ln(t,i,"widget")}),xt(t,"lineWidgetCleared",t,this,i))}},Ds.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Nt(this)-t;i&&(et(this.doc,r)||ne(r,r.height+i),n&&vr(n,function(){n.curOp.forceUpdate=!0,Ui(n,r,i),xt(n,"lineWidgetChanged",n,e,re(r))}))},D(Ds);var zs=0,Fs=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++zs};Fs.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&ur(t),N(this,"clear")){var r=this.find();r&&xt(this,"clear",r.from,r.to)}for(var i=null,o=null,a=0;a<this.lines.length;++a){var s=e.lines[a],l=Oe(s.markedSpans,e);t&&!e.collapsed?Ln(t,re(s),"text"):t&&(null!=l.to&&(o=re(s)),null!=l.from&&(i=re(s))),s.markedSpans=Pe(s.markedSpans,l),null==l.from&&e.collapsed&&!et(e.doc,s)&&t&&ne(s,bn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=Xe(e.lines[u]),f=rt(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&An(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&_i(t.doc)),t&&xt(t,"markerCleared",t,this,i,o),n&&cr(t),this.parent&&this.parent.clear()}},Fs.prototype.find=function(e,t){var n,r,i=this;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var a=i.lines[o],s=Oe(a.markedSpans,i);if(null!=s.from&&(n=se(t?a:re(a),s.from),-1==e))return n;if(null!=s.to&&(r=se(t?a:re(a),s.to),1==e))return r}return n&&{from:n,to:r}},Fs.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&vr(r,function(){var i=t.line,o=re(t.line),a=Vt(r,o);if(a&&(Qt(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!et(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=Nt(n)-s;l&&ne(i,i.height+l)}xt(r,"markerChanged",r,e)})},Fs.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=d(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Fs.prototype.detachLine=function(e){if(this.lines.splice(d(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},D(Fs);var Rs=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};Rs.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();xt(this,"clear")}},Rs.prototype.find=function(e,t){return this.primary.find(e,t)},D(Rs);var Is=0,$s=function(e,t,n,r,i){if(!(this instanceof $s))return new $s(e,t,n,r,i);null==n&&(n=0),Bi.call(this,[new qi([new bs("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=se(n,0);this.sel=Wr(o),this.history=new ni(null),this.id=++Is,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Jr(this,{from:o,to:o,text:e}),ki(this,Wr(o),Xa)};$s.prototype=b(Bi.prototype,{constructor:$s,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=te(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:xr(function(e){var t=se(this.first,0),n=this.first+this.size-1;Pi(this,{from:t,to:se(n,Q(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Zn(this.cm,0,0),ki(this,Wr(t),Xa)}),replaceRange:function(e,t,n,r){Ri(this,e,t=he(this,t),n=n?he(this,n):t,r)},getRange:function(e,t,n){var r=ee(this,he(this,e),he(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(oe(this,e))return Q(this,e)},getLineNumber:function(e){return re(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Q(this,e)),Xe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return he(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:xr(function(e,t,n){bi(this,he(this,"number"==typeof e?se(e,t||0):e),null,n)}),setSelection:xr(function(e,t,n){bi(this,he(this,e),he(this,t||e),n)}),extendSelection:xr(function(e,t,n){gi(this,he(this,e),t&&he(this,t),n)}),extendSelections:xr(function(e,t){vi(this,ge(this,e),t)}),extendSelectionsBy:xr(function(e,t){vi(this,ge(this,g(this.sel.ranges,e)),t)}),setSelections:xr(function(e,t,n){var r=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Ns(he(r,e[o].anchor),he(r,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ki(this,Hr(this.cm,i,t),n)}}),addSelection:xr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Ns(he(this,e),he(this,t||e))),ki(this,Hr(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t,n=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=ee(n,r[i].from(),r[i].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=ee(t,r[i].from(),r[i].to());!1!==e&&(o=o.join(e||t.lineSeparator())),n[i]=o}return n},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:xr(function(e,t,n){for(var r=this,i=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];i[a]={from:s.from(),to:s.to(),text:r.splitLines(e[a]),origin:n}}for(var l=t&&"end"!=t&&Kr(this,i,t),u=i.length-1;u>=0;u--)Pi(r,i[u]);l?wi(this,l):this.cm&&Jn(this.cm)}),undo:xr(function(){Ni(this,"undo")}),redo:xr(function(){Ni(this,"redo")}),undoSelection:xr(function(){Ni(this,"undo",!0)}),redoSelection:xr(function(){Ni(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ni(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:hi(this.history.done),undone:hi(this.history.undone)}},setHistory:function(e){var t=this.history=new ni(this.history.maxGeneration);t.done=hi(e.done.slice(0),null,!0),t.undone=hi(e.undone.slice(0),null,!0)},setGutterMarker:xr(function(e,t,n){return Wi(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&k(r)&&(e.gutterMarkers=null),!0})}),clearGutter:xr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Wi(t,n,"gutter",function(){return n.gutterMarkers[e]=null,k(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!oe(this,e))return null;if(t=e,!(e=Q(this,e)))return null}else if(null==(t=re(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:xr(function(t,n,r){return Wi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[i]){if(e(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:xr(function(t,n,r){return Wi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==r)t[i]=null;else{var a=o.match(e(r));if(!a)return!1;var s=a.index+a[0].length;t[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:xr(function(e,t,n){return Vi(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Ki(this,he(this,e),he(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Ki(this,e=he(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Q(this,(e=he(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=he(this,e),t=he(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),he(this,se(n,t))},indexFromPos:function(e){var t=(e=he(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new $s(te(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new $s(te(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Yi(r,Xi(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof Xo&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){if(t.linked[n].doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Ji(Xi(t));break}}if(e.history==this.history){var r=[e.id];Zr(e,function(e){return r.push(e.id)},!0),e.history=new ni(null),e.history.done=hi(this.history.done,r),e.history.undone=hi(this.history.undone,r)}},iterLinkedDocs:function(e){Zr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):as(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:xr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&ti(this.cm))})}),$s.prototype.eachLine=$s.prototype.iter;for(var Hs=0,Ws=!1,qs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bs=0;Bs<10;Bs++)qs[Bs+48]=qs[Bs+96]=String(Bs);for(var Us=65;Us<=90;Us++)qs[Us]=String.fromCharCode(Us);for(var Vs=1;Vs<=12;Vs++)qs[Vs+111]=qs[Vs+63235]="F"+Vs;var Ks={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Ks["default"]=Na?Ks.macDefault:Ks.pcDefault;var Gs,Xs,Ys={selectAll:Ei,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Xa)},killLine:function(e){return ho(e,function(t){if(t.empty()){var n=Q(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:se(t.head.line+1,0)}:{from:t.head,to:se(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return ho(e,function(t){return{from:se(t.from().line,0),to:he(e.doc,se(t.to().line+1,0))}})},delLineLeft:function(e){return ho(e,function(e){return{from:se(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(se(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(se(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return bo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return wo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return xo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ja)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ja)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?wo(e,t.head):r},Ja)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=f(e.getLine(o.line),o.ch,r);t.push(h(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return vr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Q(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new se(i.line,i.ch-1)),i.ch>0)i=new se(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),se(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Q(e.doc,i.line-1).text;a&&(i=new se(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),se(i.line-1,a.length-1),i,"+transpose"))}n.push(new Ns(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return vr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Jn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Js=new qa,Zs=null,Qs=400,el=function(e,t,n){this.time=e,this.pos=t,this.button=n};el.prototype.compare=function(e,t,n){return this.time+Qs>e&&0==le(t,this.pos)&&n==this.button};var tl={toString:function(){return"CodeMirror.Init"}},nl={},rl={};Xo.defaults=nl,Xo.optionHandlers=rl;var il=[];Xo.defineInitHook=function(e){return il.push(e)};var ol=null,al=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new qa,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};al.prototype.init=function(e){function t(e){if(!P(i,e)){if(i.somethingSelected())Zo({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=na(i);Zo({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Xa),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=ol.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var a=ia(),s=a.firstChild;i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),s.value=ol.text.join("\n");var l=document.activeElement;Wa(s),setTimeout(function(){i.display.lineSpace.removeChild(a),l.focus(),l==o&&r.showPrimarySelection()},50)}}var n=this,r=this,i=r.cm,o=r.div=e.lineDiv;ra(o,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),is(o,"paste",function(e){P(i,e)||ea(e,i)||Ca<=11&&setTimeout(yr(i,function(){return n.updateFromDOM()}),20)}),is(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),is(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),is(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),is(o,"touchstart",function(){return r.forceCompositionEnd()}),is(o,"input",function(){n.composing||n.readFromDOMSoon()}),is(o,"copy",t),is(o,"cut",t)},al.prototype.prepareSelection=function(){var e=Nn(this.cm,!1);return e.focus=this.cm.state.focused,e},al.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},al.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},al.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=da(t,e.anchorNode,e.anchorOffset),a=da(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=le(de(o,a),r)||0!=le(fe(o,a),i)){var s=t.display.view,l=r.line>=t.display.viewFrom&&la(t,r)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&la(t,i);if(!u){var c=s[s.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(l&&u){var d,p=e.rangeCount&&e.getRangeAt(0);try{d=Ra(l.node,l.offset,u.offset,u.node)}catch(Va){}d&&(!ya&&t.state.focused?(e.collapse(l.node,l.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),p&&null==e.anchorNode?e.addRange(p):ya&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},al.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},al.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},al.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},al.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},al.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},al.prototype.blur=function(){this.div.blur()},al.prototype.getField=function(){return this.div},al.prototype.supportsTouch=function(){return!0},al.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():vr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},al.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},al.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Pa&&Ta&&this.cm.display.gutterSpecs.length&&ua(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=da(t,e.anchorNode,e.anchorOffset),r=da(t,e.focusNode,e.focusOffset);n&&r&&vr(t,function(){ki(t.doc,Wr(n,r),Xa),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},al.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=se(a.line-1,Q(r.doc,a.line-1).length)),s.ch==Q(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=se(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=Tn(r,a.line))?(t=re(i.view[0].line),n=i.view[0].node):(t=re(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,u,c=Tn(r,s.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=re(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(fa(r,n,u,t,l)),d=ee(r.doc,se(t,0),se(l,Q(r.doc,l).text.length));f.length>1&&d.length>1;)if(m(f)==m(d))f.pop(),d.pop(),l--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),t++}for(var p=0,h=0,g=f[0],v=d[0],y=Math.min(g.length,v.length);p<y&&g.charCodeAt(p)==v.charCodeAt(p);)++p;for(var b=m(f),x=m(d),w=Math.min(b.length-(1==f.length?p:0),x.length-(1==d.length?p:0));h<w&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1);)++h;if(1==f.length&&1==d.length&&t==a.line)for(;p&&p>a.ch&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1);)p--,h++;f[f.length-1]=b.slice(0,b.length-h).replace(/^\u200b+/,""),f[0]=f[0].slice(p).replace(/\u200b+$/,"");var k=se(t,p),C=se(l,d.length?m(d).length-h:0);return f.length>1||f[0]||le(k,C)?(Ri(r.doc,f,k,C,"+input"),!0):void 0},al.prototype.ensurePolled=function(){this.forceCompositionEnd()},al.prototype.reset=function(){this.forceCompositionEnd()},al.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},al.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},al.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||vr(this.cm,function(){return An(e.cm)})},al.prototype.setUneditable=function(e){e.contentEditable="false"},al.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||yr(this.cm,Qo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},al.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},al.prototype.onContextMenu=function(){},al.prototype.resetPosition=function(){},al.prototype.needsContentAttribute=!0;var sl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new qa,this.hasSelection=!1,this.composing=null};sl.prototype.init=function(e){function t(e){if(!P(i,e)){if(i.somethingSelected())Zo({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=na(i);Zo({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Xa):(r.prevInput="",o.value=t.text.join("\n"),Wa(o))}"cut"==e.type&&(i.state.cutIncoming=+new Date)}}var n=this,r=this,i=this.cm;this.createField(e);var o=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Oa&&(o.style.width="0px"),is(o,"input",function(){ka&&Ca>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),is(o,"paste",function(e){P(i,e)||ea(e,i)||(i.state.pasteIncoming=+new Date,r.fastPoll())}),is(o,"cut",t),is(o,"copy",t),is(e.scroller,"paste",function(t){if(!Dt(e,t)&&!P(i,t)){if(!o.dispatchEvent)return i.state.pasteIncoming=+new Date,void r.focus();var n=new Event("paste")
;n.clipboardData=t.clipboardData,o.dispatchEvent(n)}}),is(e.lineSpace,"selectstart",function(t){Dt(e,t)||z(t)}),is(o,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),is(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},sl.prototype.createField=function(){this.wrapper=ia(),this.textarea=this.wrapper.firstChild},sl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Nn(e);if(e.options.moveInputWithCursor){var i=un(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},sl.prototype.showSelection=function(e){var t=this.cm.display;n(t.cursorDiv,e.cursors),n(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},sl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Wa(this.textarea),ka&&Ca>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",ka&&Ca>=9&&(this.hasSelection=null))}},sl.prototype.getField=function(){return this.textarea},sl.prototype.supportsTouch=function(){return!1},sl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!ja||a()!=this.textarea))try{this.textarea.focus()}catch(Va){}},sl.prototype.blur=function(){this.textarea.blur()},sl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},sl.prototype.receivedFocus=function(){this.slowPoll()},sl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},sl.prototype.fastPoll=function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},sl.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||ss(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(ka&&Ca>=9&&this.hasSelection===i||Na&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,i.length);a<s&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return vr(t,function(){Qo(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},sl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},sl.prototype.onKeyPress=function(){ka&&Ca>=9&&(this.hasSelection=null),this.fastPoll()},sl.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t="\u200b"+(e?a.value:"");a.value="\u21da",a.value=t,r.prevInput=e?"":"\u200b",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending==n&&(r.contextMenuPending=!1,r.wrapper.style.cssText=f,a.style.cssText=c,ka&&Ca<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart)){(!ka||ka&&Ca<9)&&t();var e=0,s=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"\u200b"==r.prevInput?yr(i,Ei)(i):e++<10?o.detectingSelectAll=setTimeout(s,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(s,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea;r.contextMenuPending&&r.contextMenuPending();var s=_n(i,e),l=o.scroller.scrollTop;if(s&&!Aa){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&yr(i,ki)(i.doc,Wr(s),Xa);var u,c=a.style.cssText,f=r.wrapper.style.cssText,d=r.wrapper.offsetParent.getBoundingClientRect();if(r.wrapper.style.cssText="position: static",a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(ka?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Sa&&(u=window.scrollY),o.input.focus(),Sa&&window.scrollTo(null,u),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=n,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ka&&Ca>=9&&t(),$a){I(e);var p=function(){E(window,"mouseup",p),setTimeout(n,20)};is(window,"mouseup",p)}else setTimeout(n,50)}},sl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},sl.prototype.setUneditable=function(){},sl.prototype.needsContentAttribute=!1,Vo(Xo),oa(Xo);var ll="iter insert remove copy getEditor constructor".split(" ");for(var ul in $s.prototype)$s.prototype.hasOwnProperty(ul)&&d(ll,ul)<0&&(Xo.prototype[ul]=function(e){return function(){return e.apply(this.doc,arguments)}}($s.prototype[ul]));return D($s),Xo.inputStyles={textarea:sl,contenteditable:al},Xo.defineMode=function(e){Xo.defaults.mode||"null"==e||(Xo.defaults.mode=e),U.apply(this,arguments)},Xo.defineMIME=V,Xo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Xo.defineMIME("text/plain","null"),Xo.defineExtension=function(e,t){Xo.prototype[e]=t},Xo.defineDocExtension=function(e,t){$s.prototype[e]=t},Xo.fromTextArea=ha,ma(Xo),Xo.version="5.46.0",Xo}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var n=t.listSelections(),r=[],l=t.getOption("autoCloseTags"),u=0;u<n.length;u++){if(!n[u].empty())return e.Pass;var c=n[u].head,f=t.getTokenAt(c),d=e.innerMode(t.getMode(),f.state),p=d.state;if("xml"!=d.mode.name||!p.tagName)return e.Pass;var h="html"==d.mode.configuration,m="object"==typeof l&&l.dontCloseTags||h&&a,g="object"==typeof l&&l.indentTags||h&&s,v=p.tagName;f.end>c.ch&&(v=v.slice(0,v.length-f.end+c.ch));var y=v.toLowerCase();if(!v||"string"==f.type&&(f.end!=c.ch||!/[\"\']/.test(f.string.charAt(f.string.length-1))||1==f.string.length)||"tag"==f.type&&"closeTag"==p.type||f.string.indexOf("/")==f.string.length-1||m&&i(m,y)>-1||o(t,v,c,p,!0))return e.Pass;var b="object"==typeof l&&l.emptyTags;if(b&&i(b,v)>-1)r[u]={text:"/>",newPos:e.Pos(c.line,c.ch+2)};else{var x=g&&i(g,y)>-1;r[u]={indent:x,text:">"+(x?"\n\n":"")+"</"+v+">",newPos:x?e.Pos(c.line+1,0):e.Pos(c.line,c.ch+1)}}}var w="object"==typeof l&&l.dontIndentOnAutoClose;for(u=n.length-1;u>=0;u--){var k=r[u];t.replaceRange(k.text,n[u].head,n[u].anchor,"+insert");var C=t.listSelections().slice(0);C[u]={head:k.newPos,anchor:k.newPos},t.setSelections(C),!w&&k.indent&&(t.indentLine(k.newPos.line,null,!0),t.indentLine(k.newPos.line+1,null,!0))}}function n(t,n){for(var r=t.listSelections(),i=[],a=n?"/":"</",s=t.getOption("autoCloseTags"),l="object"==typeof s&&s.dontIndentOnSlash,u=0;u<r.length;u++){if(!r[u].empty())return e.Pass;var c,f=r[u].head,d=t.getTokenAt(f),p=e.innerMode(t.getMode(),d.state),h=p.state;if(n&&("string"==d.type||"<"!=d.string.charAt(0)||d.start!=f.ch-1))return e.Pass;if("xml"!=p.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==p.mode.name)c=a+"script";else{if("htmlmixed"!=t.getMode().name||"css"!=p.mode.name)return e.Pass;c=a+"style"}else{if(!h.context||!h.context.tagName||o(t,h.context.tagName,f,h))return e.Pass;c=a+h.context.tagName}">"!=t.getLine(f.line).charAt(d.end)&&(c+=">"),i[u]=c}if(t.replaceSelections(i),r=t.listSelections(),!l)for(u=0;u<r.length;u++)(u==r.length-1||r[u].head.line<r[u+1].head.line)&&t.indentLine(r[u].head.line)}function r(t){return t.getOption("disableInput")?e.Pass:n(t,!0)}function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function o(t,n,r,i,o){if(!e.scanForClosingTag)return!1;var a=Math.min(t.lastLine()+1,r.line+500),s=e.scanForClosingTag(t,r,null,a);if(!s||s.tag!=n)return!1;for(var l=i.context,u=o?1:0;l&&l.tagName==n;l=l.prev)++u;r=s.to;for(var c=1;c<u;c++){var f=e.scanForClosingTag(t,r,null,a);if(!f||f.tag!=n)return!1;r=f.to}return!0}e.defineOption("autoCloseTags",!1,function(n,i,o){if(o!=e.Init&&o&&n.removeKeyMap("autoCloseTags"),i){var a={name:"autoCloseTags"};("object"!=typeof i||i.whenClosing)&&(a["'/'"]=function(e){return r(e)}),("object"!=typeof i||i.whenOpening)&&(a["'>'"]=function(e){return t(e)}),n.addKeyMap(a)}});var a=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],s=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];e.commands.closeTag=function(e){return n(e)}}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);if(n&&n.index==t.pos)return t.pos+=n[0].length||1,"searching";n?t.pos=n.index:t.skipToEnd()}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,{caseFold:i(t),multiline:!0})}function a(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){h(e)},onKeyDown:i})}function s(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function l(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function u(e){return e.replace(/\\(.)/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":t})}function c(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(n){}else e=u(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function f(e,n,r){n.queryText=r,n.query=c(r),e.removeOverlay(n.overlay,i(n.query)),n.overlay=t(n.query,i(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,i(n.query)))}function d(t,n,i,o){var l=r(t);if(l.query)return p(t,n);var u=t.getSelection()||l.lastQuery;if(u instanceof RegExp&&"x^"==u.source&&(u=null),i&&t.openDialog){var c=null,d=function(n,r){e.e_stop(r),n&&(n!=l.queryText&&(f(t,l,n),l.posFrom=l.posTo=t.getCursor()),c&&(c.style.opacity=1),p(t,r.shiftKey,function(e,n){var r;n.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((c=r).style.opacity=.4)}))};a(t,m(t),u,d,function(n,i){var o=e.keyName(n),a=t.getOption("extraKeys"),s=a&&a[o]||e.keyMap[t.getOption("keyMap")][o];"findNext"==s||"findPrev"==s||"findPersistentNext"==s||"findPersistentPrev"==s?(e.e_stop(n),f(t,r(t),i),t.execCommand(s)):"find"!=s&&"findPersistent"!=s||(e.e_stop(n),d(i,n))}),o&&u&&(f(t,l,u),p(t,n))}else s(t,m(t),"Search for:",u,function(e){e&&!l.query&&t.operation(function(){f(t,l,e),l.posFrom=l.posTo=t.getCursor(),p(t,n)})})}function p(t,n,i){t.operation(function(){var a=r(t),s=o(t,a.query,n?a.posFrom:a.posTo);(s.find(n)||(s=o(t,a.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0))).find(n))&&(t.setSelection(s.from(),s.to()),t.scrollIntoView({from:s.from(),to:s.to()},20),a.posFrom=s.from(),a.posTo=s.to(),i&&i(s.from(),s.to()))})}function h(e){e.operation(function(){var t=r(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function m(e){return'<span class="CodeMirror-search-label">'+e.phrase("Search:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function g(e){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function v(e){return'<span class="CodeMirror-search-label">'+e.phrase("With:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}function y(e){return'<span class="CodeMirror-search-label">'+e.phrase("Replace?")+"</span> <button>"+e.phrase("Yes")+"</button> <button>"+e.phrase("No")+"</button> <button>"+e.phrase("All")+"</button> <button>"+e.phrase("Stop")+"</button> "}function b(e,t,n){e.operation(function(){for(var r=o(e,t);r.findNext();)if("string"!=typeof t){var i=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,function(e,t){return i[t]}))}else r.replace(n)})}function x(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||r(e).lastQuery,i='<span class="CodeMirror-search-label">'+(t?e.phrase("Replace all:"):e.phrase("Replace:"))+"</span>";s(e,i+g(e),i,n,function(n){n&&(n=c(n),s(e,v(e),e.phrase("Replace with:"),"",function(r){if(r=u(r),t)b(e,n,r);else{h(e);var i=o(e,n,e.getCursor("from")),a=function(){var t,u=i.from();!(t=i.findNext())&&(i=o(e,n),!(t=i.findNext())||u&&i.from().line==u.line&&i.from().ch==u.ch)||(e.setSelection(i.from(),i.to()),e.scrollIntoView({from:i.from(),to:i.to()}),l(e,y(e),e.phrase("Replace?"),[function(){s(t)},a,function(){b(e,n,r)}]))},s=function(e){i.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(t,n){return e[n]})),a()};a()}}))})}}e.commands.find=function(e){h(e),d(e)},e.commands.findPersistent=function(e){h(e),d(e,!1,!0)},e.commands.findPersistentNext=function(e){d(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){d(e,!0,!0,!0)},e.commands.findNext=d,e.commands.findPrev=function(e){d(e,!0)},e.commands.clearSearch=h,e.commands.replace=x,e.commands.replaceAll=function(e){x(e,!0)}}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function n(e,n){for(var r=t(e),i=r,o=0;o<n.length;o++)-1==i.indexOf(n.charAt(o))&&(i+=n.charAt(o));return r==i?e:new RegExp(e.source,i)}function r(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function i(e,t,r){t=n(t,"g");for(var i=r.line,o=r.ch,a=e.lastLine();i<=a;i++,o=0){t.lastIndex=o;var s=e.getLine(i),l=t.exec(s);if(l)return{from:m(i,l.index),to:m(i,l.index+l[0].length),match:l}}}function o(e,t,o){if(!r(t))return i(e,t,o);t=n(t,"gm");for(var a,s=1,l=o.line,u=e.lastLine();l<=u;){for(var c=0;c<s&&!(l>u);c++){var f=e.getLine(l++);a=null==a?f:a+"\n"+f}s*=2,t.lastIndex=o.ch;var d=t.exec(a);if(d){var p=a.slice(0,d.index).split("\n"),h=d[0].split("\n"),g=o.line+p.length-1,v=p[p.length-1].length;return{from:m(g,v),to:m(g+h.length-1,1==h.length?v+h[0].length:h[h.length-1].length),match:d}}}}function a(e,t){for(var n,r=0;;){t.lastIndex=r;var i=t.exec(e);if(!i)return n;if((r=(n=i).index+(n[0].length||1))==e.length)return n}}function s(e,t,r){t=n(t,"g");for(var i=r.line,o=r.ch,s=e.firstLine();i>=s;i--,o=-1){var l=e.getLine(i);o>-1&&(l=l.slice(0,o));var u=a(l,t);if(u)return{from:m(i,u.index),to:m(i,u.index+u[0].length),match:u}}}function l(e,t,r){t=n(t,"gm");for(var i,o=1,s=r.line,l=e.firstLine();s>=l;){for(var u=0;u<o;u++){var c=e.getLine(s--);i=null==i?c.slice(0,r.ch):c+"\n"+i}o*=2;var f=a(i,t);if(f){var d=i.slice(0,f.index).split("\n"),p=f[0].split("\n"),h=s+d.length,g=d[d.length-1].length;return{from:m(h,g),to:m(h+p.length-1,1==p.length?g+p[0].length:p[p.length-1].length),match:f}}}}function u(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=r(e.slice(0,a)).length;if(s==n)return a;s>n?o=a:i=a+1}}function c(e,t,n,r){if(!t.length)return null;var i=r?p:h,o=i(t).split(/\r|\n\r?/);e:for(var a=n.line,s=n.ch,l=e.lastLine()+1-o.length;a<=l;a++,s=0){var c=e.getLine(a).slice(s),f=i(c);if(1==o.length){var d=f.indexOf(o[0]);if(-1==d)continue e;n=u(c,f,d,i)+s;return{from:m(a,u(c,f,d,i)+s),to:m(a,u(c,f,d+o[0].length,i)+s)}}var g=f.length-o[0].length;if(f.slice(g)==o[0]){for(var v=1;v<o.length-1;v++)if(i(e.getLine(a+v))!=o[v])continue e;var y=e.getLine(a+o.length-1),b=i(y),x=o[o.length-1];if(b.slice(0,x.length)==x)return{from:m(a,u(c,f,g,i)+s),to:m(a+o.length-1,u(y,b,x.length,i))}}}}function f(e,t,n,r){if(!t.length)return null;var i=r?p:h,o=i(t).split(/\r|\n\r?/);e:for(var a=n.line,s=n.ch,l=e.firstLine()-1+o.length;a>=l;a--,s=-1){var c=e.getLine(a);s>-1&&(c=c.slice(0,s));var f=i(c);if(1==o.length){var d=f.lastIndexOf(o[0]);if(-1==d)continue e;return{from:m(a,u(c,f,d,i)),to:m(a,u(c,f,d+o[0].length,i))}}var g=o[o.length-1];if(f.slice(0,g.length)==g){var v=1;for(n=a-o.length+1;v<o.length-1;v++)if(i(e.getLine(n+v))!=o[v])continue e;var y=e.getLine(a+1-o.length),b=i(y);if(b.slice(b.length-o[0].length)==o[0])return{from:m(a+1-o.length,u(y,b,y.length-o[0].length,i)),to:m(a,u(c,f,g.length,i))}}}}function d(e,t,r,a){var u;this.atOccurrence=!1,this.doc=e,r=r?e.clipPos(r):m(0,0),this.pos={from:r,to:r},"object"==typeof a?u=a.caseFold:(u=a,a=null),"string"==typeof t?(null==u&&(u=!1),this.matches=function(n,r){return(n?f:c)(e,t,r,u)}):(t=n(t,"gm"),a&&!1===a.multiline?this.matches=function(n,r){return(n?s:i)(e,t,r)}:this.matches=function(n,r){return(n?l:o)(e,t,r)})}var p,h,m=e.Pos;String.prototype.normalize?(p=function(e){return e.normalize("NFD").toLowerCase()},h=function(e){return e.normalize("NFD")}):(p=function(e){return e.toLowerCase()},h=function(e){return e}),d.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=m(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(m(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=m(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,m(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var r=m(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:r,to:r},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=m(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new d(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new d(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(t,n,r){var i,o=t.getWrapperElement();return(i=o.appendChild(document.createElement("div"))).className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?i.innerHTML=n:i.appendChild(n),e.addClass(o,"dialog-opened"),i}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,i,o){function a(t){if("string"==typeof t)f.value=t;else{if(u)return;u=!0,e.rmClass(l.parentNode,"dialog-opened"),l.parentNode.removeChild(l),c.focus(),o.onClose&&o.onClose(l)}}o||(o={}),n(this,null);var s,l=t(this,r,o.bottom),u=!1,c=this,f=l.getElementsByTagName("input")[0];return f?(f.focus(),o.value&&(f.value=o.value,!1!==o.selectValueOnOpen&&f.select()),o.onInput&&e.on(f,"input",function(e){o.onInput(e,f.value,a)}),o.onKeyUp&&e.on(f,"keyup",function(e){o.onKeyUp(e,f.value,a)}),e.on(f,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,f.value,a)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(f.blur(),e.e_stop(t),a()),13==t.keyCode&&i(f.value,t))}),!1!==o.closeOnBlur&&e.on(f,"blur",a)):(s=l.getElementsByTagName("button")[0])&&(e.on(s,"click",function(){a(),c.focus()}),!1!==o.closeOnBlur&&e.on(s,"blur",a),s.focus()),a}),e.defineExtension("openConfirm",function(r,i,o){function a(){u||(u=!0,e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),c.focus())}n(this,null);var s=t(this,r,o&&o.bottom),l=s.getElementsByTagName("button"),u=!1,c=this,f=1;l[0].focus();for(var d=0;d<l.length;++d){var p=l[d];!function(t){e.on(p,"click",function(n){e.e_preventDefault(n),a(),t&&t(c)})}(i[d]),e.on(p,"blur",function(){--f,setTimeout(function(){f<=0&&a()},200)}),e.on(p,"focus",function(){++f})}}),e.defineExtension("openNotification",function(r,i){function o(){l||(l=!0,clearTimeout(a),e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s))}n(this,o);var a,s=t(this,r,i&&i.bottom),l=!1,u=i&&"undefined"!=typeof i.duration?i.duration:5e3;return e.on(s,"click",function(t){e.e_preventDefault(t),o()}),u&&(a=setTimeout(o,u)),o})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e){return e&&e.bracketRegex||/[(){}[\]]/}function n(e,n,i){var o=e.getLineHandle(n.line),a=n.ch-1,u=i&&i.afterCursor;null==u&&(u=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=t(i),f=!u&&a>=0&&c.test(o.text.charAt(a))&&l[o.text.charAt(a)]||c.test(o.text.charAt(a+1))&&l[o.text.charAt(++a)];if(!f)return null;var d=">"==f.charAt(1)?1:-1;if(i&&i.strict&&d>0!=(a==n.ch))return null;var p=e.getTokenTypeAt(s(n.line,a+1)),h=r(e,s(n.line,a+(d>0?1:0)),d,p||null,i);return null==h?null:{from:s(n.line,a),to:h&&h.pos,match:h&&h.ch==f.charAt(0),forward:d>0}}function r(e,n,r,i,o){for(var a=o&&o.maxScanLineLength||1e4,u=o&&o.maxScanLines||1e3,c=[],f=t(o),d=r>0?Math.min(n.line+u,e.lastLine()+1):Math.max(e.firstLine()-1,n.line-u),p=n.line;p!=d;p+=r){var h=e.getLine(p);if(h){var m=r>0?0:h.length-1,g=r>0?h.length:-1;if(!(h.length>a))for(p==n.line&&(m=n.ch-(r<0?1:0));m!=g;m+=r){var v=h.charAt(m);if(f.test(v)&&(i===undefined||e.getTokenTypeAt(s(p,m+1))==i)){var y=l[v];if(y&&">"==y.charAt(1)==r>0)c.push(v);else{if(!c.length)return{pos:s(p,m),ch:v};c.pop()}}}}}return p-r!=(r>0?e.lastLine():e.firstLine())&&null}function i(e,t,r){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,o=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&n(e,l[u].head,r);if(c&&e.getLine(c.from.line).length<=i){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";o.push(e.markText(c.from,s(c.from.line,c.from.ch+1),{className:f})),c.to&&e.getLine(c.to.line).length<=i&&o.push(e.markText(c.to,s(c.to.line,c.to.ch+1),{className:f}))}}if(o.length){a&&e.state.focused&&e.focus();var d=function(){e.operation(function(){for(var e=0;e<o.length;e++)o[e].clear()})};if(!t)return d;setTimeout(d,800)}}function o(e){e.operation(function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=i(e,!1,e.state.matchBrackets)})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,l={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",o),t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",o))}),e.defineExtension("matchBrackets",function(){i(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,r){return(r||"boolean"==typeof t)&&(r?(r.strict=t,t=r):t=t?{strict:!0}:null),n(this,e,t)}),e.defineExtension("scanForBracket",function(e,t,n,i){return r(this,e,t,n,i)})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:f[t]}function n(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),i="'"+n+"'";p[i]||(p[i]=r(n))}}function r(e){return function(t){return l(t,e)}}function i(e){var t=e.state.closeBrackets;return!t||t.override?t:e.getModeAt(e.getCursor()).closeBrackets||t}function o(n){var r=i(n);if(!r||n.getOption("disableInput"))return e.Pass;for(var o=t(r,"pairs"),a=n.listSelections(),s=0;s<a.length;s++){if(!a[s].empty())return e.Pass;var l=u(n,a[s].head);if(!l||o.indexOf(l)%2!=0)return e.Pass}for(s=a.length-1;s>=0;s--){var c=a[s].head;n.replaceRange("",d(c.line,c.ch-1),d(c.line,c.ch+1),"+delete")}}function a(n){var r=i(n),o=r&&t(r,"explode");if(!o||n.getOption("disableInput"))return e.Pass;for(var a=n.listSelections(),s=0;s<a.length;s++){if(!a[s].empty())return e.Pass;var l=u(n,a[s].head);if(!l||o.indexOf(l)%2!=0)return e.Pass}n.operation(function(){var e=n.lineSeparator()||"\n";n.replaceSelection(e+e,null),n.execCommand("goCharLeft"),a=n.listSelections();for(var t=0;t<a.length;t++){var r=a[t].head.line;n.indentLine(r,null,!0),n.indentLine(r+1,null,!0)}})}function s(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new d(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new d(t.head.line,t.head.ch+(n?1:-1))}}function l(n,r){var o=i(n);if(!o||n.getOption("disableInput"))return e.Pass;var a=t(o,"pairs"),l=a.indexOf(r);if(-1==l)return e.Pass;for(var u,f=t(o,"closeBefore"),p=t(o,"triples"),h=a.charAt(l+1)==r,m=n.listSelections(),g=l%2==0,v=0;v<m.length;v++){var y,b=m[v],x=b.head,w=n.getRange(x,d(x.line,x.ch+1));if(g&&!b.empty())y="surround";else if(!h&&g||w!=r)if(h&&x.ch>1&&p.indexOf(r)>=0&&n.getRange(d(x.line,x.ch-2),x)==r+r){if(x.ch>2&&/\bstring/.test(n.getTokenTypeAt(d(x.line,x.ch-2))))return e.Pass;y="addFour"}else if(h){var k=0==x.ch?" ":n.getRange(d(x.line,x.ch-1),x);if(e.isWordChar(w)||k==r||e.isWordChar(k))return e.Pass;y="both"}else{if(!g||!(0===w.length||/\s/.test(w)||f.indexOf(w)>-1))return e.Pass;y="both"}else y=h&&c(n,x)?"both":p.indexOf(r)>=0&&n.getRange(x,d(x.line,x.ch+3))==r+r+r?"skipThree":"skip";if(u){if(u!=y)return e.Pass}else u=y}var C=l%2?a.charAt(l-1):r,S=l%2?r:a.charAt(l+1);n.operation(function(){if("skip"==u)n.execCommand("goCharRight");else if("skipThree"==u)for(var e=0;e<3;e++)n.execCommand("goCharRight");else if("surround"==u){var t=n.getSelections();for(e=0;e<t.length;e++)t[e]=C+t[e]+S;n.replaceSelections(t,"around"),t=n.listSelections().slice();for(e=0;e<t.length;e++)t[e]=s(t[e]);n.setSelections(t)}else"both"==u?(n.replaceSelection(C+S,null),n.triggerElectric(C+S),n.execCommand("goCharLeft")):"addFour"==u&&(n.replaceSelection(C+C+C+C,"before"),n.execCommand("goCharRight"))})}function u(e,t){var n=e.getRange(d(t.line,t.ch-1),d(t.line,t.ch+1));return 2==n.length?n:null}function c(e,t){var n=e.getTokenAt(d(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}var f={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},d=e.Pos;e.defineOption("autoCloseBrackets",!1,function(r,i,o){o&&o!=e.Init&&(r.removeKeyMap(p),r.state.closeBrackets=null),i&&(n(t(i,"pairs")),r.state.closeBrackets=i,r.addKeyMap(p))});var p={Backspace:o,Enter:a};n(f.pairs+"`")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,i,o,a){function s(e){var n=l(t,i);if(!n||n.to.line-n.from.line<u)return null;for(var r=t.findMarksAt(n.from),o=0;o<r.length;++o)if(r[o].__isFold&&"fold"!==a){if(!e)return null;n.cleared=!0,r[o].clear()}return n}if(o&&o.call){var l=o;o=null}else l=r(t,o,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var u=r(t,o,"minFoldSize"),c=s(!0);if(r(t,o,"scanUp"))for(;!c&&i.line>t.firstLine();)i=e.Pos(i.line-1,0),c=s(!1);if(c&&!c.cleared&&"unfold"!==a){var f=n(t,o);e.on(f,"mousedown",function(t){d.clear(),e.e_preventDefault(t)});var d=t.markText(c.from,c.to,{replacedWith:f,clearOnEnter:r(t,o,"clearOnEnter"),__isFold:!0});d.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,c.from,c.to)}}function n(e,t){var n=r(e,t,"widget");if("string"==typeof n){var i=document.createTextNode(n);(n=document.createElement("span")).appendChild(i),n.className="CodeMirror-foldmarker"}else n&&(n=n.cloneNode(!0));return n}function r(e,t,n){if(t&&t[n]!==undefined)return t[n];var r=e.options.foldOptions;return r&&r[n]!==undefined?r[n]:i[n]}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return r(this,e,t)})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],e):e(CodeMirror)}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function r(e,t){for(var n=e.findMarks(f(t,0),f(t+1,0)),r=0;r<n.length;++r)if(n[r].__isFold&&n[r].find().from.line==t)return n[r]}function i(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,t,n){var o=e.state.foldGutter.options,a=t,s=e.foldOption(o,"minFoldSize"),l=e.foldOption(o,"rangeFinder");e.eachLine(t,n,function(t){var n=null;if(r(e,a))n=i(o.indicatorFolded);else{var u=f(a,0),c=l&&l(e,u);c&&c.to.line-c.from.line>=s&&(n=i(o.indicatorOpen))}e.setGutterMarker(t,o.gutter,n),++a})}function a(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function s(e,t,n){var i=e.state.foldGutter;if(i){var o=i.options;if(n==o.gutter){var a=r(e,t);a?a.clear():e.foldCode(f(t,0),o.rangeFinder)}}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){a(e)},n.foldOnChangeTimeSpan||600)}}function u(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?a(e):e.operation(function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function c(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&o(e,r,r+1)}}e.defineOption("foldGutter",!1,function(r,i,o){o&&o!=e.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",s),r.off("change",l),r.off("viewportChange",u),r.off("fold",c),r.off("unfold",c),r.off("swapDoc",l)),i&&(r.state.foldGutter=new t(n(i)),a(r),r.on("gutterClick",s),r.on("change",l),r.on("viewportChange",u),r.on("fold",c),r.on("unfold",c),r.on("swapDoc",l))});var f=e.Pos}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function r(r){for(var s=n.ch,l=0;;){var u=s<=0?-1:a.lastIndexOf(r,s-1);if(-1!=u){if(1==l&&u<n.ch)break;if(i=t.getTokenTypeAt(e.Pos(o,u+1)),!/^(comment|string)/.test(i))return u+1;s=u-1}else{if(1==l)break;l=1,s=a.length}}}var i,o=n.line,a=t.getLine(o),s="{",l="}",u=r("{");if(null==u&&(s="[",l="]",u=r("[")),null!=u){var c,f,d=1,p=t.lastLine();e:for(var h=o;h<=p;++h)for(var m=t.getLine(h),g=h==o?u:0;;){var v=m.indexOf(s,g),y=m.indexOf(l,g);if(v<0&&(v=m.length),y<0&&(y=m.length),(g=Math.min(v,y))==m.length)break;if(t.getTokenTypeAt(e.Pos(h,g+1))==i)if(g==v)++d;else if(!--d){c=h,f=g;break e}++g}if(null!=c&&o!=c)return{from:e.Pos(o,u),to:e.Pos(c,f)}}}),e.registerHelper("fold","import",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);i<=o;++i){var a=t.getLine(i).indexOf(";");if(-1!=a)return{startCh:r.end,end:e.Pos(i,a)}}}var i,o=n.line,a=r(o);if(!a||r(o-1)||(i=r(o-2))&&i.end.line==o-1)return null;for(var s=a.end;;){var l=r(s.line+1);if(null==l)break;s=l.end}return{from:t.clipPos(e.Pos(o,a.startCh+1)),to:s}}),e.registerHelper("fold","include",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var i=n.line,o=r(i);if(null==o||null!=r(i-1))return null;for(var a=i;;){if(null==r(a+1))break;++a}return{from:e.Pos(i,o+1),to:t.clipPos(e.Pos(a))}})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function r(e,t){var n=e.cm.getTokenTypeAt(d(e.line,t));return n&&/\btag\b/.test(n)}function i(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function o(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function a(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(i(e))continue;return}if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}function s(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(o(e))continue;return}if(r(e,t+1)){h.lastIndex=t,e.ch=t;var n=h.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){h.lastIndex=e.ch;var t=h.exec(e.text);if(!t){if(i(e))continue;return}if(r(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(o(e))continue;return}if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}function c(e,t){for(var n=[];;){var r,i=l(e),o=e.line,s=e.ch-(i?i[0].length:0);if(!i||!(r=a(e)))return;if("selfClose"!=r)if(i[1]){for(var u=n.length-1;u>=0;--u)if(n[u]==i[2]){n.length=u;break}if(u<0&&(!t||t==i[2]))return{tag:i[2],from:d(o,s),to:d(e.line,e.ch)}}else n.push(i[2])}}function f(e,t){for(var n=[];;){var r=u(e);if(!r)return;if("selfClose"!=r){var i=e.line,o=e.ch,a=s(e);if(!a)return;if(a[1])n.push(a[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==a[2]){n.length=l;break}if(l<0&&(!t||t==a[2]))return{tag:a[2],from:d(e.line,e.ch),to:d(i,o)}}}else s(e)}}var d=e.Pos,p="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h=new RegExp("<(/?)(["+p+"]["+(p+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*)","g");e.registerHelper("fold","xml",function(e,r){for(var i=new n(e,r.line,0);;){var o=l(i);if(!o||i.line!=r.line)return;var s=a(i);if(!s)return;if(!o[1]&&"selfClose"!=s){var u=d(i.line,i.ch),f=c(i,o[2]);return f&&t(f.from,u)>0?{from:u,to:f.from}:null}}}),e.findMatchingTag=function(e,r,i){var o=new n(e,r.line,r.ch,i);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var l=a(o),u=l&&d(o.line,o.ch),p=l&&s(o);if(l&&p&&!(t(o,r)>0)){var h={from:d(o.line,o.ch),to:u,tag:p[2]};return"selfClose"==l?{open:h,close:null,at:"open"}:p[1]?{open:f(o,p[2]),close:h,at:"close"}:{open:h,close:c(o=new n(e,u.line,u.ch,i),p[2]),at:"open"}}}},e.findEnclosingTag=function(e,t,r,i){for(var o=new n(e,t.line,t.ch,r);;){var a=f(o,i);if(!a)break;var s=c(new n(e,t.line,t.ch,r),a.tag);if(s)return{open:a,close:s}}},e.scanForClosingTag=function(e,t,r,i){return c(new n(e,t.line,t.ch,i?{from:0,to:i}:null),r)}}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","markdown",function(t,n){function r(n){var r=t.getTokenTypeAt(e.Pos(n,0));return r&&/\bheader\b/.test(r)}function i(e,t,n){var i=t&&t.match(/^#+/);return i&&r(e)?i[0].length:(i=n&&n.match(/^[=\-]+\s*$/))&&r(e+1)?"="==n[0]?1:2:o}var o=100,a=t.getLine(n.line),s=t.getLine(n.line+1),l=i(n.line,a,s);if(l===o)return undefined;for(var u=t.lastLine(),c=n.line,f=t.getLine(c+2);c<u&&!(i(c+1,s,f)<=l);)++c,s=f,f=t.getLine(c+2);return{from:e.Pos(n.line,a.length),to:e.Pos(c,t.getLine(c).length)}})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,n){var r=t.getModeAt(n),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var a,s=n.line,l=t.getLine(s),u=n.ch,c=0;;){var f=u<=0?-1:l.lastIndexOf(i,u-1);if(-1!=f){if(1==c&&f<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(s,f+1)))&&(0==f||l.slice(f-o.length,f)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(s,f))))){a=f+i.length;break}u=f-1}else{if(1==c)return;c=1,u=l.length}}var d,p,h=1,m=t.lastLine();e:for(var g=s;g<=m;++g)for(var v=t.getLine(g),y=g==s?a:0;;){var b=v.indexOf(i,y),x=v.indexOf(o,y);if(b<0&&(b=v.length),x<0&&(x=v.length),(y=Math.min(b,x))==v.length)break;if(y==b)++h;else if(!--h){d=g,p=y;break e}++y}if(null!=d&&(s!=d||p!=a))return{from:e.Pos(s,a),to:e.Pos(d,p)}}})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){function i(t){var n=e.wheelEventPixels(t)["horizontal"==o.orientation?"x":"y"],r=o.pos;o.moveTo(o.pos+n),o.pos!=r&&e.e_preventDefault(t)}this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=t+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var o=this;e.on(this.inner,"mousedown",function(t){function n(){e.off(document,"mousemove",r),e.off(document,"mouseup",n)}function r(e){if(1!=e.which)return n();o.moveTo(s+(e[i]-a)*(o.total/o.size))}if(1==t.which){e.e_preventDefault(t);var i="horizontal"==o.orientation?"pageX":"pageY",a=t[i],s=o.pos;e.on(document,"mousemove",r),e.on(document,"mouseup",n)}}),e.on(this.node,"click",function(t){e.e_preventDefault(t);var n,r=o.inner.getBoundingClientRect();n="horizontal"==o.orientation?t.clientX<r.left?-1:t.clientX>r.right?1:0:t.clientY<r.top?-1:t.clientY>r.bottom?1:0,o.moveTo(o.pos+n*o.screen)}),e.on(this.node,"mousewheel",i),e.on(this.node,"DOMMouseScroll",i)}function n(e,n,r){this.addClass=e,this.horiz=new t(e,"horizontal",r),n(this.horiz.node),this.vert=new t(e,"vertical",r),n(this.vert.node),this.width=null}t.prototype.setPos=function(e,t){return e<0&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen),!(!t&&e==this.pos)&&(this.pos=e,this.inner.style["horizontal"==this.orientation?"left":"top"]=e*(this.size/this.total)+"px",!0)},t.prototype.moveTo=function(e){this.setPos(e)&&this.scroll(e,this.orientation)};var r=10;t.prototype.update=function(e,t,n){var i=this.screen!=t||this.total!=e||this.size!=n;i&&(this.screen=t,this.total=e,this.size=n);var o=this.screen*(this.size/this.total);o<r&&(this.size-=r-o,o=r),this.inner.style["horizontal"==this.orientation?"width":"height"]=o+"px",this.setPos(this.pos,i)},n.prototype.update=function(e){if(null==this.width){var t=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;t&&(this.width=parseInt(t.height))}var n=this.width||0,r=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(r?n:0)),this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(i?n:0)-e.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(e){this.vert.setPos(e)},n.prototype.setScrollLeft=function(e){this.horiz.setPos(e)},n.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},e.scrollbarModel.simple=function(e,t){return new n("CodeMirror-simplescroll",e,t)},e.scrollbarModel.overlay=function(e,t){return new n("CodeMirror-overlayscroll",e,t)}}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.runMode=function(t,n,r,i){var o=e.getMode(e.defaults,n),a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<9);if(r.appendChild){var s=i&&i.tabSize||e.defaults.tabSize,l=r,u=0;l.innerHTML="",r=function(e,t){if("\n"==e)return l.appendChild(document.createTextNode(a?"\r":e)),void(u=0);for(var n="",r=0;;){var i=e.indexOf("\t",r);if(-1==i){n+=e.slice(r),u+=e.length-r;break}u+=i-r,n+=e.slice(r,i);var o=s-u%s;u+=o;for(var c=0;c<o;++c)n+=" ";r=i+1}if(t){var f=l.appendChild(document.createElement("span"));f.className="cm-"+t.replace(/ +/g," cm-"),f.appendChild(document.createTextNode(n))}else l.appendChild(document.createTextNode(n))}}for(var c=e.splitLines(t),f=i&&i.state||e.startState(o),d=0,p=c.length;d<p;++d){d&&r("\n");var h=new e.StringStream(c[d]);for(!h.string&&o.blankLine&&o.blankLine(f);!h.eol();){var m=o.token(h,f);r(h.current(),m,d,h.start,f),h.start=h.pos}}}}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(r,i){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(u(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(k=e.eat("/")?"closeTag":"openTag",t.tokenize=a,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function a(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,k=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return k="equals",null;if("<"==n){t.tokenize=o,t.state=p,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=s(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=a;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=o;break}n.next()}return e}}function u(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=u(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=o;break}return n.tokenize=u(e-1),n.tokenize(t,n)}}return"meta"}}function c(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(_.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function f(e){e.context&&(e.context=e.context.prev)}function d(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!_.contextGrabbers.hasOwnProperty(n)||!_.contextGrabbers[n].hasOwnProperty(t))return;f(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),h):"closeTag"==e?m:p}function h(e,t,n){return"word"==e?(n.tagName=t.current(),C="tag",y):_.allowMissingTagName&&"endTag"==e?(C="tag bracket",y(e,t,n)):(C="error",h)}function m(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&_.implicitlyClosed.hasOwnProperty(n.context.tagName)&&f(n),n.context&&n.context.tagName==r||!1===_.matchClosing?(C="tag",g):(C="tag error",v)}return _.allowMissingTagName&&"endTag"==e?(C="tag bracket",g(e,t,n)):(C="error",v)}function g(e,t,n){return"endTag"!=e?(C="error",g):(f(n),p)}function v(e,t,n){return C="error",g(e,t,n)}function y(e,t,n){if("word"==e)return C="attribute",b;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||_.autoSelfClosers.hasOwnProperty(r)?d(n,r):(d(n,r),n.context=new c(n,r,i==n.indented)),p}return C="error",y}function b(e,t,n){return"equals"==e?x:(_.allowMissing||(C="error"),y(e,t,n))}function x(e,t,n){return"string"==e?w:"word"==e&&_.allowUnquoted?(C="string",y):(C="error",y(e,t,n))}function w(e,t,n){return"string"==e?w:y(e,t,n)}var k,C,S=r.indentUnit,_={},T=i.htmlMode?t:n;for(var A in T)_[A]=T[A];for(var A in i)_[A]=i[A];return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;k=null;var n=t.tokenize(e,t);return(n||k)&&"comment"!=n&&(C=null,t.state=t.state(k||n,e,t),C&&(n="error"==C?n+" error":C)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+S;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=a&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==_.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+S*(_.multilineTagIndentFactor||1);if(_.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;i;){if(i.tagName==s[2]){i=i.prev;break}if(!_.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(s)for(;i;){var l=_.contextGrabbers[i.tagName];if(!l||!l.hasOwnProperty(s[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+S:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:_.htmlMode?"html":"xml",helperType:_.htmlMode?"html":"xml",skipAttribute:function(e){e.state==x&&(e.state=y)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}function n(e){var t=l[e];return t||(l[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function r(e,t){var r=e.match(n(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function i(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}function a(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i[0]||i[1].test(r(t,i[0])))return i[2]}}var s={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},l={};e.defineMode("htmlmixed",function(n,r){function l(r,o){var s,f=u.token(r,o.htmlState),d=/\btag\b/.test(f);if(d&&!/[<>\s\/]/.test(r.current())&&(s=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(s))o.inTag=s+" ";else if(o.inTag&&d&&/>$/.test(r.current())){var p=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var h=">"==r.current()&&a(c[p[1]],p[2]),m=e.getMode(n,h),g=i(p[1],!0),v=i(p[1],!1);o.token=function(e,n){return e.match(g,!1)?(n.token=l,n.localState=n.localMode=null,null):t(e,v,n.localMode.token(e,n.localState))},o.localMode=m,o.localState=e.startState(m,u.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=r.current(),r.eol()&&(o.inTag+=" "));return f}var u=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:r.multilineTagIndentFactor,multilineTagIndentPastTag:r.multilineTagIndentPastTag}),c={},f=r&&r.tags,d=r&&r.scriptTypes;if(o(s,c),f&&o(f,c),d)for(var p=d.length-1;p>=0;p--)c.script.unshift(["type",d[p].matches,d[p].mode]);return{startState:function(){return{token:l,inTag:null,localMode:null,localState:null,htmlState:e.startState(u)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(u,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?u.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||u}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function r(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return"null"==i.name?null:i}function i(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function a(e){return!e||!/\S/.test(e.string)}function s(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==u){var n=w;if(!n){var r=e.innerMode(x,t.htmlState);n="xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText}n&&(t.f=p,t.block=l,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function l(t,o){var s=t.column()===o.indentation,l=a(o.prevLine.stream),u=o.indentedCode,d=o.prevLine.hr,p=!1!==o.list,h=(o.listStack[o.listStack.length-1]||0)+3;o.indentedCode=!1;var m=o.indentation;if(null===o.indentationDiff&&(o.indentationDiff=o.indentation,p)){for(o.em=!1,o.strong=!1,o.code=!1,o.strikethrough=!1,o.list=null;m<o.listStack[o.listStack.length-1];)o.listStack.pop(),o.listStack.length?o.indentation=o.listStack[o.listStack.length-1]:o.list=!1;!1!==o.list&&(o.indentationDiff=m-o.listStack[o.listStack.length-1])}var g=!(l||d||o.prevLine.header||p&&u||o.prevLine.fencedCodeEnd),y=(!1===o.list||d||l)&&o.indentation<=h&&t.match(S),b=null;if(o.indentationDiff>=4&&(u||o.prevLine.fencedCodeEnd||o.prevLine.header||l))return t.skipToEnd(),o.indentedCode=!0,k.code;if(t.eatSpace())return null;if(s&&o.indentation<=h&&(b=t.match(A))&&b[1].length<=6)return o.quote=0,o.header=b[1].length,o.thisLine.header=!0,n.highlightFormatting&&(o.formatting="header"),o.f=o.inline,f(o);if(o.indentation<=h&&t.eat(">"))return o.quote=s?1:o.quote+1,n.highlightFormatting&&(o.formatting="quote"),t.eatSpace(),f(o);if(!y&&!o.setext&&s&&o.indentation<=h&&(b=t.match(_))){var x=b[1]?"ol":"ul";return o.indentation=m+t.current().length,o.list=!0,o.quote=0,o.listStack.push(o.indentation),n.taskLists&&t.match(T,!1)&&(o.taskList=!0),o.f=o.inline,n.highlightFormatting&&(o.formatting=["list","list-"+x]),f(o)}return s&&o.indentation<=h&&(b=t.match(E,!0))?(o.quote=0,o.fencedEndRE=new RegExp(b[1]+"+ *$"),o.localMode=n.fencedCodeBlockHighlighting&&r(b[2]),o.localMode&&(o.localState=e.startState(o.localMode)),o.f=o.block=c,n.highlightFormatting&&(o.formatting="code-block"),o.code=-1,f(o)):o.setext||!(g&&p||o.quote||!1!==o.list||o.code||y||O.test(t.string))&&(b=t.lookAhead(1))&&(b=b.match(L))?(o.setext?(o.header=o.setext,o.setext=0,t.skipToEnd(),n.highlightFormatting&&(o.formatting="header")):(o.header="="==b[0].charAt(0)?1:2,o.setext=o.header),o.thisLine.header=!0,o.f=o.inline,f(o)):y?(t.skipToEnd(),o.hr=!0,o.thisLine.hr=!0,k.hr):"["===t.peek()?i(t,o,v):i(t,o,o.inline)}function u(t,n){var r=x.token(t,n.htmlState);if(!w){var i=e.innerMode(x,n.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=p,n.block=l,n.htmlState=null)}return r}function c(e,t){var r,i=t.listStack[t.listStack.length-1]||0,a=t.indentation<i,s=i+3;return t.fencedEndRE&&t.indentation<=s&&(a||e.match(t.fencedEndRE))?(n.highlightFormatting&&(t.formatting="code-block"),a||(r=f(t)),t.localMode=t.localState=null,t.block=l,t.f=p,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,a?o(e,t,t.block):r):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),k.code)}function f(e){var t=[];if(e.formatting){t.push(k.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(k.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(k.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(k.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(k.linkHref,"url"):(e.strong&&t.push(k.strong),e.em&&t.push(k.em),e.strikethrough&&t.push(k.strikethrough),e.emoji&&t.push(k.emoji),e.linkText&&t.push(k.linkText),e.code&&t.push(k.code),e.image&&t.push(k.image),e.imageAltText&&t.push(k.imageAltText,"link"),e.imageMarker&&t.push(k.imageMarker)),e.header&&t.push(k.header,k.header+"-"+e.header),e.quote&&(t.push(k.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(k.quote+"-"+e.quote):t.push(k.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var i=(e.listStack.length-1)%3;i?1===i?t.push(k.list2):t.push(k.list3):t.push(k.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function d(e,t){return e.match(M,!0)?f(t):undefined}function p(t,r){var i=r.text(t,r);if(void 0!==i)return i;if(r.list)return r.list=null,f(r);if(r.taskList)return" "===t.match(T,!0)[1]?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,f(r);if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),f(r);var a=t.next();if(r.linkTitle){r.linkTitle=!1;var s=a;"("===a&&(s=")");var l="^\\s*(?:[^"+(s=(s+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+s;if(t.match(new RegExp(l),!0))return k.linkHref}if("`"===a){var c=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var d=t.current().length;if(0!=r.code||r.quote&&1!=d){if(d==r.code){var g=f(r);return r.code=0,g}return r.formatting=c,f(r)}return r.code=d,f(r)}if(r.code)return f(r);if("\\"===a&&(t.next(),n.highlightFormatting)){var v=f(r),y=k.formatting+"-escape";return v?v+" "+y:y}if("!"===a&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,n.highlightFormatting&&(r.formatting="image"),f(r);if("["===a&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,n.highlightFormatting&&(r.formatting="image"),f(r);if("]"===a&&r.imageAltText){n.highlightFormatting&&(r.formatting="image");var v=f(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=m,v}if("["===a&&!r.image)return r.linkText&&t.match(/^.*?\]/)?f(r):(r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),f(r));if("]"===a&&r.linkText){n.highlightFormatting&&(r.formatting="link");var v=f(r);return r.linkText=!1,r.inline=r.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?m:p,v}if("<"===a&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link"),(v=f(r))?v+=" ":v="",v+k.linkInline;if("<"===a&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link"),(v=f(r))?v+=" ":v="",v+k.linkEmail;if(n.xml&&"<"===a&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var b=t.string.indexOf(">",t.pos);if(-1!=b){var w=t.string.substring(t.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(x),o(t,r,u)}if(n.xml&&"<"===a&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===a||"_"===a){for(var C=1,S=1==t.pos?" ":t.string.charAt(t.pos-2);C<3&&t.eat(a);)C++;var _=t.peek()||" ",A=!/\s/.test(_)&&(!P.test(_)||/\s/.test(S)||P.test(S)),L=!/\s/.test(S)&&(!P.test(S)||/\s/.test(_)||P.test(_)),M=null,E=null;if(C%2&&(r.em||!A||"*"!==a&&L&&!P.test(S)?r.em!=a||!L||"*"!==a&&A&&!P.test(_)||(M=!1):M=!0),C>1&&(r.strong||!A||"*"!==a&&L&&!P.test(S)?r.strong!=a||!L||"*"!==a&&A&&!P.test(_)||(E=!1):E=!0),null!=E||null!=M){n.highlightFormatting&&(r.formatting=null==M?"strong":null==E?"em":"strong em"),!0===M&&(r.em=a),!0===E&&(r.strong=a);g=f(r);return!1===M&&(r.em=!1),!1===E&&(r.strong=!1),g}}else if(" "===a&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return f(r);t.backUp(1)}if(n.strikethrough)if("~"===a&&t.eatWhile(a)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");g=f(r);return r.strikethrough=!1,g}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),f(r)}else if(" "===a&&t.match(/^~~/,!0)){if(" "===t.peek())return f(r);t.backUp(2)}if(n.emoji&&":"===a&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){r.emoji=!0,n.highlightFormatting&&(r.formatting="emoji");var O=f(r);return r.emoji=!1,O}return" "===a&&(t.match(/^ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),f(r)}function h(e,t){if(">"===e.next()){t.f=t.inline=p,n.highlightFormatting&&(t.formatting="link");var r=f(t);return r?r+=" ":r="",r+k.linkInline}return e.match(/^[^>]+/,!0),k.linkInline}function m(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=g("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,f(t)):"error"}function g(e){return function(t,r){if(t.next()===e){r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link-string");var i=f(r);return r.linkHref=!1,i}return t.match(N[e]),r.linkHref=!0,f(r)}}function v(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=y,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,f(t)):i(e,t,p)}function y(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=b,n.highlightFormatting&&(t.formatting="link");var r=f(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),k.linkText}function b(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),e.peek()===undefined?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=p,k.linkHref+" url")}var x=e.getMode(t,"text/html"),w="null"==x.name;n.highlightFormatting===undefined&&(n.highlightFormatting=!1),n.maxBlockquoteDepth===undefined&&(n.maxBlockquoteDepth=0),n.taskLists===undefined&&(n.taskLists=!1),n.strikethrough===undefined&&(n.strikethrough=!1),n.emoji===undefined&&(n.emoji=!1),n.fencedCodeBlockHighlighting===undefined&&(n.fencedCodeBlockHighlighting=!0),n.xml===undefined&&(n.xml=!0),n.tokenTypeOverrides===undefined&&(n.tokenTypeOverrides={});var k={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var C in k)k.hasOwnProperty(C)&&n.tokenTypeOverrides[C]&&(k[C]=n.tokenTypeOverrides[C]);var S=/^([*\-_])(?:\s*\1){2,}\s*$/,_=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,T=/^\[(x| )\](?=\s)/i,A=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,L=/^ *(?:\={1,}|-{1,})\s*$/,M=/^[^#!\[\]*_\\<>` "'(~:]+/,E=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,O=/^\s*\[[^\]]+?\]:.*$/,P=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,j="    ",N={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},D={startState:function(){return{f:l,prevLine:{stream:null},thisLine:{stream:null},block:l,htmlState:null,indentation:0,inline:p,text:d,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(x,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return s(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=u)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,j).length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==u?{state:e.htmlState,mode:x}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:D}},indent:function(t,n,r){return t.block==u&&x.indent?x.indent(t.htmlState,n,r):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},blankLine:s,getType:f,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return D},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../ruby/ruby")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../ruby/ruby"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("haml",function(t){function n(e){return function(t,n){return t.peek()==e&&1==n.rubyState.tokenize.length?(t.next(),n.tokenize=i,"closeAttributeTag"):r(t,n)}}function r(e,t){return e.match("-#")?(e.skipToEnd(),"comment"):a.token(e,t.rubyState)}function i(e,t){var i=e.peek();if("comment"==t.previousToken.style&&t.indented>t.previousToken.indented)return e.skipToEnd(),"commentLine";if(t.startOfLine){if("!"==i&&e.match("!!"))return e.skipToEnd(),"tag";if(e.match(/^%[\w:#\.]+=/))return t.tokenize=r,"hamlTag";if(e.match(/^%[\w:]+/))return"hamlTag";if("/"==i)return e.skipToEnd(),"comment"}if((t.startOfLine||"hamlTag"==t.previousToken.style)&&("#"==i||"."==i))return e.match(/[\w-#\.]*/),"hamlAttribute";if(t.startOfLine&&!e.match("-->",!1)&&("="==i||"-"==i))return t.tokenize=r,t.tokenize(e,t);if("hamlTag"==t.previousToken.style||"closeAttributeTag"==t.previousToken.style||"hamlAttribute"==t.previousToken.style){if("("==i)return t.tokenize=n(")"),t.tokenize(e,t);if("{"==i&&!e.match(/^\{%.*/))return t.tokenize=n("}"),t.tokenize(e,t)}return o.token(e,t.htmlState)}var o=e.getMode(t,{name:"htmlmixed"}),a=e.getMode(t,"ruby");return{startState:function(){return{htmlState:e.startState(o),rubyState:e.startState(a),indented:0,previousToken:{style:null,indented:0},tokenize:i}},copyState:function(t){return{htmlState:e.copyState(o,t.htmlState),rubyState:e.copyState(a,t.rubyState),indented:t.indented,previousToken:t.previousToken,tokenize:t.tokenize}},token:function(e,t){if(e.sol()&&(t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;var n=t.tokenize(e,t);if(t.startOfLine=!1,n&&"commentLine"!=n&&(t.previousToken={style:n,indented:t.indented}),e.eol()&&t.tokenize==r){e.backUp(1);var o=e.peek();e.next(),o&&","!=o&&(t.tokenize=i)}return"hamlTag"==n?n="tag":"commentLine"==n?n="comment":"hamlAttribute"==n?n="attribute":"closeAttributeTag"==n&&(n=null),n}}},"htmlmixed","ruby"),e.defineMIME("text/x-haml","haml")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../javascript/javascript"),require("../css/css"),require("../htmlmixed/htmlmixed")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../javascript/javascript","../css/css","../htmlmixed/htmlmixed"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("pug",function(t){function n(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=e.startState(J),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=Infinity,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}function r(e,t){if(e.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&":"===e.peek())return t.javaScriptLine=!1,void(t.javaScriptLineExcludesColon=!1);var n=J.token(e,t.jsState);return e.eol()&&(t.javaScriptLine=!1),n||!0}}function i(e,t){if(t.javaScriptArguments)return 0===t.javaScriptArgumentsDepth&&"("!==e.peek()?void(t.javaScriptArguments=!1):("("===e.peek()?t.javaScriptArgumentsDepth++:")"===e.peek()&&t.javaScriptArgumentsDepth--,0===t.javaScriptArgumentsDepth?void(t.javaScriptArguments=!1):J.token(e,t.jsState)||!0)}function o(e){if(e.match(/^yield\b/))return"keyword"}function a(e){if(e.match(/^(?:doctype) *([^\n]+)?/))return K}function s(e,t){if(e.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function l(e,t){if(t.isInterpolating){if("}"===e.peek()){if(t.interpolationNesting--,t.interpolationNesting<0)return e.next(),t.isInterpolating=!1,"punctuation"}else"{"===e.peek()&&t.interpolationNesting++;return J.token(e,t.jsState)||!0}}function u(e,t){if(e.match(/^case\b/))return t.javaScriptLine=!0,V}function c(e,t){if(e.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,V}function f(e){if(e.match(/^default\b/))return V}function d(e,t){if(e.match(/^extends?\b/))return t.restOfLine="string",V}function p(e,t){if(e.match(/^append\b/))return t.restOfLine="variable",V}function h(e,t){if(e.match(/^prepend\b/))return t.restOfLine="variable",V}function m(e,t){if(e.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable",V}function g(e,t){if(e.match(/^include\b/))return t.restOfLine="string",V}function v(e,t){if(e.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&e.match("include"))return t.isIncludeFiltered=!0,V}function y(e,t){if(t.isIncludeFiltered){var n=A(e,t);return t.isIncludeFiltered=!1,t.restOfLine="string",n}}function b(e,t){if(e.match(/^mixin\b/))return t.javaScriptLine=!0,V}function x(e,t){return e.match(/^\+([-\w]+)/)?(e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable"):e.match(/^\+#{/,!1)?(e.next(),t.mixinCallAfter=!0,s(e,t)):void 0}function w(e,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}function k(e,t){if(e.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,V}function C(e,t){if(e.match(/^(- *)?(each|for)\b/))return t.isEach=!0,V}function S(e,t){if(t.isEach){if(e.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,V;if(e.sol()||e.eol())t.isEach=!1;else if(e.next()){for(;!e.match(/^ in\b/,!1)&&e.next(););return"variable"}}}function _(e,t){if(e.match(/^while\b/))return t.javaScriptLine=!0,V}function T(e,t){var n;if(n=e.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=n[1].toLowerCase(),"script"===t.lastTag&&(t.scriptType="application/javascript"),"tag"}function A(n,r){var i;if(n.match(/^:([\w\-]+)/))return t&&t.innerModes&&(i=t.innerModes(n.current().substring(1))),i||(i=n.current().substring(1)),"string"==typeof i&&(i=e.getMode(t,i)),$(n,r,i),"atom"}function L(e,t){if(e.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}function M(e){if(e.match(/^#([\w-]+)/))return G}function E(e){if(e.match(/^\.([\w-]+)/))return X}function O(e,t){if("("==e.peek())return e.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}function P(t,n){if(n.isAttrs){if(Y[t.peek()]&&n.attrsNest.push(Y[t.peek()]),n.attrsNest[n.attrsNest.length-1]===t.peek())n.attrsNest.pop();else if(t.eat(")"))return n.isAttrs=!1,"punctuation";if(n.inAttributeName&&t.match(/^[^=,\)!]+/))return"="!==t.peek()&&"!"!==t.peek()||(n.inAttributeName=!1,n.jsState=e.startState(J),"script"===n.lastTag&&"type"===t.current().trim().toLowerCase()?n.attributeIsType=!0:n.attributeIsType=!1),"attribute";var r=J.token(t,n.jsState);if(n.attributeIsType&&"string"===r&&(n.scriptType=t.current().toString()),0===n.attrsNest.length&&("string"===r||"variable"===r||"keyword"===r))try{return Function("","var x "+n.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),n.inAttributeName=!0,n.attrValue="",t.backUp(t.current().length),P(t,n)}catch(i){}return n.attrValue+=t.current(),r||!0}}function j(e,t){if(e.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}function N(e){if(e.sol()&&e.eatSpace())return"indent"}function D(e,t){if(e.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=e.indentation(),t.indentToken="comment","comment"}function z(e){if(e.match(/^: */))return"colon"}function F(e,t){return e.match(/^(?:\| ?| )([^\n]+)/)?"string":e.match(/^(<[^\n]*)/,!1)?($(e,t,"htmlmixed"),t.innerModeForLine=!0,H(e,t,!0)):void 0}function R(e,t){if(e.eat(".")){var n=null;return"script"===t.lastTag&&-1!=t.scriptType.toLowerCase().indexOf("javascript")?n=t.scriptType.toLowerCase().replace(/"|'/g,""):"style"===t.lastTag&&(n="css"),$(e,t,n),"dot"}}function I(e){return e.next(),null}function $(n,r,i){i=e.mimeModes[i]||i,i=t.innerModes&&t.innerModes(i)||i,i=e.mimeModes[i]||i,i=e.getMode(t,i),r.indentOf=n.indentation(),i&&"null"!==i.name?r.innerMode=i:r.indentToken="string"}function H(t,n,r){if(t.indentation()>n.indentOf||n.innerModeForLine&&!t.sol()||r)return n.innerMode?(n.innerState||(n.innerState=n.innerMode.startState?e.startState(n.innerMode,t.indentation()):{}),t.hideFirstChars(n.indentOf+2,function(){return n.innerMode.token(t,n.innerState)||!0})):(t.skipToEnd(),n.indentToken);t.sol()&&(n.indentOf=Infinity,n.indentToken=null,n.innerMode=null,n.innerState=null)}function W(e,t){if(e.sol()&&(t.restOfLine=""),t.restOfLine){e.skipToEnd();var n=t.restOfLine;return t.restOfLine="",n}}function q(){return new n}function B(e){return e.copy()}function U(e,t){var n=H(e,t)||W(e,t)||l(e,t)||y(e,t)||S(e,t)||P(e,t)||r(e,t)||i(e,t)||w(e,t)||o(e,t)||a(e,t)||s(e,t)||u(e,t)||c(e,t)||f(e,t)||d(e,t)||p(e,t)||h(e,t)||m(e,t)||g(e,t)||v(e,t)||b(e,t)||x(e,t)||k(e,t)||C(e,t)||_(e,t)||T(e,t)||A(e,t)||L(e,t)||M(e,t)||E(e,t)||O(e,t)||j(e,t)||N(e,t)||F(e,t)||D(e,t)||z(e,t)||R(e,t)||I(e,t);return!0===n?null:n}var V="keyword",K="meta",G="builtin",X="qualifier",Y={"{":"}","(":")","[":"]"},J=e.getMode(t,"javascript");return n.prototype.copy=function(){var t=new n;return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.interpolationNesting,t.jsState=e.copyState(J,this.jsState),t.innerMode=this.innerMode,this.innerMode&&this.innerState&&(t.innerState=e.copyState(this.innerMode,this.innerState)),t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.scriptType=this.scriptType,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t.innerModeForLine=this.innerModeForLine,t},{startState:q,copyState:B,token:U}},"javascript","css","htmlmixed"),e.defineMIME("text/x-pug","pug"),e.defineMIME("text/x-jade","pug")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Slim Highlighting for CodeMirror copyright (c) HicknHack Software Gmbh
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../ruby/ruby")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../ruby/ruby"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("slim",function(t){function n(e,t,n){var r=function(r,i){return i.tokenize=t,r.pos<e?(r.pos=e,n):i.tokenize(r,i)};return function(e,n){return n.tokenize=r,t(e,n)}}function r(e,t,r,i,o){var a=e.current(),s=a.search(r);return s>-1&&(t.tokenize=n(e.pos,t.tokenize,o),e.backUp(a.length-s-i)),o}function i(e,t){e.stack={parent:e.stack,style:"continuation",indented:t,tokenize:e.line},e.line=e.tokenize}function o(e){e.line==e.tokenize&&(e.line=e.stack.tokenize,e.stack=e.stack.parent)}function a(e,t){return function(n,r){if(o(r),n.match(/^\\$/))return i(r,e),"lineContinuation";var a=t(n,r);return n.eol()&&n.current().match(/(?:^|[^\\])(?:\\\\)*\\$/)&&n.backUp(1),a}}function s(e,t){return function(n,r){o(r);var a=t(n,r);return n.eol()&&n.current().match(/,$/)&&i(r,e),a}}function l(e,t){return function(n,r){return n.peek()==e&&1==r.rubyState.tokenize.length?(n.next(),r.tokenize=t,"closeAttributeTag"):c(n,r)}}function u(t){var n,r=function(e,r){if(1==r.rubyState.tokenize.length&&!r.rubyState.context.prev){if(e.backUp(1),e.eatSpace())return r.rubyState=n,r.tokenize=t,t(e,r);e.next()}return c(e,r)};return function(t,i){return n=i.rubyState,i.rubyState=e.startState(I),i.tokenize=r,c(t,i)}}function c(e,t){return I.token(e,t.rubyState)}function f(e,t){return e.match(/^\\$/)?"lineContinuation":d(e,t)}function d(e,t){return e.match(/^#\{/)?(t.tokenize=l("}",t.tokenize),null):r(e,t,/[^\\]#\{/,1,R.token(e,t.htmlState))}function p(e){return function(t,n){var r=f(t,n);return t.eol()&&(n.tokenize=e),r}}function h(e,t,n){return t.stack={parent:t.stack,style:"html",indented:e.column()+n,tokenize:t.line},t.line=t.tokenize=d,null}function m(e,t){return e.skipToEnd(),t.stack.style}function g(e,t){return t.stack={parent:t.stack,style:"comment",indented:t.indented+1,tokenize:t.line},t.line=m,m(e,t)}function v(e,t){return e.eat(t.stack.endQuote)?(t.line=t.stack.line,t.tokenize=t.stack.tokenize,t.stack=t.stack.parent,null):e.match(X)?(t.tokenize=y,"slimAttribute"):(e.next(),null)}function y(e,t){return e.match(/^==?/)?(t.tokenize=b,null):v(e,t)}function b(e,t){var n=e.peek();return'"'==n||"'"==n?(t.tokenize=z(n,"string",!0,!1,v),e.next(),t.tokenize(e,t)):"["==n?u(v)(e,t):e.match(/^(true|false|nil)\b/)?(t.tokenize=v,"keyword"):u(v)(e,t)}function x(e,t,n){return e.stack={parent:e.stack,style:"wrapper",indented:e.indented+1,tokenize:n,line:e.line,endQuote:t},e.line=e.tokenize=v,null}function w(t,n){if(t.match(/^#\{/))return n.tokenize=l("}",n.tokenize),null;var r=new e.StringStream(t.string.slice(n.stack.indented),t.tabSize);r.pos=t.pos-n.stack.indented,r.start=t.start-n.stack.indented,r.lastColumnPos=t.lastColumnPos-n.stack.indented,r.lastColumnValue=t.lastColumnValue-n.stack.indented;var i=n.subMode.token(r,n.subState);return t.pos=r.pos+n.stack.indented,i}function k(e,t){return t.stack.indented=e.column(),t.line=t.tokenize=w,t.tokenize(e,t)}function C(n){var r=H[n],i=e.mimeModes[r];if(i)return e.getMode(t,i);var o=e.modes[r];return o?o(t,{name:r}):e.getMode(t,"null")}function S(e){return $.hasOwnProperty(e)?$[e]:$[e]=C(e)}function _(t,n){var r=S(t),i=e.startState(r);return n.subMode=r,n.subState=i,n.stack={parent:n.stack,style:"sub",indented:n.indented+1,tokenize:n.line},n.line=n.tokenize=k,"slimSubmode"}function T(e){return e.skipToEnd(),"slimDoctype"}function A(e,t){if("<"==e.peek())return(t.tokenize=p(t.tokenize))(e,t);if(e.match(/^[|']/))return h(e,t,1);if(e.match(/^\/(!|\[\w+])?/))return g(e,t);if(e.match(/^(-|==?[<>]?)/))return t.tokenize=a(e.column(),s(e.column(),c)),"slimSwitch";if(e.match(/^doctype\b/))return t.tokenize=T,"keyword";var n=e.match(W);return n?_(n[1],t):M(e,t)}function L(e,t){return t.startOfLine?A(e,t):M(e,t)}function M(e,t){return e.eat("*")?(t.tokenize=u(E),null):e.match(K)?(t.tokenize=E,"slimTag"):O(e,t)}function E(e,t){return e.match(/^(<>?|><?)/)?(t.tokenize=O,null):O(e,t)}function O(e,t){return e.match(J)?(t.tokenize=O,"slimId"):e.match(Y)?(t.tokenize=O,"slimClass"):P(e,t)}function P(e,t){return e.match(/^([\[\{\(])/)?x(t,B[RegExp.$1],P):e.match(G)?(t.tokenize=j,"slimAttribute"):"*"==e.peek()?(e.next(),t.tokenize=u(F),null):F(e,t)}function j(e,t){return e.match(/^==?/)?(t.tokenize=N,null):P(e,t)}function N(e,t){var n=e.peek();return'"'==n||"'"==n?(t.tokenize=z(n,"string",!0,!1,P),e.next(),t.tokenize(e,t)):"["==n?u(P)(e,t):":"==n?u(D)(e,t):e.match(/^(true|false|nil)\b/)?(t.tokenize=P,"keyword"):u(P)(e,t)}function D(e,t){return e.backUp(1),e.match(/^[^\s],(?=:)/)?(t.tokenize=u(D),null):(e.next(),P(e,t))}function z(e,t,n,r,a){return function(s,u){o(u);var c=0==s.current().length;if(s.match(/^\\$/,c))return c?(i(u,u.indented),"lineContinuation"):t;if(s.match(/^#\{/,c))return c?(u.tokenize=l("}",u.tokenize),null):t;for(var f,d=!1;null!=(f=s.next());){if(f==e&&(r||!d)){u.tokenize=a;break}if(n&&"#"==f&&!d&&s.eat("{")){s.backUp(2);break}d=!d&&"\\"==f}return s.eol()&&d&&s.backUp(1),t}}function F(e,t){return e.match(/^==?/)?(t.tokenize=c,"slimSwitch"):e.match(/^\/$/)?(t.tokenize=L,null):e.match(/^:/)?(t.tokenize=M,"slimSwitch"):(h(e,t,0),t.tokenize(e,t))}var R=e.getMode(t,{name:"htmlmixed"}),I=e.getMode(t,"ruby"),$={html:R,ruby:I},H={ruby:"ruby",javascript:"javascript",css:"text/css",sass:"text/x-sass",scss:"text/x-scss",less:"text/x-less",styl:"text/x-styl",coffee:"coffeescript",asciidoc:"text/x-asciidoc",markdown:"text/x-markdown",textile:"text/x-textile",creole:"text/x-creole",wiki:"text/x-wiki",mediawiki:"text/x-mediawiki",rdoc:"text/x-rdoc",builder:"text/x-builder",nokogiri:"text/x-nokogiri",erb:"application/x-erb"},W=function(e){var t=[];for(var n in e)t.push(n);return new RegExp("^("+t.join("|")+"):")}(H),q={commentLine:"comment",slimSwitch:"operator special",slimTag:"tag",slimId:"attribute def",slimClass:"attribute qualifier",slimAttribute:"attribute",slimSubmode:"keyword special",closeAttributeTag:null,slimDoctype:null,lineContinuation:null},B={"{":"}","[":"]","(":")"},U="_a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd",V=U+"\\-0-9\xb7\u0300-\u036f\u203f-\u2040",K=new RegExp("^[:"+U+"](?::["+V+"]|["+V+"]*)"),G=new RegExp("^[:"+U+"][:\\."+V+"]*(?=\\s*=)"),X=new RegExp("^[:"+U+"][:\\."+V+"]*"),Y=/^\.-?[_a-zA-Z]+[\w\-]*/,J=/^#[_a-zA-Z]+[\w\-]*/,Z={startState:function(){return{htmlState:e.startState(R),rubyState:e.startState(I),stack:null,last:null,tokenize:L,line:L,indented:0}},copyState:function(t){return{htmlState:e.copyState(R,t.htmlState),rubyState:e.copyState(I,t.rubyState),subMode:t.subMode,subState:t.subMode&&e.copyState(t.subMode,t.subState),stack:t.stack,last:t.last,tokenize:t.tokenize,line:t.line}},token:function(e,t){if(e.sol())for(t.indented=e.indentation(),t.startOfLine=!0,t.tokenize=t.line;t.stack&&t.stack.indented>t.indented&&"slimSubmode"!=t.last;)t.line=t.tokenize=t.stack.tokenize,t.stack=t.stack.parent,t.subMode=null,t.subState=null;if(e.eatSpace())return null;var n=t.tokenize(e,t);return t.startOfLine=!1,n&&(t.last=n),q.hasOwnProperty(n)?q[n]:n},blankLine:function(e){if(e.subMode&&e.subMode.blankLine)return e.subMode.blankLine(e.subState)},innerMode:function(e){return e.subMode?{state:e.subState,mode:e.subMode}:{state:e,mode:Z}}};return Z},"htmlmixed","ruby"),e.defineMIME("text/x-slim","slim"),e.defineMIME("application/x-slim","slim")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return h=t,e}function i(e,t){var n=e.next();if(v[n]){var i=v[n](e,t);if(!1!==i)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=a),r("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?r("variable-2","variable-definition"):r("variable-2","variable")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function a(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),r(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n,r){return e.context=new s(n,t.indentation()+(!1===r?0:g),e.context),n}function u(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function c(e,t,n){return O[n.context.type](e,t,n)}function f(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return c(e,t,n)}function d(e){var t=e.current().toLowerCase();m=A.hasOwnProperty(t)?"atom":T.hasOwnProperty(t)?"keyword":"variable"}var p=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var h,m,g=t.indentUnit,v=n.tokenHooks,y=n.documentTypes||{},b=n.mediaTypes||{},x=n.mediaFeatures||{},w=n.mediaValueKeywords||{},k=n.propertyKeywords||{},C=n.nonStandardPropertyKeywords||{},S=n.fontProperties||{},_=n.counterDescriptors||{},T=n.colorKeywords||{},A=n.valueKeywords||{},L=n.allowNested,M=n.lineComment,E=!0===n.supportsAtComponent,O={top:function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return u(n);if(E&&/@component/i.test(e))return l(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return l(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return l(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)m="builtin";else if("word"==e)m="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(L&&"("==e)return l(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return k.hasOwnProperty(r)?(m="property","maybeprop"):C.hasOwnProperty(r)?(m="string-2","maybeprop"):L?(m=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(m+=" error","maybeprop")}return"meta"==e?"block":L||"hash"!=e&&"qualifier"!=e?O.top(e,t,n):(m="error","block")},maybeprop:function(e,t,n){return":"==e?l(n,t,"prop"):c(e,t,n)},prop:function(e,t,n){if(";"==e)return u(n);if("{"==e&&L)return l(n,t,"propBlock");if("}"==e||"{"==e)return f(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return l(n,t,"interpolation")}else m+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?u(n):"word"==e?(m="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?f(e,t,n):")"==e?u(n):"("==e?l(n,t,"parens"):"interpolation"==e?l(n,t,"interpolation"):("word"==e&&d(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(m="variable-3",n.context.type):c(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&y.hasOwnProperty(t.current())?(m="tag",n.context.type):O.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return l(n,t,"atBlock_parens");if("}"==e||";"==e)return f(e,t,n);if("{"==e)return u(n)&&l(n,t,L?"block":"top");if("interpolation"==e)return l(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();m="only"==r||"not"==r||"and"==r||"or"==r?"keyword":b.hasOwnProperty(r)?"attribute":x.hasOwnProperty(r)?"property":w.hasOwnProperty(r)?"keyword":k.hasOwnProperty(r)?"property":C.hasOwnProperty(r)?"string-2":A.hasOwnProperty(r)?"atom":T.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?f(e,t,n):"{"==e?u(n)&&l(n,t,L?"block":"top",!1):("word"==e&&(m="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?u(n):"{"==e||"}"==e?f(e,t,n,2):O.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?l(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(m="variable","restricted_atBlock_before"):c(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,u(n)):"word"==e?(m="@font-face"==n.stateArg&&!S.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!_.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(m="variable","keyframes"):"{"==e?l(n,t,"top"):c(e,t,n)},at:function(e,t,n){return";"==e?u(n):"{"==e||"}"==e?f(e,t,n):("word"==e?m="tag":"hash"==e&&(m="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?u(n):"{"==e||";"==e?f(e,t,n):("word"==e?m="variable":"variable"!=e&&"("!=e&&")"!=e&&(m="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:p?"block":"top",stateArg:null,context:new s(p?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(h=n[1],n=n[0]),m=n,"comment"!=h&&(t.state=O[t.state](h,e,t)),m},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-g)):i=(n=n.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:M,fold:"brace"}});var r=["domain","regexp","url","url-prefix"],i=t(r),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=t(o),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=t(s),u=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(u),f=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(f),p=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],h=t(p),m=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),v=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],y=t(v),b=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],x=t(b),w=r.concat(o).concat(s).concat(u).concat(f).concat(p).concat(v).concat(b);e.registerHelper("hintWords","css",w),e.defineMIME("text/css",{documentTypes:i,mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:h,fontProperties:m,counterDescriptors:g,colorKeywords:y,valueKeywords:x,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:h,colorKeywords:y,valueKeywords:x,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:h,colorKeywords:y,valueKeywords:x,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:a,mediaFeatures:l,propertyKeywords:d,nonStandardPropertyKeywords:h,fontProperties:m,counterDescriptors:g,colorKeywords:y,valueKeywords:x,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css",helperType:"gss"})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../css/css"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("sass",function(t){function n(e){return new RegExp("^"+e.join("|"))}function r(e){return!e.peek()||e.match(/\s+$/,!1)}function i(e,t){var n=e.peek();return")"===n?(e.next(),t.tokenizer=c,"operator"):"("===n?(e.next(),e.eatSpace(),"operator"):"'"===n||'"'===n?(t.tokenizer=a(e.next()),"string"):(t.tokenizer=a(")",!1),"string")}function o(e,t){return function(n,r){return n.sol()&&n.indentation()<=e?(r.tokenizer=c,c(n,r)):(t&&n.skipTo("*/")?(n.next(),n.next(),r.tokenizer=c):n.skipToEnd(),"comment")}}function a(e,t){function n(i,o){var a=i.next(),l=i.peek(),u=i.string.charAt(i.pos-2);return"\\"!==a&&l===e||a===e&&"\\"!==u?(a!==e&&t&&i.next(),r(i)&&(o.cursorHalf=0),o.tokenizer=c,"string"):"#"===a&&"{"===l?(o.tokenizer=s(n),i.next(),"operator"):"string"}return null==t&&(t=!0),n}function s(e){return function(t,n){return"}"===t.peek()?(t.next(),n.tokenizer=e,"operator"):c(t,n)}}function l(e){if(0==e.indentCount){e.indentCount++;var n=e.scopes[0].offset+t.indentUnit;e.scopes.unshift({offset:n})}}function u(e){1!=e.scopes.length&&e.scopes.shift()}function c(e,t){var n=e.peek();if(e.match("/*"))return t.tokenizer=o(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=o(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=s(c),"operator";if('"'===n||"'"===n)return e.next(),t.tokenizer=a(n),"string";if(t.cursorHalf){if("#"===n&&(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)))return r(e)&&(t.cursorHalf=0),"number";if(e.match(/^-?[0-9\.]+/))return r(e)&&(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return r(e)&&(t.cursorHalf=0),"unit";if(e.match(y))return r(e)&&(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=i,r(e)&&(t.cursorHalf=0),"atom";if("$"===n)return e.next(),e.eatWhile(/[\w-]/),r(e)&&(t.cursorHalf=0),"variable-2";if("!"===n)return e.next(),t.cursorHalf=0,e.match(/^[\w]+/)?"keyword":"operator";if(e.match(b))return r(e)&&(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return r(e)&&(t.cursorHalf=0),d=e.current().toLowerCase(),g.hasOwnProperty(d)?"atom":m.hasOwnProperty(d)?"keyword":h.hasOwnProperty(d)?(t.prevProp=e.current().toLowerCase(),"property"):"tag";if(r(e))return t.cursorHalf=0,null}else{if("-"===n&&e.match(/^-\w+-/))return"meta";if("."===n){if(e.next(),e.match(/^[\w-]+/))return l(t),"qualifier";if("#"===e.peek())return l(t),"tag"}if("#"===n){if(e.next(),e.match(/^[\w-]+/))return l(t),"builtin";if("#"===e.peek())return l(t),"tag"}if("$"===n)return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(y))return"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=i,"atom";if("="===n&&e.match(/^=[\w-]+/))return l(t),"meta";if("+"===n&&e.match(/^\+[\w-]+/))return"variable-3";if("@"===n&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||u(t)),e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return l(t),"def";if("@"===n)return e.next(),e.eatWhile(/[\w-]/),"def";if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,!1)){d=e.current().toLowerCase();var f=t.prevProp+"-"+d;return h.hasOwnProperty(f)?"property":h.hasOwnProperty(d)?(t.prevProp=d,"property"):v.hasOwnProperty(d)?"property":"tag"}return e.match(/ *:/,!1)?(l(t),t.cursorHalf=1,t.prevProp=e.current().toLowerCase(),"property"):e.match(/ *,/,!1)?"tag":(l(t),"tag")}if(":"===n)return e.match(x)?"variable-3":(e.next(),t.cursorHalf=1,"operator")}return e.match(b)?"operator":(e.next(),null)}function f(e,n){e.sol()&&(n.indentCount=0);var r=n.tokenizer(e,n),i=e.current();if("@return"!==i&&"}"!==i||u(n),null!==r){for(var o=e.pos-i.length+t.indentUnit*n.indentCount,a=[],s=0;s<n.scopes.length;s++){var l=n.scopes[s];l.offset<=o&&a.push(l)}n.scopes=a}return r}var d,p=e.mimeModes["text/css"],h=p.propertyKeywords||{},m=p.colorKeywords||{},g=p.valueKeywords||{},v=p.fontProperties||{},y=new RegExp("^"+["true","false","null","auto"].join("|")),b=n(["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"]),x=/^::?[a-zA-Z_][\w\-]*/;return{startState:function(){return{tokenizer:c,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=f(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset}}},"css"),e.defineMIME("text/x-sass","sass")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){return e=e.sort(function(e,t){return t>e}),new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function r(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}e.defineMode("stylus",function(e){function g(e,t){if(ie=e.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),t.context.line.firstWord=ie?ie[0].replace(/^\s*/,""):"",t.context.line.indent=e.indentation(),z=e.peek(),e.match("//"))return e.skipToEnd(),["comment","comment"];if(e.match("/*"))return t.tokenize=v,v(e,t);if('"'==z||"'"==z)return e.next(),t.tokenize=y(z),t.tokenize(e,t);if("@"==z)return e.next(),e.eatWhile(/[\w\\-]/),["def",e.current()];if("#"==z){if(e.next(),e.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b/i))return["atom","atom"];if(e.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return e.match(ne)?["meta","vendor-prefixes"]:e.match(/^-?[0-9]?\.?[0-9]/)?(e.eatWhile(/[a-z%]/i),["number","unit"]):"!"==z?(e.next(),[e.match(/^(important|optional)/i)?"keyword":"operator","important"]):"."==z&&e.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:e.match(X)?("("==e.peek()&&(t.tokenize=b),["property","word"]):e.match(/^[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","mixin"]):e.match(/^(\+|-)[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","block-mixin"]):e.string.match(/^\s*&/)&&e.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:e.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(e.backUp(1),["variable-3","reference"]):e.match(/^&{1}\s*$/)?["variable-3","reference"]:e.match(ee)?["operator","operator"]:e.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?e.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!_(e.current())?(e.match(/\./),["variable-2","variable-name"]):["variable-2","word"]:e.match(Q)?["operator",e.current()]:/[:;,{}\[\]\(\)]/.test(z)?(e.next(),[null,z]):(e.next(),[null,null])}function v(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function y(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r}return(r==e||!i&&")"!=e)&&(n.tokenize=null),["string","string"]}}function b(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=y(")"),[null,"("]}function x(e,t,n,r){this.type=e,this.indent=t,this.prev=n,this.line=r||{firstWord:"",indent:0}}function w(e,t,n,r){return r=r>=0?r:$,e.context=new x(n,t.indentation()+r,e.context),n}function k(e,t){var n=e.context.indent-$;return t=t||!1,e.context=e.context.prev,t&&(e.context.indent=n),e.context.type}function C(e,t,n){return oe[n.context.type](e,t,n)}function S(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return C(e,t,n)}function _(e){return e.toLowerCase()in W}function T(e){return(e=e.toLowerCase())in B||e in Z}function A(e){return e.toLowerCase()in te}function L(e){return e.toLowerCase().match(ne)}function M(e){var t=e.toLowerCase(),n="variable-2";return _(e)?n="tag":A(e)?n="block-keyword":T(e)?n="property":t in V||t in re?n="atom":"return"==t||t in K?n="keyword":e.match(/^[A-Z]/)&&(n="string"),n}function E(e,t){return N(t)&&("{"==e||"]"==e||"hash"==e||"qualifier"==e)||"block-mixin"==e}function O(e,t){return"{"==e&&t.match(/^\s*\$?[\w-]+/i,!1)}function P(e,t){return":"==e&&t.match(/^[a-z-]+/,!1)}function j(e){return e.sol()||e.string.match(new RegExp("^\\s*"+r(e.current())))}function N(e){return e.eol()||e.match(/^\s*$/,!1)}function D(e){var t=/^\s*[-_]*[a-z0-9]+[\w-]*/i,n="string"==typeof e?e.match(t):e.string.match(t);return n?n[0].replace(/^\s*/,""):""}for(var z,F,R,I,$=e.indentUnit,H="",W=n(i),q=/^(a|b|i|s|col|em)$/i,B=n(l),U=n(u),V=n(d),K=n(f),G=n(o),X=t(o),Y=n(s),J=n(a),Z=n(c),Q=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,ee=t(p),te=n(h),ne=new RegExp(/^\-(moz|ms|o|webkit)-/i),re=n(m),ie="",oe={};H.length<$;)H+=" ";return oe.block=function(e,t,n){if("comment"==e&&j(t)||","==e&&N(t)||"mixin"==e)return w(n,t,"block",0);if(O(e,t))return w(n,t,"interpolation");if(N(t)&&"]"==e&&!/^\s*(\.|#|:|\[|\*|&)/.test(t.string)&&!_(D(t)))return w(n,t,"block",0);if(E(e,t))return w(n,t,"block");if("}"==e&&N(t))return w(n,t,"block",0);if("variable-name"==e)return t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||A(D(t))?w(n,t,"variableName"):w(n,t,"variableName",0);if("="==e)return N(t)||A(D(t))?w(n,t,"block"):w(n,t,"block",0);if("*"==e&&(N(t)||t.match(/\s*(,|\.|#|\[|:|{)/,!1)))return I="tag",w(n,t,"block");if(P(e,t))return w(n,t,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(e))return w(n,t,N(t)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return w(n,t,"keyframes");if(/@extends?/.test(e))return w(n,t,"extend",0);if(e&&"@"==e.charAt(0))return t.indentation()>0&&T(t.current().slice(1))?(I="variable-2","block"):/(@import|@require|@charset)/.test(e)?w(n,t,"block",0):w(n,t,"block");if("reference"==e&&N(t))return w(n,t,"block");if("("==e)return w(n,t,"parens");if("vendor-prefixes"==e)return w(n,t,"vendorPrefixes");if("word"==e){var r=t.current();if("property"==(I=M(r)))return j(t)?w(n,t,"block",0):(I="atom","block");if("tag"==I){if(/embed|menu|pre|progress|sub|table/.test(r)&&T(D(t)))return I="atom","block";if(t.string.match(new RegExp("\\[\\s*"+r+"|"+r+"\\s*\\]")))return I="atom","block";if(q.test(r)&&(j(t)&&t.string.match(/=/)||!j(t)&&!t.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!_(D(t))))return I="variable-2",A(D(t))?"block":w(n,t,"block",0);if(N(t))return w(n,t,"block")}if("block-keyword"==I)return I="keyword",t.current(/(if|unless)/)&&!j(t)?"block":w(n,t,"block");if("return"==r)return w(n,t,"block",0);if("variable-2"==I&&t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return w(n,t,"block")}return n.context.type},oe.parens=function(e,t,n){if("("==e)return w(n,t,"parens");if(")"==e)return"parens"==n.context.prev.type?k(n):t.string.match(/^[a-z][\w-]*\(/i)&&N(t)||A(D(t))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(D(t))||!t.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&_(D(t))?w(n,t,"block"):t.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||t.string.match(/^\s*(\(|\)|[0-9])/)||t.string.match(/^\s+[a-z][\w-]*\(/i)||t.string.match(/^\s+[\$-]?[a-z]/i)?w(n,t,"block",0):N(t)?w(n,t,"block"):w(n,t,"block",0);if(e&&"@"==e.charAt(0)&&T(t.current().slice(1))&&(I="variable-2"),"word"==e){var r=t.current();"tag"==(I=M(r))&&q.test(r)&&(I="variable-2"),"property"!=I&&"to"!=r||(I="atom")}return"variable-name"==e?w(n,t,"variableName"):P(e,t)?w(n,t,"pseudo"):n.context.type},oe.vendorPrefixes=function(e,t,n){return"word"==e?(I="property",w(n,t,"block",0)):k(n)},oe.pseudo=function(e,t,n){return T(D(t.string))?S(e,t,n):(t.match(/^[a-z-]+/),I="variable-3",N(t)?w(n,t,"block"):k(n))},oe.atBlock=function(e,t,n){if("("==e)return w(n,t,"atBlock_parens");if(E(e,t))return w(n,t,"block");if(O(e,t))return w(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();if("tag"==(I=/^(only|not|and|or)$/.test(r)?"keyword":G.hasOwnProperty(r)?"tag":J.hasOwnProperty(r)?"attribute":Y.hasOwnProperty(r)?"property":U.hasOwnProperty(r)?"string-2":M(t.current()))&&N(t))return w(n,t,"block")}return"operator"==e&&/^(not|and|or)$/.test(t.current())&&(I="keyword"),n.context.type},oe.atBlock_parens=function(e,t,n){if("{"==e||"}"==e)return n.context.type;if(")"==e)return N(t)?w(n,t,"block"):w(n,t,"atBlock");if("word"==e){var r=t.current().toLowerCase();return I=M(r),/^(max|min)/.test(r)&&(I="property"),"tag"==I&&(I=q.test(r)?"variable-2":"atom"),n.context.type}return oe.atBlock(e,t,n)},oe.keyframes=function(e,t,n){return"0"==t.indentation()&&("}"==e&&j(t)||"]"==e||"hash"==e||"qualifier"==e||_(t.current()))?S(e,t,n):"{"==e?w(n,t,"keyframes"):"}"==e?j(t)?k(n,!0):w(n,t,"keyframes"):"unit"==e&&/^[0-9]+\%$/.test(t.current())?w(n,t,"keyframes"):"word"==e&&"block-keyword"==(I=M(t.current()))?(I="keyword",w(n,t,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(e)?w(n,t,N(t)?"block":"atBlock"):"mixin"==e?w(n,t,"block",0):n.context.type},oe.interpolation=function(e,t,n){return"{"==e&&k(n)&&w(n,t,"block"),"}"==e?t.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||t.string.match(/^\s*[a-z]/i)&&_(D(t))?w(n,t,"block"):!t.string.match(/^(\{|\s*\&)/)||t.match(/\s*[\w-]/,!1)?w(n,t,"block",0):w(n,t,"block"):"variable-name"==e?w(n,t,"variableName",0):("word"==e&&"tag"==(I=M(t.current()))&&(I="atom"),n.context.type)},oe.extend=function(e,t,n){return"["==e||"="==e?"extend":"]"==e?k(n):"word"==e?(I=M(t.current()),"extend"):k(n)},oe.variableName=function(e,t,n){return"string"==e||"["==e||"]"==e||t.current().match(/^(\.|\$)/)?(t.current().match(/^\.[\w-]+/i)&&(I="variable-2"),"variableName"):S(e,t,n)},{startState:function(e){return{tokenize:null,state:"block",context:new x("block",e||0,null)}},token:function(e,t){return!t.tokenize&&e.eatSpace()?null:((F=(t.tokenize||g)(e,t))&&"object"==typeof F&&(R=F[1],F=F[0]),I=F,t.state=oe[t.state](R,e,t),I)},indent:function(e,t,n){var r=e.context,i=t&&t.charAt(0),o=r.indent,a=D(t),s=n.match(/^\s*/)[0].replace(/\t/g,H).length,l=e.context.prev?e.context.prev.line.firstWord:"",u=e.context.prev?e.context.prev.line.indent:s;return r.prev&&("}"==i&&("block"==r.type||"atBlock"==r.type||"keyframes"==r.type)||")"==i&&("parens"==r.type||"atBlock_parens"==r.type)||"{"==i&&"at"==r.type)?o=r.indent-$:/(\})/.test(i)||(/@|\$|\d/.test(i)||/^\{/.test(t)||/^\s*\/(\/|\*)/.test(t)||/^\s*\/\*/.test(l)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(t)||/^(\+|-)?[a-z][\w-]*\(/i.test(t)||/^return/.test(t)||A(a)?o=s:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(i)||_(a)?o=/\,\s*$/.test(l)?u:/^\s+/.test(n)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(l)||_(l))?s<=u?u:u+$:s:/,\s*$/.test(n)||!L(a)&&!T(a)||(o=A(l)?s<=u?u:u+$:/^\{/.test(l)?s<=u?s:u+$:L(l)||T(l)?s>=u?u:s:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(l)||/=\s*$/.test(l)||_(l)||/^\$[\w-\.\[\]\'\"]/.test(l)?u+$:s)),o},electricChars:"}",lineComment:"//",fold:"indent"}});var i=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],o=["domain","regexp","url","url-prefix"],a=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],c=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],f=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],d=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],p=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],h=["for","if","else","unless","from","to"],m=["null","true","false","href","title","type","not-allowed","readonly","disabled"],g=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],v=i.concat(o,a,s,l,u,f,d,c,p,h,m,g);e.registerHelper("hintWords","stylus",v),e.defineMIME("text/x-styl","stylus")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return Ie=e,$e=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):Re(e,t,1)?(r(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),i("regexp","string-2")):(e.eat("="),i("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(Ge.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),i("operator","operator",e.current());if(Ve.test(n)){e.eatWhile(Ve);var o=e.current();if("."!=t.lastType){if(Ke.propertyIsEnumerable(o)){var u=Ke[o];return i(u.type,u.style,o)}if("async"==o&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return i("async","keyword",o)}return i("variable","variable",o)}}function a(e){return function(t,n){var r,a=!1;if(qe&&"@"==t.peek()&&t.match(Xe))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||a);)a=!a&&"\\"==r;return a||(n.tokenize=o),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(Ue){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=Ye.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(Ve.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function f(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function d(e,t,n,r,i){var o=e.cc;for(Ze.state=e,Ze.stream=i,Ze.marked=null,Ze.cc=o,Ze.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((o.length?o.pop():Be?M:A)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ze.marked?Ze.marked:"variable"==n&&f(e,r)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)Ze.cc.push(arguments[e])}function h(){return p.apply(null,arguments),!0}function m(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function g(e){var t=Ze.state;if(Ze.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=v(e,t.context);if(null!=r)return void(t.context=r)}else if(!m(e,t.localVars))return void(t.localVars=new x(e,t.localVars));n.globalVars&&!m(e,t.globalVars)&&(t.globalVars=new x(e,t.globalVars))}function v(e,t){if(t){if(t.block){var n=v(e,t.prev);return n?n==t.prev?t:new b(n,t.vars,!0):null}return m(e,t.vars)?t:new b(t.prev,new x(e,t.vars),!1)}return null}function y(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function b(e,t,n){this.prev=e,this.vars=t,this.block=n}function x(e,t){this.name=e,this.next=t}function w(){Ze.state.context=new b(Ze.state.context,Ze.state.localVars,!1),Ze.state.localVars=Qe}function k(){Ze.state.context=new b(Ze.state.context,Ze.state.localVars,!0),Ze.state.localVars=null}function C(){Ze.state.localVars=Ze.state.context.vars,Ze.state.context=Ze.state.context.prev}function S(e,t){var n=function(){var n=Ze.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,Ze.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function _(){var e=Ze.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function T(e){function t(n){return n==e?h():";"==e||"}"==n||")"==n||"]"==n?p():h(t)}return t}function A(e,t){return"var"==e?h(S("vardef",t),le,T(";"),_):"keyword a"==e?h(S("form"),O,A,_):"keyword b"==e?h(S("form"),A,_):"keyword d"==e?Ze.stream.match(/^\s*$/,!1)?h():h(S("stat"),j,T(";"),_):"debugger"==e?h(T(";")):"{"==e?h(S("}"),k,Y,_,C):";"==e?h():"if"==e?("else"==Ze.state.lexical.info&&Ze.state.cc[Ze.state.cc.length-1]==_&&Ze.state.cc.pop()(),h(S("form"),O,A,_,he)):"function"==e?h(ye):"for"==e?h(S("form"),me,A,_):"class"==e||Ue&&"interface"==t?(Ze.marked="keyword",h(S("form","class"==e?e:t),Ce,_)):"variable"==e?Ue&&"declare"==t?(Ze.marked="keyword",h(A)):Ue&&("module"==t||"enum"==t||"type"==t)&&Ze.stream.match(/^\s*\w/,!1)?(Ze.marked="keyword","enum"==t?h(De):"type"==t?h(xe,T("operator"),ee,T(";")):h(S("form"),ue,T("{"),S("}"),Y,_,_)):Ue&&"namespace"==t?(Ze.marked="keyword",h(S("form"),M,A,_)):Ue&&"abstract"==t?(Ze.marked="keyword",h(A)):h(S("stat"),q):"switch"==e?h(S("form"),O,T("{"),S("}","switch"),k,Y,_,_,C):"case"==e?h(M,T(":")):"default"==e?h(T(":")):"catch"==e?h(S("form"),w,L,A,_,C):"export"==e?h(S("stat"),Ae,_):"import"==e?h(S("stat"),Me,_):"async"==e?h(A):"@"==t?h(M,A):p(S("stat"),M,T(";"),_)}function L(e){if("("==e)return h(we,T(")"))}function M(e,t){return P(e,t,!1)}function E(e,t){return P(e,t,!0)}function O(e){return"("!=e?p():h(S(")"),M,T(")"),_)}function P(e,t,n){if(Ze.state.fatArrowAt==Ze.stream.start){var r=n?I:R;if("("==e)return h(w,S(")"),G(we,")"),_,T("=>"),r,C);if("variable"==e)return p(w,ue,T("=>"),r,C)}var i=n?D:N;return Je.hasOwnProperty(e)?h(i):"function"==e?h(ye,i):"class"==e||Ue&&"interface"==t?(Ze.marked="keyword",h(S("form"),ke,_)):"keyword c"==e||"async"==e?h(n?E:M):"("==e?h(S(")"),j,T(")"),_,i):"operator"==e||"spread"==e?h(n?E:M):"["==e?h(S("]"),Ne,_,i):"{"==e?X(U,"}",null,i):"quasi"==e?p(z,i):"new"==e?h($(n)):"import"==e?h(M):h()}function j(e){return e.match(/[;\}\)\],]/)?p():p(M)}function N(e,t){return","==e?h(M):D(e,t,!1)}function D(e,t,n){var r=0==n?N:D,i=0==n?M:E;return"=>"==e?h(w,n?I:R,C):"operator"==e?/\+\+|--/.test(t)||Ue&&"!"==t?h(r):Ue&&"<"==t&&Ze.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?h(S(">"),G(ee,">"),_,r):"?"==t?h(M,T(":"),i):h(i):"quasi"==e?p(z,r):";"!=e?"("==e?X(E,")","call",r):"."==e?h(B,r):"["==e?h(S("]"),j,T("]"),_,r):Ue&&"as"==t?(Ze.marked="keyword",h(ee,r)):"regexp"==e?(Ze.state.lastType=Ze.marked="operator",Ze.stream.backUp(Ze.stream.pos-Ze.stream.start-1),h(i)):void 0:void 0}function z(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(z):h(M,F)}function F(e){if("}"==e)return Ze.marked="string-2",Ze.state.tokenize=l,h(z)}function R(e){return u(Ze.stream,Ze.state),p("{"==e?A:M)}function I(e){return u(Ze.stream,Ze.state),p("{"==e?A:E)}function $(e){return function(t){return"."==t?h(e?W:H):"variable"==t&&Ue?h(oe,e?D:N):p(e?E:M)}}function H(e,t){if("target"==t)return Ze.marked="keyword",h(N)}function W(e,t){if("target"==t)return Ze.marked="keyword",h(D)}function q(e){return":"==e?h(_,A):p(N,T(";"),_)}function B(e){if("variable"==e)return Ze.marked="property",h()}function U(e,t){if("async"==e)return Ze.marked="property",h(U);if("variable"==e||"keyword"==Ze.style){return Ze.marked="property","get"==t||"set"==t?h(V):(Ue&&Ze.state.fatArrowAt==Ze.stream.start&&(n=Ze.stream.match(/^\s*:\s*/,!1))&&(Ze.state.fatArrowAt=Ze.stream.pos+n[0].length),h(K));var n}else{if("number"==e||"string"==e)return Ze.marked=qe?"property":Ze.style+" property",h(K);if("jsonld-keyword"==e)return h(K);if(Ue&&y(t))return Ze.marked="keyword",h(U);if("["==e)return h(M,J,T("]"),K);if("spread"==e)return h(E,K);if("*"==t)return Ze.marked="keyword",h(U);if(":"==e)return p(K)}}function V(e){return"variable"!=e?p(K):(Ze.marked="property",h(ye))}function K(e){return":"==e?h(E):"("==e?p(ye):void 0}function G(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=Ze.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),h(function(n,r){return n==t||r==t?p():p(e)},r)}return i==t||o==t?h():n&&n.indexOf(";")>-1?p(e):h(T(t))}return function(n,i){return n==t||i==t?h():p(e,r)}}function X(e,t,n){for(var r=3;r<arguments.length;r++)Ze.cc.push(arguments[r]);return h(S(t,n),G(e,t),_)}function Y(e){return"}"==e?h():p(A,Y)}function J(e,t){if(Ue){if(":"==e||"in"==t)return h(ee);if("?"==t)return h(J)}}function Z(e){if(Ue&&":"==e)return Ze.stream.match(/^\s*\w+\s+is\b/,!1)?h(M,Q,ee):h(ee)}function Q(e,t){if("is"==t)return Ze.marked="keyword",h()}function ee(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(Ze.marked="keyword",h("typeof"==t?E:ee)):"variable"==e||"void"==t?(Ze.marked="type",h(ie)):"|"==t||"&"==t?h(ee):"string"==e||"number"==e||"atom"==e?h(ie):"["==e?h(S("]"),G(ee,"]",","),_,ie):"{"==e?h(S("}"),G(ne,"}",",;"),_,ie):"("==e?h(G(re,")"),te,ie):"<"==e?h(G(ee,">"),ee):void 0}function te(e){if("=>"==e)return h(ee)}function ne(e,t){return"variable"==e||"keyword"==Ze.style?(Ze.marked="property",h(ne)):"?"==t||"number"==e||"string"==e?h(ne):":"==e?h(ee):"["==e?h(T("variable"),J,T("]"),ne):"("==e?p(be,ne):void 0}function re(e,t){return"variable"==e&&Ze.stream.match(/^\s*[?:]/,!1)||"?"==t?h(re):":"==e?h(ee):"spread"==e?h(re):p(ee)}function ie(e,t){return"<"==t?h(S(">"),G(ee,">"),_,ie):"|"==t||"."==e||"&"==t?h(ee):"["==e?h(ee,T("]"),ie):"extends"==t||"implements"==t?(Ze.marked="keyword",h(ee)):"?"==t?h(ee,T(":"),ee):void 0}function oe(e,t){if("<"==t)return h(S(">"),G(ee,">"),_,ie)}function ae(){return p(ee,se)}function se(e,t){if("="==t)return h(ee)}function le(e,t){return"enum"==t?(Ze.marked="keyword",h(De)):p(ue,J,de,pe)}function ue(e,t){return Ue&&y(t)?(Ze.marked="keyword",h(ue)):"variable"==e?(g(t),h()):"spread"==e?h(ue):"["==e?X(fe,"]"):"{"==e?X(ce,"}"):void 0}function ce(e,t){return"variable"!=e||Ze.stream.match(/^\s*:/,!1)?("variable"==e&&(Ze.marked="property"),"spread"==e?h(ue):"}"==e?p():"["==e?h(M,T("]"),T(":"),ce):h(T(":"),ue,de)):(g(t),h(de))}function fe(){return p(ue,de)}function de(e,t){if("="==t)return h(E)}function pe(e){if(","==e)return h(le)}function he(e,t){if("keyword b"==e&&"else"==t)return h(S("form","else"),A,_)}function me(e,t){return"await"==t?h(me):"("==e?h(S(")"),ge,_):void 0}function ge(e){return"var"==e?h(le,ve):"variable"==e?h(ve):p(ve)}function ve(e,t){return")"==e?h():";"==e?h(ve):"in"==t||"of"==t?(Ze.marked="keyword",h(M,ve)):p(M,ve)}function ye(e,t){return"*"==t?(Ze.marked="keyword",h(ye)):"variable"==e?(g(t),h(ye)):"("==e?h(w,S(")"),G(we,")"),_,Z,A,C):Ue&&"<"==t?h(S(">"),G(ae,">"),_,ye):void 0}function be(e,t){return"*"==t?(Ze.marked="keyword",h(be)):"variable"==e?(g(t),h(be)):"("==e?h(w,S(")"),G(we,")"),_,Z,C):Ue&&"<"==t?h(S(">"),G(ae,">"),_,be):void 0}function xe(e,t){return"keyword"==e||"variable"==e?(Ze.marked="type",h(xe)):"<"==t?h(S(">"),G(ae,">"),_):void 0}function we(e,t){return"@"==t&&h(M,we),"spread"==e?h(we):Ue&&y(t)?(Ze.marked="keyword",h(we)):Ue&&"this"==e?h(J,de):p(ue,J,de)}function ke(e,t){return"variable"==e?Ce(e,t):Se(e,t)}function Ce(e,t){if("variable"==e)return g(t),h(Se)}function Se(e,t){return"<"==t?h(S(">"),G(ae,">"),_,Se):"extends"==t||"implements"==t||Ue&&","==e?("implements"==t&&(Ze.marked="keyword"),h(Ue?ee:M,Se)):"{"==e?h(S("}"),_e,_):void 0}function _e(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||Ue&&y(t))&&Ze.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Ze.marked="keyword",h(_e)):"variable"==e||"keyword"==Ze.style?(Ze.marked="property",h(Ue?Te:ye,_e)):"number"==e||"string"==e?h(Ue?Te:ye,_e):"["==e?h(M,J,T("]"),Ue?Te:ye,_e):"*"==t?(Ze.marked="keyword",h(_e)):Ue&&"("==e?p(be,_e):";"==e||","==e?h(_e):"}"==e?h():"@"==t?h(M,_e):void 0}function Te(e,t){if("?"==t)return h(Te);if(":"==e)return h(ee,de);if("="==t)return h(E);var n=Ze.state.lexical.prev;return p(n&&"interface"==n.info?be:ye)}function Ae(e,t){return"*"==t?(Ze.marked="keyword",h(je,T(";"))):"default"==t?(Ze.marked="keyword",h(M,T(";"))):"{"==e?h(G(Le,"}"),je,T(";")):p(A)}function Le(e,t){return"as"==t?(Ze.marked="keyword",h(T("variable"))):"variable"==e?p(E,Le):void 0}function Me(e){return"string"==e?h():"("==e?p(M):p(Ee,Oe,je)}function Ee(e,t){return"{"==e?X(Ee,"}"):("variable"==e&&g(t),"*"==t&&(Ze.marked="keyword"),h(Pe))}function Oe(e){if(","==e)return h(Ee,Oe)}function Pe(e,t){if("as"==t)return Ze.marked="keyword",h(Ee)}function je(e,t){if("from"==t)return Ze.marked="keyword",h(M)}function Ne(e){return"]"==e?h():p(G(E,"]"))}function De(){return p(S("form"),ue,T("{"),S("}"),G(ze,"}"),_,_)}function ze(){return p(ue,de)}function Fe(e,t){return"operator"==e.lastType||","==e.lastType||Ge.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function Re(e,t,n){return t.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var Ie,$e,He=t.indentUnit,We=n.statementIndent,qe=n.jsonld,Be=n.json||qe,Ue=n.typescript,Ve=n.wordCharacters||/[\w$\xa1-\uffff]/,Ke=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":e("new"),"delete":r,"void":r,"throw":r,"debugger":e("debugger"),"var":e("var"),"const":e("var"),"let":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":o,"typeof":o,"instanceof":o,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),"class":e("class"),"super":e("atom"),yield:r,"export":e("export"),"import":e("import"),"extends":r,await:r}}(),Ge=/[+\-*&%=<>!?|~^@]/,Xe=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ye="([{}])",Je={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ze={state:null,column:null,marked:null,cc:null},Qe=new x("this",new x("arguments",null));return C.lex=!0,_.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-He,0,"block",!1),localVars:n.localVars,context:n.localVars&&new b(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Ie?n:(t.lastType="operator"!=Ie||"++"!=$e&&"--"!=$e?Ie:"incdec",d(t,n,Ie,$e,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var i,a=r&&r.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(r))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==_)l=l.prev;else if(c!=he)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(i=t.cc[t.cc.length-1])&&(i==N||i==D)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;We&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var f=l.type,d=a==f;return"vardef"==f?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==f&&"{"==a?l.indented:"form"==f?l.indented+He:"stat"==f?l.indented+(Fe(t,r)?We||He:0):"switch"!=l.info||d||0==n.doubleIndentSwitch?l.align?l.column+(d?0:1):l.indented+(d?0:He):l.indented+(/^(?:case|default)\b/.test(r)?He:2*He)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Be?null:"/*",blockCommentEnd:Be?null:"*/",blockCommentContinue:Be?null:" * ",lineComment:Be?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Be?"json":"javascript",jsonldMode:qe,jsonMode:Be,expressionAllowed:Re,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=M&&t!=E||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("coffeescript",function(e,t){function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function r(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var n=t.scope.offset;if(e.eatSpace()){var r=e.indentation();return r>n&&"coffee"==t.scope.type?"indent":r<n?"dedent":null}n>0&&s(e,t)}if(e.eatSpace())return null;var a=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=o,t.tokenize(e,t);if("#"===a)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var l=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(l=!0),e.match(/^-?\d+\.\d*/)&&(l=!0),e.match(/^-?\.\d+/)&&(l=!0),l)return"."==e.peek()&&e.backUp(1),"number";var m=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(m=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(m=!0),e.match(/^-?0(?![\dx])/i)&&(m=!0),m)return"number"}if(e.match(y))return t.tokenize=i(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(b)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=i(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(c)||e.match(h)?"operator":e.match(f)?"punctuation":e.match(x)?"atom":e.match(p)||t.prop&&e.match(d)?"property":e.match(v)?"keyword":e.match(d)?"variable":(e.next(),u)}function i(e,n,i){return function(o,a){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return i}else{if(o.match(e))return a.tokenize=r,i;o.eat(/['"\/]/)}return n&&(t.singleLineStringErrors?i=u:a.tokenize=r),i}}function o(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=r;break}e.eatWhile("#")}return"comment"}function a(t,n,r){r=r||"coffee";for(var i=0,o=!1,a=null,s=n.scope;s;s=s.prev)if("coffee"===s.type||"}"==s.type){i=s.offset+e.indentUnit;break}"coffee"!==r?(o=null,a=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:i,type:r,prev:n.scope,align:o,alignOffset:a}}function s(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),r=!1,i=t.scope;i;i=i.prev)if(n===i.offset){r=!0;break}if(!r)return!0;for(;t.scope.prev&&t.scope.offset!==n;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}function l(e,t){var n=t.tokenize(e,t),r=e.current();"return"===r&&(t.dedent=!0),(("->"===r||"=>"===r)&&e.eol()||"indent"===n)&&a(e,t);var i="[({".indexOf(r);if(-1!==i&&a(e,t,"])}".slice(i,i+1)),m.exec(r)&&a(e,t),"then"==r&&s(e,t),"dedent"===n&&s(e,t))return u;if(-1!==(i="])}".indexOf(r))){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==r&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),n}var u="error",c=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,f=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,d=/^[_A-Za-z$][_A-Za-z$0-9]*/,p=/^@[_A-Za-z$][_A-Za-z$0-9]*/,h=n(["and","or","not","is","isnt","in","instanceof","typeof"]),m=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],g=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],v=n(m.concat(g));m=n(m);var y=/^('{3}|\"{3}|['\"])/,b=/^(\/{3}|\/)/,x=n(["Infinity","NaN","undefined","null","true","false","on","off","yes","no"]);return{startState:function(e){return{tokenize:r,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var n=null===t.scope.align&&t.scope;n&&e.sol()&&(n.align=!1);var r=l(e,t);return r&&"comment"!=r&&(n&&(n.align=!0),t.prop="punctuation"==r&&"."==e.current()),r},indent:function(e,t){if(e.tokenize!=r)return 0;var n=e.scope,i=t&&"])}".indexOf(t.charAt(0))>-1;if(i)for(;"coffee"==n.type&&n.prev;)n=n.prev;var o=i&&n.type===t.charAt(0);return n.align?n.alignOffset-(o?1:0):(o?n.prev:n).offset},lineComment:"#",fold:"indent"}}),e.defineMIME("application/vnd.coffeescript","coffeescript"),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("livescript",function(){var e=function(e,t){var n=t.next||"start";if(n){t.next=t.next;var r=o[n];if(r.splice){for(var i=0;i<r.length;++i){var a=r[i];if(a.regex&&e.match(a.regex))return t.next=a.next||t.next,a.token}return e.next(),"error"}if(e.match(a=o[n]))return a.regex&&e.match(a.regex)?(t.next=a.next,a.token):(e.next(),"error")}return e.next(),"error"};return{startState:function(){return{next:"start",lastToken:{style:null,indent:0,content:""}}},token:function(t,n){for(;t.pos==t.start;)var r=e(t,n);return n.lastToken={style:r,indent:t.indentation(),content:t.current()},r.replace(/\./g," ")},indent:function(e){var t=e.lastToken.indent;return e.lastToken.content.match(n)&&(t+=2),t}}});var t="(?![\\d\\s])[$\\w\\xAA-\\uFFDC](?:(?!\\s)[$\\w\\xAA-\\uFFDC]|-[A-Za-z])*",n=RegExp("(?:[({[=:]|[-~]>|\\b(?:e(?:lse|xport)|d(?:o|efault)|t(?:ry|hen)|finally|import(?:\\s*all)?|const|var|let|new|catch(?:\\s*"+t+")?))\\s*$"),r="(?![$\\w]|-[A-Za-z]|\\s*:(?![:=]))",i={token:"string",regex:".+"},o={start:[{token:"comment.doc",regex:"/\\*",next:"comment"},{token:"comment",regex:"#.*"},{token:"keyword",regex:"(?:t(?:h(?:is|row|en)|ry|ypeof!?)|c(?:on(?:tinue|st)|a(?:se|tch)|lass)|i(?:n(?:stanceof)?|mp(?:ort(?:\\s+all)?|lements)|[fs])|d(?:e(?:fault|lete|bugger)|o)|f(?:or(?:\\s+own)?|inally|unction)|s(?:uper|witch)|e(?:lse|x(?:tends|port)|val)|a(?:nd|rguments)|n(?:ew|ot)|un(?:less|til)|w(?:hile|ith)|o[fr]|return|break|let|var|loop)"+r},{token:"constant.language",regex:"(?:true|false|yes|no|on|off|null|void|undefined)"+r},{token:"invalid.illegal",regex:"(?:p(?:ackage|r(?:ivate|otected)|ublic)|i(?:mplements|nterface)|enum|static|yield)"+r},{token:"language.support.class",regex:"(?:R(?:e(?:gExp|ferenceError)|angeError)|S(?:tring|yntaxError)|E(?:rror|valError)|Array|Boolean|Date|Function|Number|Object|TypeError|URIError)"+r},{token:"language.support.function",regex:"(?:is(?:NaN|Finite)|parse(?:Int|Float)|Math|JSON|(?:en|de)codeURI(?:Component)?)"+r},{token:"variable.language",regex:"(?:t(?:hat|il|o)|f(?:rom|allthrough)|it|by|e)"+r},{token:"identifier",regex:t+"\\s*:(?![:=])"},{token:"variable",regex:t},{token:"keyword.operator",regex:"(?:\\.{3}|\\s+\\?)"},{token:"keyword.variable",regex:"(?:@+|::|\\.\\.)",next:"key"},{token:"keyword.operator",regex:"\\.\\s*",next:"key"},{token:"string",regex:"\\\\\\S[^\\s,;)}\\]]*"},{token:"string.doc",regex:"'''",next:"qdoc"},{token:"string.doc",regex:'"""',next:"qqdoc"},{token:"string",regex:"'",next:"qstring"},{token:"string",regex:'"',next:"qqstring"},{token:"string",regex:"`",next:"js"},{token:"string",regex:"<\\[",next:"words"},{token:"string.regex",regex:"//",next:"heregex"},{token:"string.regex",regex:"\\/(?:[^[\\/\\n\\\\]*(?:(?:\\\\.|\\[[^\\]\\n\\\\]*(?:\\\\.[^\\]\\n\\\\]*)*\\])[^[\\/\\n\\\\]*)*)\\/[gimy$]{0,4}",next:"key"},{token:"constant.numeric",regex:"(?:0x[\\da-fA-F][\\da-fA-F_]*|(?:[2-9]|[12]\\d|3[0-6])r[\\da-zA-Z][\\da-zA-Z_]*|(?:\\d[\\d_]*(?:\\.\\d[\\d_]*)?|\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[\\w$]*)"},{token:"lparen",regex:"[({[]"},{token:"rparen",regex:"[)}\\]]",next:"key"},{token:"keyword.operator",regex:"\\S+"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?//[gimy$?]{0,4}",next:"start"},{token:"string.regex",regex:"\\s*#{"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],key:[{token:"keyword.operator",regex:"[.?@!]+"},{token:"identifier",regex:t,next:"start"},{token:"text",regex:"",next:"start"}],comment:[{token:"comment.doc",regex:".*?\\*/",next:"start"},{token:"comment.doc",regex:".+"}],qdoc:[{token:"string",regex:".*?'''",next:"key"},i],qqdoc:[{token:"string",regex:'.*?"""',next:"key"},i],qstring:[{token:"string",regex:"[^\\\\']*(?:\\\\.[^\\\\']*)*'",next:"key"},i],qqstring:[{token:"string",regex:'[^\\\\"]*(?:\\\\.[^\\\\"]*)*"',next:"key"},i],js:[{token:"string",regex:"[^\\\\`]*(?:\\\\.[^\\\\`]*)*`",next:"key"},i],words:[{token:"string",regex:".*?\\]>",next:"key"},i]};for(var a in o){var s=o[a];if(s.splice)for(var l=0,u=s.length;l<u;++l){var c=s[l];"string"==typeof c.regex&&(o[a][l].regex=new RegExp("^"+c.regex))}else"string"==typeof c.regex&&(o[a].regex=new RegExp("^"+s.regex))}e.defineMIME("text/x-livescript","livescript")}),
// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n,r){this.state=e,this.mode=t,this.depth=n,this.prev=r}function n(r){return new t(e.copyState(r.mode,r.state),r.mode,r.depth,r.prev&&n(r.prev))}e.defineMode("jsx",function(r,i){function o(e){var t=e.tagName;e.tagName=null;var n=u.indent(e,"","");return e.tagName=t,n}function a(e,t){return t.context.mode==u?s(e,t,t.context):l(e,t,t.context)}function s(n,i,s){if(2==s.depth)return n.match(/^.*?\*\//)?s.depth=1:n.skipToEnd(),"comment";if("{"==n.peek()){u.skipAttribute(s.state);var l=o(s.state),f=s.state.context;if(f&&n.match(/^[^>]*>\s*$/,!1)){for(;f.prev&&!f.startOfLine;)f=f.prev;f.startOfLine?l-=r.indentUnit:s.prev.state.lexical&&(l=s.prev.state.lexical.indented)}else 1==s.depth&&(l+=r.indentUnit);return i.context=new t(e.startState(c,l),c,0,i.context),null}if(1==s.depth){if("<"==n.peek())return u.skipAttribute(s.state),i.context=new t(e.startState(u,o(s.state)),u,0,i.context),null;if(n.match("//"))return n.skipToEnd(),"comment";if(n.match("/*"))return s.depth=2,a(n,i)}var d,p=u.token(n,s.state),h=n.current();return/\btag\b/.test(p)?/>$/.test(h)?s.state.context?s.depth=0:i.context=i.context.prev:/^</.test(h)&&(s.depth=1):!p&&(d=h.indexOf("{"))>-1&&n.backUp(h.length-d),p}function l(n,r,i){if("<"==n.peek()&&c.expressionAllowed(n,i.state))return c.skipExpression(i.state),r.context=new t(e.startState(u,c.indent(i.state,"","")),u,0,r.context),null;var o=c.token(n,i.state);if(!o&&null!=i.depth){var a=n.current();"{"==a?i.depth++:"}"==a&&0==--i.depth&&(r.context=r.context.prev)}return o}var u=e.getMode(r,{name:"xml",allowMissing:!0,multilineTagIndentPastTag:!1,allowMissingTagName:!0}),c=e.getMode(r,i&&i.base||"javascript");return{startState:function(){return{context:new t(e.startState(c),c)}},copyState:function(e){return{context:n(e.context)}},token:a,indent:function(e,t,n){return e.context.mode.indent(e.context.state,t,n)},innerMode:function(e){return e.context}}},"xml","javascript"),e.defineMIME("text/jsx","jsx"),e.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:!0}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function e(e){return e===un||e===cn}function t(e){return e>47&&e<58}function n(e,t,n){return n=n||90,(e&=-33)>=(t=t||65)&&e<=n}function r(e){return t(e)||n(e)}function i(e){return 32===e||9===e||160===e}function o(e){return i(e)||10===e||13===e}function a(e,t,n,r){r=r?Object.assign({},pn,r):pn;var i=e.pos;if(e.eat(t)){for(var o,a=1;!e.eof();)if(!dn(e,r))if((o=e.next())===t)a++;else if(o===n){if(!--a)return e.start=i,!0}else o===r.escape&&e.next();if(e.pos=i,r.throws)throw e.error("Unable to find matching pair for "+String.fromCharCode(t))}return!1}function s(e,t){return e instanceof hn?e:"string"==typeof e?new hn(e,t):e&&"object"==typeof e?new hn(e.name,e.value,e.options):void 0}function l(e){return String(e).trim()}function u(e,t,n){return e&&n.indexOf(e)===t}function c(e){if(e.eat(yn))return e.start=e.pos,{count:e.eatWhile(t)?+e.current():null}}function f(e){if(dn(e,bn))return e.current().slice(1,-1)}function d(e){var t=e.pos;if(e.eat(xn)){for(var n,r=1,i="",o=e.pos;!e.eof();)if((n=e.next())===xn)r++;else if(n===wn){if(!--r)return e.start=t,i+e.substring(o,e.pos-1)}else n===kn&&((n=e.next())!==xn&&n!==wn||(i+=e.substring(o,e.pos-2)+String.fromCharCode(n),o=e.pos));throw e.pos=t,e.error("Unable to find closing "+String.fromCharCode(wn)+" for text start")}return null}function p(e){if(!e.eat(Tn))return null;for(var t,n,r=[];!e.eof();){if(e.eatWhile(i),e.eat(An))return r;if(null!=(t=f(e)))r.push({name:null,value:t});else{if(!m(e))throw e.error("Expected attribute name");t=e.current(),Ln.test(t)?(n=h(t),r.push(n),e.eat(_n)&&(null!=(t=f(e))?n.value=t:null!=(t=d(e))?(n.value=t,n.options={before:"{",after:"}"}):m(e)&&(n.value=e.current()))):r.push({name:null,value:t})}}throw e.error('Expected closing "]" brace')}function h(e){var t={};e.charCodeAt(0)===Cn&&(e=e.slice(1),t.implied=!0),e.charCodeAt(e.length-1)===Sn&&(e=e.slice(0,e.length-1),t.boolean=!0);var n={name:e};return Object.keys(t).length&&(n.options=t),n}function m(e){var t=e.pos;if(e.eatWhile(g))return e.start=t,!0}function g(t){return!o(t)&&!e(t)&&t!==Tn&&t!==An&&t!==_n}function v(e){for(var t,n=e.pos,r=new mn(y(e));!e.eof();)if(e.eat(En))r.addClass(y(e));else if(e.eat(Mn))r.setAttribute("id",y(e));else{if(e.eat(On)){if(r.isGroup)throw e.backUp(1),e.error("Unexpected self-closing indicator");r.selfClosing=!0,(t=c(e))&&(r.repeat=t);break}if(t=p(e))for(var i=0,o=t.length;i<o;i++)r.setAttribute(t[i]);else if(null!==(t=d(e)))r.value=t;else{if(!(t=c(e)))break;r.repeat=t}}if(n===e.pos)throw e.error("Unable to consume abbreviation node, unexpected "+e.peek());return r}function y(e){return e.start=e.pos,e.eatWhile(b),e.current()}function b(e){return r(e)||45===e||58===e||36===e||64===e||33===e||95===e||37===e}function x(e){var t=function(e){for(var t,n=new vn(e.trim()),r=new mn,i=r,o=[];!n.eof();)if((t=n.peek())!==Pn)if(t!==jn){var a=v(n);if(i.appendChild(a),n.eof())break;switch(n.peek()){case Nn:n.next();continue;case Dn:n.next(),i=a;continue;case zn:for(;n.eat(zn);)i=i.parent||i;continue}}else{var s=o.pop();if(!s)throw n.error('Unexpected ")" group end');var l=s[0];if(i=s[1],n.next(),l.repeat=c(n))i.appendChild(l);else for(;l.firstChild;)i.appendChild(l.firstChild);n.eat(Nn)}else{var u=new mn;o.push([u,i,n.pos]),i=u,n.next()}if(o.length)throw n.pos=o.pop()[2],n.error("Expected group close");return r}(e);return t.walk(w),t}function w(e){if(e.repeat&&e.repeat.count){for(var t=0;t<e.repeat.count;t++){var n=e.clone(!0);if(n.repeat.value=t+1,n.walk(w),n.isGroup)for(;n.children.length>0;)n.firstChild.repeat=n.repeat,e.parent.insertBefore(n.firstChild,e);else e.parent.insertBefore(n,e)}e.parent.removeChild(e)}}function k(e){return e=(e||"").toLowerCase(),In[e]||(Rn.has(e)?"span":"div")}function C(e,t){for(var n=new Set,r=t.length,i=0;-1!==(i=e.indexOf(t,i));)n.add(i),i+=r;if(n.size)for(var o=0,a=e.length;o<a;)"\\"===e[o++]&&n["delete"](o++);return Array.from(n).map(function(e){return[e,r]})}function S(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r],o=0,a=0,s=!1;if("@"===e.substr(i[0]+i[1],1)){"-"===e.substr(i[0]+i[1]+1,1)&&(s=!0);var l=e.substr(i[0]+i[1]+1+Number(s)).match(/^(\d+)/);l?(a=l[1].length+1+Number(s),o=parseInt(l[1])-1):a=2}e=e.substring(0,i[0])+("function"==typeof n?n(e.substr(i[0],i[1]),o,s):n)+e.substring(i[0]+i[1]+a)}return e}function _(e){var t=function(e){for(;e;){if(e.repeat)return e.repeat;e=e.parent}}(e);if(t&&null!=t.value){var n=t.value,r=t.count;e.name=T(e.name,n,r),e.value=T(e.value,n,r),e.attributes.forEach(function(t){var i=e.getAttribute(t.name).clone();i.name=T(t.name,n,r),i.value=T(t.value,n,r),e.replaceAttribute(t.name,i)})}return e}function T(e,t,n){return"string"==typeof e?function(e,t,n,r){return function(e){for(var t=0,n="",r=e.length;t<r;){var i=e[t++];n+="\\"===i?e[t++]||"":i}return n}(S(e,t,function(e,t,i){for(var o=i?String(t+r-n+1):String(n+t);o.length<e.length;)o="0"+o;return o}))}(e,function(e){return C(e||"",Hn).reduce(function(t,n){if(!/[#{]/.test(e[n[0]+1]||"")){var r=t[t.length-1];r&&r[0]+r[1]===n[0]?r[1]+=n[1]:t.push(n)}return t},[])}(e),t,n):e}function A(e,t){return t=t||1,e.walk(function(e){if(e.repeat&&null===e.repeat.count){for(var n=0;n<t;n++){var r=e.clone(!0);r.repeat.implicit=!0,r.repeat.count=t,r.repeat.value=n+1,r.repeat.index=n,e.parent.insertBefore(r,e)}e.remove()}}),e}function L(e,t){if(Array.isArray(t)&&t.length){var n=!1;e.walk(function(e){e.repeat&&e.repeat.implicit&&(n=!0,function(e,t){var n=M(e,t);e.walk(function(e){return n|=M(e,t)}),n||P(O(e),t)}(e,t[e.repeat.index]))}),n||P(O(e),t.join("\n"))}return e}function M(e,t){var n={replaced:!1};return e.value=E(e.value,t,n),e.attributes.forEach(function(r){r.value&&e.setAttribute(r.name,E(r.value,t,n))}),n.replaced}function E(e,t,n){if("string"==typeof e){var r=C(e,qn);r.length&&(n&&(n.replaced=!0),e=S(e,r,t))}return e}function O(e){for(;e.children.length;)e=e.children[e.children.length-1];return e}function P(e,t){if(e.value){var n=C(e.value,Bn);if(n.length)return void(e.value=S(e.value,n,t))}("a"===e.name.toLowerCase()||e.hasAttribute("href"))&&(Un.test(t)?e.setAttribute("href",(Kn.test(t)?"":"http://")+t):Vn.test(t)&&e.setAttribute("href","mailto:"+t)),e.value=t}function j(e,t,n){for(var r=n.length>1?n.length:0;e.parent&&e.parent.parent&&r--;)e=e.parent;return t.get(e)||""}function N(e,t){return e.filter(t)[0]}function D(e,t,n){var r=e.getAttribute(t);r&&(r.name=n)}function z(e,t){return t=t||{},e.walk(function(e){return function(e,t){for(var n=e.attributes,r=0,i=n.length;r<i;r++){var o=n[r];"string"==typeof o.value&&e.setAttribute(o.name,F(o.value,t))}return null!=e.value&&(e.value=F(e.value,t)),e}(e,t)}),e}function F(e,t){for(var n=function(e){for(var t,n=/\$\{([a-z][\w\-]*)\}/gi,r=[],i=new Map;t=n.exec(e);)i.set(t.index,t);if(i.size){for(var o=0,a=0,s=e.length,l="";a<s;)if(92===e.charCodeAt(a)&&i.has(a+1)){var u=i.get(a+1);l+=e.slice(o,a)+u[0],o=a=u.index+u[0].length,i["delete"](a+1)}else a++;e=l+e.slice(o);for(var c=Array.from(i.values()),f=0,d=c.length;f<d;f++){var p=c[f];r.push({name:p[1],location:p.index,length:p[0].length})}}return{string:e,variables:r}}(e),r=0,i="",o=0,a=n.variables.length;o<a;o++){var s=n.variables[o],l=s.name in t?t[s.name]:s.name;"function"==typeof l&&(l=l(n.string,s,r+s.location)),i+=n.string.slice(r,s.location)+l,r=s.location+s.length}return i+n.string.slice(r)}function R(e){for(var t,n,r=new vn(e),i=[],o="",a=0,s=0;!r.eof();)t=r.peek(),s=r.pos,t===or?(r.next(),r.next()):(n=$(r,o.length+s-a))?(i.push(n),o+=r.string.slice(a,s)+n.placeholder,a=r.pos):r.next();return new ur(o+r.string.slice(a),i)}function I(e,t){return t?"${"+e+":"+t+"}":"${"+e+"}"}function $(e,t){var n=e.pos;if(e.eat(rr)){var r=H(e),i="";if(null!=r)return new lr(r,i,t);if(e.eat(ar)&&null!=(r=H(e))&&(e.eat(ir)&&(i=function(e){var t,n=[];for(e.start=e.pos;!e.eof();){if((t=e.peek())===ar)n.push(e.pos);else if(t===sr){if(!n.length)break;n.pop()}e.next()}if(n.length)throw e.error('Unable to find matching "}" for curly brace at '+n.pop());return e.current()}(e)),e.eat(sr)))return new lr(r,i,t)}e.pos=n}function H(e){if(e.start=e.pos,e.eatWhile(t))return Number(e.current())}function W(e,t,n){void 0===n&&(n=t,t=null),t=t||dr;var r={index:1};return function i(e,t,n){return e.map(function(e){var r=t(new fr(e,n));return r?r.toString(i(e.children,t,n)):""}).join("")}(e.children,n,function(e){return null==e?t(r.index++):function(e,t){var n="object"==typeof e?e:R(e),r=-1;return n.fields.forEach(function(e){e.index+=t.index,e.index>r&&(r=e.index)}),-1!==r&&(t.index=r+1),n}(e,r).mark(t)})}function q(e,t){if(null==e)return e;for(var n,r,i=[],o=function(e,n,r,i){return null!=t[r]?n+t[r]+i:""},a="",s=0,l=0;l<e.length;)(n=e.charCodeAt(l))===hr?i.push(l):n===mr&&(r=i.pop(),i.length||(a+=e.slice(s,r)+e.slice(r+1,l).replace(pr,o),s=l+1)),l++;return a+e.slice(s)}function B(e){return(e||"").split(/\r\n|\r|\n/g)}function U(e){return e.parent.firstChild===e}function V(e){return e&&!e.parent}function K(e){return e.isTextOnly&&!!e.children.length}function G(e){var t=e.node;if(K(t)){var n=R(t.value),r=n.fields.reduce(function(e,t){return!e||t.index<e.index?t:e},null);if(r){var i=function(e,t){var n=e.fields.indexOf(t);return[new e.constructor(e.string.slice(0,t.location),e.fields.slice(0,n)),new e.constructor(e.string.slice(t.location+t.length),e.fields.slice(n+1))]}(n,r);e.open=e.renderFields(i[0]),e.close=e.renderFields(i[1])}else e.text=e.renderFields(n);return!0}return!1}function X(e,t){return!!t.get("format")&&(!e.parent.isTextOnly||1!==e.parent.children.length||!R(e.parent.value).fields.length)&&(!Y(e,t)||function(e,t){if(!Y(e,t))return!1;if(K(e))return!0;if(0===e.childIndex){for(var n=e;n=n.nextSibling;)if(!Y(n,t))return!0}else if(!Y(e.previousSibling,t))return!0;if(t.get("inlineBreak")){for(var r=1,i=e,o=e;J(i=i.previousSibling,t);)r++;for(;J(o=o.nextSibling,t);)r++;if(r>=t.get("inlineBreak"))return!0}for(var a=0,s=e.children.length;a<s;a++)if(X(e.children[a],t))return!0;return!1}(e,t))}function Y(e,t){return e&&e.isTextOnly||J(e,t)}function J(e,t){return e&&t.isInline(e)}function Z(e,t,n){n=Object.assign({},xr,n);var r=e.node;if(e.indent=t.indent(function(e){for(var t=e.parent.isTextOnly?-2:-1,n=e;n=n.parent;)t++;return t<0?0:t}(r)),e.newline="\n",V(r.parent)&&U(r)||(e.beforeOpen=e.newline+e.indent),r.name){var i=Object.assign({NAME:t.name(r.name),SELF_CLOSE:r.selfClosing?n.selfClose:null},function(e,t,n){n=Object.assign({},br,n);var r=[],i=[];return e.node.attributes.forEach(function(n){if(n.options.implied&&null==n.value)return null;var o=t.attribute(n.name),a=e.renderFields(n.value);if(vr.test(o))a&&r.push("#"+a);else if(yr.test(o))a&&r.push("."+a.replace(/\s+/g,"."));else{var s=null==n.value&&(n.options.boolean||-1!==t.get("booleanAttributes").indexOf(o.toLowerCase()));i.push({name:o,value:a,isBoolean:s})}}),{PRIMARY_ATTRS:n.primary(r)||null,SECONDARY_ATTRS:n.secondary(i)||null}}(e,t,n.attributes));n.omitName&&n.omitName.test(i.NAME)&&i.PRIMARY_ATTRS&&(i.NAME=null),null!=n.open&&(e.open=q(n.open,i)),null!=n.close&&(e.close=q(n.close,i))}return e}function Q(e,t,n,r){return"object"==typeof n&&(r=n,n=null),!!n&&n in _r||(n="html"),_r[n](e,t,r)}function ee(e){if(e.peek()===Lr){e.start=e.pos,e.next(),e.eat(116)||e.eatWhile(te);var n=e.current();if(e.start=e.pos,e.eat(Mr)&&!e.eatWhile(t))throw e.error("Unexpected character for alpha value of color");return new Er(n,e.current())}}function te(e){return t(e)||n(e,65,70)}function ne(e){return!(e%17)}function re(e){return(e>>4).toString(16)}function ie(e){return function(e,t){for(;e.length<t;)e="0"+e;return e}(e.toString(16),2)}function oe(e){return t(e)||ae(e)}function ae(e){return 95===e||n(e)}function se(e){if(e.start=e.pos,function(e){var n=e.pos,r=(e.eat(jr),e.pos);e.eatWhile(t);var i=e.pos;return e.eat(Pr)&&!e.eatWhile(t)&&(e.pos=i),e.pos===r&&(e.pos=n),e.pos!==n}(e)){var n=e.current();return e.start=e.pos,e.eat(Or)||e.eatWhile(ae),new Nr(n,e.current())}}function le(e,t){return e.start=e.pos,e.eat(Dr)||e.eat(Fr)?e.eatWhile(ce):t?e.eatWhile(ae):e.eatWhile(ue),e.start!==e.pos?new Rr(e.current()):null}function ue(e){return oe(e)||e===zr}function ce(e){return 45===e||oe(e)}function fe(e){if(dn(e,Ir))return new $r(e.current())}function de(e){if(!e.eat(Hr))return null;for(var t,n=[];!e.eof();)if(t=pe(e))n.push(t);else{if(e.eatWhile(i),e.eat(Wr))break;if(!e.eat(qr))throw e.error("Expected , or )")}return n}function pe(e){for(var t,n=new Tr;!e.eof()&&(e.eatWhile(i),t=se(e)||ee(e)||fe(e)||he(e));)n.add(t);return n.size?n:null}function he(e){var t=le(e);if(t){var n=de(e);return n?new Br(t.toString(),n):t}}function me(e){return e.start=e.pos,e.eatWhile(ye),e.eatWhile(ve),e.start!==e.pos?e.current():null}function ge(e){for(var t,n=new Tr;!e.eof()&&(e.eat(Xr),(t=se(e)||ee(e))?t.unit||e.eat(Gr):(e.eat(Gr),t=le(e,!0)),t);)n.add(t);return n}function ve(e){return ae(e)}function ye(e){return e===Yr||e===Vr||e===Ur}function be(e,t){if((e=e.toLowerCase())===(t=t.toLowerCase()))return 1;if(!t||e.charCodeAt(0)!==t.charCodeAt(0))return 0;for(var n,r,i,o,a,s=e.length,l=t.length,u=1,c=1,f=l;u<s;){for(n=e.charCodeAt(u),i=!1,o=!1;c<l;){if(n===(r=t.charCodeAt(c))){i=!0,f+=(l-c)*(o?2:1);break}o=r===Jr,c++}if(!i)break;u++}return f&&f*(u/s)/((a=l)*(a+1)/2)}function xe(e){return function(e){e=e.sort(we);for(var t=[],n=0,r=void 0,i=void 0;n<e.length;n++)if((r=e[n]).property){for(;t.length;){if(i=t[t.length-1],0===r.property.indexOf(i.property)&&r.property.charCodeAt(i.property.length)===Qr){i.addDependency(r),t.push(r);break}t.pop()}t.length||t.push(r)}return e}(e.map(function(e){return new ei(e.key,e.value)}))}function we(e,t){return e.key===t.key?0:e.key<t.key?-1:1}function ke(e){return/^\s*[\w-]+/.test(e)}function Ce(e){return String(e).split("|")}function Se(e,t,n){(n=Object.assign({},ii,n)).unitAliases=Object.assign({},ii.unitAliases,n&&n.unitAliases);var r=xe(t.all({type:"string"}));return e.walk(function(e){return function(e,t,n){if(n.property)return function(e,t,n){var r=ni.slice();t&&(r=r.concat(t.keywords()));var i=[e.name].concat(e.value.value).filter(Boolean).map(function(e){return("string"==typeof e||"keyword"===e.type)&&Te(e=String(e),r,null,n.fuzzySearchMinScore)||e});return e.name=null,e.value.value=i,e}(e,t.find(function(e){return e.property===n.property}),n);var r=Te(e.name,t,"key",n.fuzzySearchMinScore);return r?r.property?function(e,t,n){var r=e.name;if(e.name=t.property,e.value&&"object"==typeof e.value){var i=t.keywords();if(e.value.size)for(var o=0,a=void 0;o<e.value.value.length;o++)"!"===(a=e.value.value[o])?a=(o?"":"${1} ")+"!important":Le(a)?a=Te(a.value,i)||Te(a.value,ni)||a:Me(a)&&(a=Oe(e.name,a,n)),e.value.value[o]=a;else{var s=Te(function(e,t){for(var n=0,r=0;n<e.length;n++){if(-1===(r=t.indexOf(e[n],r)))return e.slice(n);r++}return""}(r,t.key),i);s||(s=t.defaultValue)&&-1===s.indexOf("${")&&(s="${1:"+s+"}"),s&&e.value.add(s)}}return e}(e,r,n):function(e){return _e(e,r.value)}(e):"!"===e.name?_e(e,"!important"):e}(e,r,n)}),e}function _e(e,t){return e.name=null,e.value=t,e}function Te(e,t,n,r){if(!e)return null;var i=null,o=0;r=r||0;for(var a=0,s=void 0;a<t.length;a++){var l=be(e,Ae(s=t[a],n));if(1===l)return s;l&&l>=o&&(o=l,i=s)}return o>=r?i:null}function Ae(e,t){var n=e&&"object"==typeof e?e[t]:e,r=(n||"").match(/^[\w-@]+/);return r?r[0]:n}function Le(e){return Ee(e,"keyword")}function Me(e){return Ee(e,"numeric")}function Ee(e,t){return e&&"object"==typeof e&&e.type===t}function Oe(e,t,n){return t.unit?t.unit=n.unitAliases[t.unit]||t.unit:0!==t.value&&-1===ri.indexOf(e)&&(t.unit=t.value===(0|t.value)?n.intUnit:n.floatUnit),t}function Pe(e,t,n){n=n||{};var r=Object.assign({},oi,n&&n.format);return W(e,n.field,function(n){var i=n.node,o=je(i,r);return i.attributes.length&&(o=function(e,t){var n=R(e),r=n.fields.length;if(r)for((t=t.slice()).length>r&&(t=t.slice(0,r-1).concat(t.slice(r-1).join(", ")));t.length;){var i=t.shift(),o=n.fields.shift(),a=i.length-o.length;n.string=n.string.slice(0,o.location)+i+n.string.slice(o.location+o.length);for(var s=0,l=n.fields.length;s<l;s++)n.fields[s].location+=a}return n}(o,i.attributes.map(function(e){return je(e,r)}))),n.open=i.name&&t.name(i.name),n.afterOpen=r.between,n.text=n.renderFields(o||null),!n.open||n.text&&n.text.endsWith(";")||(n.afterText=r.after),t.get("format")&&(n.newline="\n",e.lastChild!==i&&(n.afterText+=n.newline)),n})}function je(e,t){return e.value&&"object"==typeof e.value&&"css-value"===e.value.type?e.value.value.map(function(e){return e&&"object"==typeof e?"color"===e.type?e.toString(t.shortHex):e.toString():String(e)}).join(" "):null!=e.value?String(e.value):""}function Ne(e,t,n,r){return"object"==typeof n&&(r=n,n=null),!!n&&n in ai||(n="css"),Pe(e,t,r=Object.assign({},r,{format:function(e,t){var n=ai[e];return"string"==typeof n&&(n=ai[n]),Object.assign({},n,t&&t.format)}(n,r)}))}function De(e,t){return Math.floor(Math.random()*(t-e)+e)}function ze(e,t){for(var n=e.length,r=Math.min(n,t),i=new Set;i.size<r;)i.add(e[De(0,n)]);return Array.from(i)}function Fe(e,t){var n,r;return e.length&&(e=[(n=e[0],n[0].toUpperCase()+n.slice(1))].concat(e.slice(1))),e.join(" ")+(t||(r="?!...")[De(0,r.length-1)])}function Re(e){if(e.length<2)return e;var t=(e=e.slice()).length,n=/,$/,r=0;r=t>3&&t<=6?De(0,1):t>6&&t<=12?De(0,2):De(1,4);for(var i=0,o=void 0;i<r;i++)o=De(0,t-2),n.test(e[o])||(e[o]+=",");return e}function Ie(e,t,n){var r,i=[],o=0;for(n&&e.common&&(o+=(r=e.common.slice(0,t)).length,i.push(Fe(Re(r),".")));o<t;)o+=(r=ze(e.words,Math.min(De(2,30),t-o))).length,i.push(Fe(Re(r)));return i.join(" ")}function $e(e,t){return t?"upper"===t?e.toUpperCase():e.toLowerCase():e}function He(e,t){return x(e).use(Fn,t.snippets).use(z,t.variables).use(nr,t.text,t.options)}function We(e,t){return"string"==typeof e&&(e=function(e){for(var t=new mn,n=new vn(e);!n.eof();){var r=new mn(me(n));r.value=ge(n);var i=de(n);if(i)for(var o=0;o<i.length;o++)r.setAttribute(String(o),i[o]);if(n.eat(Ur)&&r.value.add("!"),t.appendChild(r),!n.eat(Kr))break}if(!n.eof())throw n.error("Unexpected character");return t}(e)),e.use(Se,t.snippets,t.options)}function qe(e){var t={},n=e.name.match(vi);return n[1]&&(t.lang=n[1]),n[2]&&(t.wordCount=+n[2]),ci(e,t)}function Be(e,t){return"stylesheet"===Ge((t=Ve(t)).type,t.syntax)?function(e,t){return t=t||{},"string"==typeof e&&(e=We(e,t)),Ne(e,t.profile,t.syntax,t)}(e,t):function(e,t){return t=Object.assign({},t),"string"==typeof e&&(e=He(e,t)),Q(e,t.profile,t.syntax,t)}(e,t)}function Ue(e,t,n){return e&&"markup"!==e&&"stylesheet"!==e&&(n=t,t=e,e="markup"),n instanceof hi?n:function(e,t,n){var r=[];"markup"===e?r.push(si.html):"stylesheet"===e&&r.push(si.css),t in si&&-1===r.indexOf(si[t])&&r.push(si[t]),Array.isArray(n)?n.forEach(function(e){r.push("string"==typeof e?si[e]:e)}):"object"==typeof n&&r.push(n);var i=new hi(r.filter(Boolean));return"stylesheet"!==e&&i.get(0).set(vi,qe),i}(e,t,n)}function Ve(e){return"string"==typeof e&&(e={syntax:e}),null==(e=Object.assign({},xi,e)).type&&e.syntax&&(e.type=Ke(e.syntax)?"stylesheet":"markup"),e.format=Object.assign({field:e.field},e.format),e.profile=function(e){return e.profile instanceof gi?e.profile:new gi(e.profile)}(e),e.variables=Object.assign({},yi,e.variables),e.snippets=Ue(e.type,e.syntax,e.snippets),e}function Ke(e){return-1!==bi.indexOf(e)}function Ge(e,t){return e?"stylesheet"===e?"stylesheet":"markup":Ke(t)?"stylesheet":"markup"}function Xe(e){return e===ki||e===Ci}function Ye(e){return function(e){var t=e.pos;return!!(function(e){var t=e.pos,n=e.prev();if(Xe(n))for(;!e.sol();)if(e.prev()===n&&e.peek()!==Si)return!0;return e.pos=t,!1}(e)&&e.eat(Mi)&&Ze(e))||(e.pos=t,!1)}(e)||Je(e)}function Je(e){var t=e.pos;return!!(e.eatWhile(tt)&&e.eat(Mi)&&Ze(e))||(e.pos=t,!1)}function Ze(e){return e.eatWhile(Qe)}function Qe(e){return e===Li||e===Ai||function(e){return(e&=-33)>=65&&e<=90}(e)||function(e){return e>47&&e<58}(e)}function et(e){return e===Ti||e===_i}function tt(e){return e&&e!==Mi&&!et(e)&&!Xe(e)}function nt(e,t,n){var r;t=Math.min(e.length,Math.max(0,null==t?e.length:t)),null!=(n="boolean"==typeof n?Object.assign({},$i,{lookAhead:n}):Object.assign({},$i,n)).lookAhead&&!0!==n.lookAhead||(t=function(e,t,n){for(Xe(e.charCodeAt(t))&&t++;lt(e.charCodeAt(t),n.syntax);)t++;return t}(e,t,n));var i=function(e,t,n){if(!n)return 0;var r,i=new wi(e),o=String(n).split("").map(Oi);for(i.pos=t;!i.sol();)if(!rt(i,ji,Pi)&&!rt(i,Fi,zi)){if(r=i.pos,it(i,o))return r;i.pos--}return-1}(e,t,n.prefix);if(-1===i)return null;var o=new wi(e,i);o.pos=t;for(var a=[];!o.sol();){if(lt(r=o.peek(),n.syntax))a.push(r);else if(st(r,n.syntax)){if(a.pop()!==Ii.get(r))break}else{if(ot(a,ji)||ot(a,Fi)){o.pos--;continue}if(Ei(o)||!at(r))break}o.pos--}if(!a.length&&o.pos!==t){var s=e.slice(o.pos,t).replace(/^[*+>^]+/,"");return{abbreviation:s,location:t-s.length,start:n.prefix?i-n.prefix.length:t-s.length,end:t}}}function rt(e,t,n){var r=e.pos;if(e.eat(t))for(;!e.sol();){if(e.eat(n))return!0;e.pos--}return e.pos=r,!1}function it(e,t){for(var n=e.pos,r=!1,i=t.length-1;i>=0&&!e.sol()&&e.eat(t[i]);i--)r=0===i;return r||(e.pos=n),r}function ot(e,t){return-1!==e.indexOf(t)}function at(e){return e>64&&e<91||e>96&&e<123||e>47&&e<58||Ri.has(e)}function st(e,t){return e===Ni||"markup"===t&&(e===Pi||e===zi)}function lt(e,t){return e===Di||"markup"===t&&(e===ji||e===Fi)}function ut(e,t){var n=function(e,t){var n=t.type,r=t.syntax,i=t.project;return{syntax:r,type:n,project:i,format:ct(e,"format",n,r,i),profile:ct(e,"profile",n,r,i),options:ct(e,"options",n,r,i),variables:ct(e,"variables",n,r,i),snippets:ft(e,"snippets",n,r,i).filter(Boolean)}}(e,t=function(e,t){var n=t.type,r=t.syntax;return n||r?!n&&r?n=-1!==Wi.markup.indexOf(r)?"markup":-1!==Wi.stylesheet.indexOf(r)?"stylesheet":dt(e,["syntax",r,"type"])||dt(e,["project",t.project,"syntax",r,"type"]):r||(r=Hi[n]):r=Hi[n="markup"],Object.assign({},t,{type:n,syntax:r})}(e,t||{})),r=["globals","syntax","project"];for(var i in e)-1===r.indexOf(i)&&(n[i]=e[i]);return n}function ct(e,t,n,r,i){return ft(e,t,n,r,i).reduce(function(e,t){return Object.assign({},e,t)},{})}function ft(e,t,n,r,i){return[dt(e,["globals",n,t]),dt(e,["project",i,"globals",n,t]),dt(e,["syntax",r,t]),dt(e,["project",i,"syntax",r,t])].filter(Boolean)}function dt(e,t,n){for(var r=e,i=0;i<t.length&&null!=r;i++)r=r[t[i]];return null!=r?r:n}function pt(e,t,n){var r=function(e,t){var n=e.getMode();if("jsx"===n.name||"javascript"===n.name)return n.name;var r=e.getModeAt(t);return"xml"===r.name?"html":r.name}(e,t=t||e.getCursor()),i=ut(Object.assign({field:qi},e.getOption("emmet"),n),{syntax:r}),o=e.getModeAt(t);return"jsx"===r?(i.profile=Object.assign({selfClosingStyle:"xml"},i.profile),i.options=Object.assign({jsx:!0},i.options)):"xml"===o.name&&(i.profile=Object.assign({selfClosingStyle:o.configuration},i.profile)),i}function ht(e,t){return e.line-t.line||e.ch-t.ch}function mt(e,t,n){var r=function(e){return Array.isArray(e)?e:e.split(/\r\n|\r|\n/g)}(t),i=function(e){return e.getOption("indentWithTabs")?"\t":gt(" ",e.getOption("indentUnit"))}(e);return"\t"!==i&&(r=r.map(function(e){return e.replace(/^\t+/,function(e){return gt(i,e.length)})})),n&&(r=r.map(function(e,t){return t?n+e:e})),r.join("\n")}function gt(e,t){for(var n="";0<t--;)n+=e;return n}function vt(e){return R(e).string}function yt(e,t,n){return n?bt(t,e.from)>0&&bt(t,e.to)<0:bt(t,e.from)>=0&&bt(t,e.to)<=0}function bt(e,t){return e.line-t.line||e.ch-t.ch}function xt(e){return{from:e.start,to:e.end}}function wt(e,t){var n=e.getModeAt(t);if(n&&"css"===n.name){var r=e.getTokenAt(t),i=r.state&&r.state.localState||r.state;return i&&i.context&&"prop"===i.context.type}return!1}function kt(e,t,n){var r=e.getLine(t.from.line).match(/^\s+/),i=R(mt(e,n,r&&r[0]));return e.operation(function(){e.replaceRange(i.string,t.from,t.to);var n=e.indexFromPos(t.from);if(i.fields.length){var r=i.fields[0],o=e.posFromIndex(r.location+n),a=e.posFromIndex(r.location+r.length+n);e.setSelection(o,a)}else e.setCursor(e.posFromIndex(n+i.string.length));return!0})}function Ct(e,t,n){var r=St(e,t);if(r&&r.model)return r.model;var i=function(e,t,n){var r=pt(e,t);if(n&&!function(e,t,n){var r=e.getTokenTypeAt(t);return"stylesheet"===n.type?"comment"!==r&&"string"!==r:"html"===n.syntax?null===r:"slim"===n.syntax||"pug"===n.syntax?null===r||"tag"===r||r&&/attribute/.test(r):"haml"===n.syntax?null===r||"attribute"===r:"jsx"===n.syntax}(e,t,r))return null;var i=nt(e.getLine(t.line),t.ch,{lookAhead:!0,syntax:r.type,prefix:"jsx"===r.syntax&&e.getOption("jsxBracket")?"<":""});if(i){var o={line:t.line,ch:i.start},a={line:t.line,ch:i.end};return"stylesheet"===r.type&&n&&wt(e,t)&&(r.options=Object.assign({property:function(e,t){for(var n,r=t.line,i=t.ch;i>=0;){if("property"===(n=e.getTokenAt({line:r,ch:i})).type)return n.string;if(n.start===i)break;i=n.start}}(e,t)},r.options)),{abbreviation:i.abbreviation,range:{from:o,to:a},config:r}}}(e,t,n);if(i)try{var o=new Vi(i.abbreviation,i.range,i.config);return o.valid(e,n)?o:null}catch(e){}}function St(e,t){for(var n=e.findMarksAt(t),r=0,i=void 0;r<n.length;r++)if((i=n[r]).className===Ui){if(At(e,i))return i;i.clear()}}function _t(e){for(var t=e.getAllMarks(),n=0;n<t.length;n++)t[n].className===Ui&&t[n].clear()}function Tt(e,t){var n=t.range,r=n.from,i=n.to,o=e.markText(r,i,{inclusiveLeft:!0,inclusiveRight:!0,clearWhenEmpty:!0,className:Ui});return o.model=t,o}function At(e,t){var n=t.find();if(n.from.line!==n.to.line)return!1;var r=e.getRange(n.from,n.to);if(!r||/^\s|\s$/g.test(r))return!1;if(t.model&&"jsx"===t.model.config.syntax&&"<"===r[0]&&(r=r.slice(1)),!t.model||t.model.abbreviation!==r)try{t.model=new Vi(r,n,t.model.config),t.model.valid(e,!0)||(t.model=null)}catch(e){console.warn(e),t.model=null}return Boolean(t.model&&t.model.snippet)}function Lt(e,t){if(e.somethingSelected())return e.constructor.Pass;var n=Ct(e,e.getCursor(),t);return n?(n.insert(e),_t(e),!0):e.constructor.Pass}function Mt(e){var t=e.listSelections().map(function(t){return function(e,t){if(o=t.anchor,a=t.head,o.sticky===a.sticky&&0===function(e,t){return e.line-t.line||e.ch-t.ch}(o,a)){var n=t.anchor;if("xml"===e.getModeAt(n).name){var r=e.getTokenAt(n),i=e.getTokenAt(Object.assign({},n,{ch:n.ch+1}));return"tag bracket"===r.type&&">"===r.string&&"tag bracket"===i.type&&"</"===i.string}}var o,a}(e,t)});if(!t.some(Boolean))return e.constructor.Pass;e.operation(function(){for(var n=e.listSelections(),r=e.doc.lineSeparator(),i=r+r,o=n.length-1;o>=0;o--)e.replaceRange(t[o]?i:r,n[o].anchor,n[o].head,"+newline");n=e.listSelections();for(var a=0;a<n.length;a++)e.indentLine(n[a].from().line,null,!0),t[a]&&e.indentLine(n[a].from().line-1,null,!0);e.setSelections(e.listSelections().map(function(n,r){if(t[r]){var i=n.from().line-1,o={line:i,ch:e.getLine(i).length};return{anchor:o,head:o}}return n}))})}function Et(e){var t=function(e){if(e.somethingSelected()){var t=e.listSelections().filter(function(e){return e.anchor!==e.head})[0];if(t)return bt(t.anchor,t.head)<0?{from:t.anchor,to:t.head}:{from:t.head,to:t.anchor}}return function(e,t){var n=e.getEmmetDocumentModel(),r=n&&n.nodeForPoint(t);return r?Ot(r.open,t)||Ot(r.close,t)?xt(r):function(e,t,n){var r=new Bi(e,t);if(r.eatWhile(o),t=r.pos,n){for(r.pos=n,r.backUp();!r.sof()&&o(r.peek());)r.backUp();r.next(),n=r.pos}else n=t;return{from:t,to:n}}(e,r.open.end,r.close?r.close.start:r.open.end):null}(e,e.getCursor())}(e);if(t){var n=e.getOption("emmetPrompt")||Pt,r=e.getRange(t.from,t.to,"\n").split("\n").map(function(e){return e.trim()});n(e,"Enter abbreviation to wrap with:",function(n){n&&new Vi(n,t,pt(e,t.from,{text:r})).insert(e)})}else console.warn("Nothing to wrap")}function Ot(e,t){return e&&yt(xt(e),t)}function Pt(e,t,n){n(window.prompt(t))}function jt(e){return function(e){e=e.sort(Nt);for(var t=[],n=0,r=void 0,i=void 0;n<e.length;n++)if((r=e[n]).property){for(;t.length;){if(i=t[t.length-1],0===r.property.indexOf(i.property)&&r.property.charCodeAt(i.property.length)===Gi){i.addDependency(r),t.push(r);break}t.pop()}t.length||t.push(r)}return e}(e.map(function(e){return new Xi(e.key,e.value)}))}function Nt(e,t){return e.key===t.key?0:e.key<t.key?-1:1}function Dt(e){return/^\s*[\w-]+/.test(e)}function zt(e){return String(e).split("|")}function Ft(e,t){var n=[],r=Ct(e,t=t||e.getCursor(),!0);r&&r.abbreviation!==r.snippet&&n.push(function(e,t,n){var r=n.preview;return r.length>500&&(r=r.slice(0,500)+"..."),new Ji("expanded-abbreviation",e,n.range,"Expand abbreviation",r,function(e,t){return n.insert(e,t)})}(e,0,r));var i=r?r.config:pt(e,t);return n="stylesheet"===i.type?n.concat(function(e,t,n){var r=It(e.getLine(t.line).slice(0,t.ch),/[\w-@$]/);if(r){var i={from:{line:t.line,ch:t.ch-r.length},to:t};if(!n.options||!n.options.property)return Rt(e,t,n).filter(function(e){return e.key!==r&&0===e.key.indexOf(r)}).map(function(t){return new Ji("snippet",e,i,t.key,t.preview,t.snippet)});var o=n.options.property.toLowerCase(),a=Rt(e,t,n).find(function(e){return e.property&&e.property===o});if(a&&a.keywords.length)return a.keywords.map(function(t){return 0===t.key.indexOf(r)&&new Ji("value",e,i,t.key,t.preview,t.snippet)}).filter(Boolean)}return[]}(e,t,i)):n.concat(function(e,t,n){var r=It(e.getLine(t.line).slice(0,t.ch),/[\w:\-$@]/);if(r){var i={from:{line:t.line,ch:t.ch-r.length},to:t};return Rt(e,t,n).filter(function(e){return e.key!==r&&0===e.key.indexOf(r)}).map(function(t){return new Ji("snippet",e,i,t.key,t.preview,t.snippet)})}return[]}(e,t,i)),{type:i.type,syntax:i.syntax,abbreviation:r,completions:n.filter(Boolean)}}function Rt(e,t,n){var r=n.type,i=n.syntax;e.state.emmetCompletions||(e.state.emmetCompletions={});var o=e.state.emmetCompletions;if(!(i in o)){var a=Ue(r,i,n.snippets);o[i]="stylesheet"===r?function(e){return jt(e.all({type:"string"}))}(a).map(function(e){var t=e.property,n=e.keywords();return n.length?t+=": "+vt(n.join(" | ")):e.value&&(t+=": "+vt(e.value)),{key:e.key,value:e.value,snippet:e.key,property:e.property,keywords:n.map(function(e){var t=e.match(/^[\w-]+/);return t&&{key:t[0],preview:vt(e),snippet:e}}).filter(Boolean),preview:t}}):function(e,t){return a.all({type:"string"}).map(function(e){return{key:e.key,value:e.value,preview:vt(Be(e.value,t)),snippet:e.key}})}(0,n)}return o[i]}function It(e,t){for(var n=e.length;n>0&&t.test(e[n-1]);)n--;return e.slice(n)}function $t(e){return io(e)||eo(e,Wt)}function Ht(e){
var t=e.pos;if(dn(e)){var n,r,i=e.pos;e.pos=t,e.next(),n=e.start=e.pos,e.pos=i,e.backUp(1),r=e.pos;var o=eo(e,n,r);return e.pos=i,o}return io(e)||function(e){return eo(e,Bt)}(e)}function Wt(e){return e!==ao&&!qt(e)&&!o(e)}function qt(e){return e===so||e===oo}function Bt(t){return!(isNaN(t)||e(t)||o(t)||qt(t))}function Ut(e){return r(e)||e===co||e===uo||e===lo||e===fo}function Vt(e,t){for(var n=e.pos,r=0;r<t.length;r++)if(!e.eat(t[r]))return e.pos=n,!1;return e.start=n,!0}function Kt(e,t,n,r){var i=e.pos;if(Vt(e,t)){for(;!e.eof();){if(Vt(e,n))return!0;e.next()}return!!r||(e.pos=i,!1)}return e.pos=i,null}function Gt(e){return e.split("").map(function(e){return e.charCodeAt(0)})}function Xt(e){if(60===e.peek())return go(e)||bo(e)||po(e)}function Yt(e,t){for(var n=e.pos;!e.eof();){if(Vt(e,t))return e.pos=e.start,po(e);e.next()}return e.pos=n,null}function Jt(e){return e[e.length-1]}function Zt(e,t){var n=new Bi(e),r="xml"===t;try{return new wo(function(e,t){t=Object.assign({},xo,t);for(var n,r,i,o,a="string"==typeof e?new vn(e):e,s=new Zi(a,"root"),l=new Set(t.empty),u=t.special.reduce(function(e,t){return e.set(t,Gt("</"+t+">"))},new Map),c=function(e,n){return e.selfClosing||!t.xml&&l.has(n)},f=[s];!a.eof();)if(n=Xt(a))if(i=(o=n).name?o.name.value.toLowerCase():"#"+o.type,"open"===n.type)r=new Zi(a,"tag",n),Jt(f).addChild(r),u.has(i)?r.close=Yt(a,u.get(i)):c(n,i)||f.push(r);else if("close"===n.type){for(var d=f.length-1;d>0;d--)if(f[d].name.toLowerCase()===i){f[d].close=n,f=f.slice(0,d);break}}else Jt(f).addChild(new Zi(a,n.type,n));else a.next();return s}(n,{xml:r}),"html",t||"html")}catch(e){console.warn(e)}}function Qt(e){return Zt(e,function(e){var t=e.getMode();return"htmlmixed"===t.name?"html":"xml"===t.name?t.configuration:t.name}(e))}function en(e){e.state._emmetModel=null}function tn(e,t){t=t||e.getCursor();var n=nn(e);if(n)if(yt(n.open.find(),t)){if(!n.close||an(e,n.open)===an(e,n.close))return n}else if(n.close&&yt(n.close.find(),t)&&an(e,n.open)===an(e,n.close))return n;rn(e);var r=function(e,t){var n=e.getEmmetDocumentModel();return n&&n.nodeForPoint(t||e.getCursor())}(e,t);if(r&&"tag"===r.type)return{open:on(e,r.open.name,ko),close:r.close&&on(e,r.close.name,Co)}}function nn(e){var t,n;return e.getAllMarks().forEach(function(e){e.className===ko?t=e:e.className===Co&&(n=e)}),t?{open:t,close:n}:null}function rn(e){e.getAllMarks().forEach(function(e){e.className!==ko&&e.className!==Co||e.clear()})}function on(e,t,n){return e.markText(t.start,t.end,{className:n,inclusiveLeft:!0,inclusiveRight:!0,clearWhenEmpty:!1})}function an(e,t){var n=t.find();return n?e.getRange(n.from,n.to):""}function sn(e,t){var n=nn(e),r=t.from;n&&(yt(n.open.find(),r)&&n.close?ln(e,n.open,n.close):n.close&&yt(n.close.find(),r)&&ln(e,n.close,n.open))}function ln(e,t,n){var r=function(e,t){var n=t.find();return n?e.getRange(n.from,n.to):""}(e,t),i=n.find(),o=r.match(/[\w:.-]+/),a=r?o&&o[0]:"";null!=a?e.getRange(i.from,i.to)!==a&&e.replaceRange(a,i.from,i.to):rn(e)}var un=39,cn=34,fn={escape:92,throws:!1},dn=function(t,n){n=n?Object.assign({},fn,n):fn;var r=t.pos,i=t.peek();if(t.eat(e)){for(;!t.eof();)switch(t.next()){case i:return t.start=r,!0;case n.escape:t.next()}if(t.pos=r,n.throws)throw t.error("Unable to consume quoted string")}return!1},pn={escape:92,throws:!1},hn=function(e,t,n){this.name=e,this.value=null!=t?t:null,this.options=n||{}};hn.prototype.clone=function(){return new hn(this.name,this.value,Object.assign({},this.options))},hn.prototype.valueOf=function(){return this.name+'="'+this.value+'"'};var mn=function(e,t){var n=this;this.name=e||null,this.value=null,this.repeat=null,this.selfClosing=!1,this.children=[],this.parent=null,this.next=null,this.previous=null,this._attributes=[],Array.isArray(t)&&t.forEach(function(e){return n.setAttribute(e)})},gn={attributes:{configurable:!0},attributesMap:{configurable:!0},isGroup:{configurable:!0},isTextOnly:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},childIndex:{configurable:!0},nextSibling:{configurable:!0},previousSibling:{configurable:!0},classList:{configurable:!0}};gn.attributes.get=function(){return this._attributes},gn.attributesMap.get=function(){return this.attributes.reduce(function(e,t){return e[t.name]=t.options.boolean?t.name:t.value,e},{})},gn.isGroup.get=function(){return!this.name&&!this.value&&!this._attributes.length},gn.isTextOnly.get=function(){return!this.name&&!!this.value&&!this._attributes.length},gn.firstChild.get=function(){return this.children[0]},gn.lastChild.get=function(){return this.children[this.children.length-1]},gn.childIndex.get=function(){return this.parent?this.parent.children.indexOf(this):-1},gn.nextSibling.get=function(){return this.next},gn.previousSibling.get=function(){return this.previous},gn.classList.get=function(){var e=this.getAttribute("class");return e&&e.value?e.value.split(/\s+/g).filter(u):[]},mn.prototype.create=function(e,t){return new mn(e,t)},mn.prototype.setAttribute=function(e,t){var n=s(e,t),r=this.getAttribute(e);r?this.replaceAttribute(r,n):this._attributes.push(n)},mn.prototype.hasAttribute=function(e){return!!this.getAttribute(e)},mn.prototype.getAttribute=function(e){"object"==typeof e&&(e=e.name);for(var t=0;t<this._attributes.length;t++){var n=this._attributes[t];if(n.name===e)return n}},mn.prototype.replaceAttribute=function(e,t,n){"string"==typeof e&&(e=this.getAttribute(e));var r=this._attributes.indexOf(e);-1!==r&&this._attributes.splice(r,1,s(t,n))},mn.prototype.removeAttribute=function(e){"string"==typeof e&&(e=this.getAttribute(e));var t=this._attributes.indexOf(e);-1!==t&&this._attributes.splice(t,1)},mn.prototype.clearAttributes=function(){this._attributes.length=0},mn.prototype.addClass=function(e){e=l(e),this.hasAttribute("class")?e&&!this.hasClass(e)&&this.setAttribute("class",this.classList.concat(e).join(" ")):this.setAttribute("class",e)},mn.prototype.hasClass=function(e){return-1!==this.classList.indexOf(l(e))},mn.prototype.removeClass=function(e){e=l(e),this.hasClass(e)&&this.setAttribute("class",this.classList.filter(function(t){return t!==e}).join(" "))},mn.prototype.appendChild=function(e){this.insertAt(e,this.children.length)},mn.prototype.insertBefore=function(e,t){this.insertAt(e,this.children.indexOf(t))},mn.prototype.insertAt=function(e,t){if(t<0||t>this.children.length)throw new Error("Unable to insert node: position is out of child list range");var n=this.children[t-1],r=this.children[t];e.remove(),e.parent=this,this.children.splice(t,0,e),n&&(e.previous=n,n.next=e),r&&(e.next=r,r.previous=e)},mn.prototype.removeChild=function(e){var t=this.children.indexOf(e);-1!==t&&(this.children.splice(t,1),e.previous&&(e.previous.next=e.next),e.next&&(e.next.previous=e.previous),e.parent=e.next=e.previous=null)},mn.prototype.remove=function(){this.parent&&this.parent.removeChild(this)},mn.prototype.clone=function(e){var t=new mn(this.name);return t.value=this.value,t.selfClosing=this.selfClosing,this.repeat&&(t.repeat=Object.assign({},this.repeat)),this._attributes.forEach(function(e){return t.setAttribute(e.clone())}),e&&this.children.forEach(function(e){return t.appendChild(e.clone(!0))}),t},mn.prototype.walk=function(e,t){t=t||0;for(var n=this.firstChild;n;){var r=n.next;if(!1===e(n,t)||!1===n.walk(e,t+1))return!1;n=r}},mn.prototype.use=function(e){for(var t=arguments,n=[this],r=1;r<arguments.length;r++)n.push(t[r]);return e.apply(null,n),this},mn.prototype.toString=function(){var e=this,t=this.attributes.map(function(t){var n=(t=e.getAttribute(t.name)).options,r=(n&&n.implied?"!":"")+(t.name||"");return n&&n.boolean?r+=".":null!=t.value&&(r+='="'+t.value+'"'),r}),n=""+(this.name||"");return t.length&&(n+="["+t.join(" ")+"]"),null!=this.value&&(n+="{"+this.value+"}"),this.selfClosing&&(n+="/"),this.repeat&&(n+="*"+(this.repeat.count?this.repeat.count:""),null!=this.repeat.value&&(n+="@"+this.repeat.value)),n},Object.defineProperties(mn.prototype,gn);var vn=function(e,t,n){null==n&&"string"==typeof e&&(n=e.length),this.string=e,this.pos=this.start=t||0,this.end=n};vn.prototype.eof=function(){return this.pos>=this.end},vn.prototype.limit=function(e,t){return new this.constructor(this.string,e,t)},vn.prototype.peek=function(){return this.string.charCodeAt(this.pos)},vn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charCodeAt(this.pos++)},vn.prototype.eat=function(e){var t=this.peek(),n="function"==typeof e?e(t):t===e;return n&&this.next(),n},vn.prototype.eatWhile=function(e){for(var t=this.pos;!this.eof()&&this.eat(e););return this.pos!==t},vn.prototype.backUp=function(e){this.pos-=e||1},vn.prototype.current=function(){return this.substring(this.start,this.pos)},vn.prototype.substring=function(e,t){return this.string.slice(e,t)},vn.prototype.error=function(e){var t=new Error(e+" at char "+(this.pos+1));return t.originalMessage=e,t.pos=this.pos,t.string=this.string,t};var yn=42,bn={throws:!0},xn=123,wn=125,kn=92,Cn=33,Sn=46,_n=61,Tn=91,An=93,Ln=/^\!?[\w\-:\$@]+\.?$/,Mn=35,En=46,On=47,Pn=40,jn=41,Nn=43,Dn=62,zn=94,Fn=function(e,t){return e.walk(function(e){return function(e,t){var n=new Set,r=function(e){var i=t.resolve(e.name);if(i&&!n.has(i)){if("function"==typeof i.value)return i.value(e,t,r);var o=x(i.value);n.add(i),o.walk(r),n["delete"](i);var a=function(e){for(;e.children.length;)e=e.children[e.children.length-1];return e}(o);for(function(e,t){t.name=e.name,e.selfClosing&&(t.selfClosing=!0),null!=e.value&&(t.value=e.value),e.repeat&&(t.repeat=Object.assign({},e.repeat)),function(e,t){!function(e,t){for(var n=e.classList,r=0;r<n.length;r++)t.addClass(n[r])}(e,t);for(var n=new Map,r=e.attributes,i=0;i<r.length;i++)n.set(r[i].name,r[i].clone());r=t.attributes.slice();for(var o=0,a=void 0,s=void 0;o<r.length;o++)a=r[o],n.has(a.name)?((s=n.get(a.name)).value=a.value,s.options.implied&&(s.options.implied=!1)):n.set(a.name,a),t.removeAttribute(a);for(var l=Array.from(n.values()),u=0;u<l.length;u++)t.setAttribute(l[u])}(e,t)}(a,e);o.firstChild;)e.parent.insertBefore(o.firstChild,e);a.parent.insertBefore(e,a),a.remove()}};r(e)}(e,t)}),e},Rn=new Set("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")),In={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"},$n=function(e){return e.walk(function(e){null==e.name&&e.attributes.length&&(e.name=k(e.parent.name))}),e},Hn="$",Wn=function(e){return e.walk(_),e},qn="$#",Bn="|",Un=/^((?:https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,Vn=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,Kn=/^([a-z]+:)?\/\//i,Gn={element:"__",modifier:"_"},Xn=/^(-+)([a-z0-9]+[a-z0-9-]*)/i,Yn=/^(_+)([a-z0-9]+[a-z0-9-]*)/i,Jn=function(e){return/^[a-z]\-/i.test(e)},Zn=function(e){return/^[a-z]/i.test(e)},Qn=/^xsl:(variable|with\-param)$/i,er={bem:function(e,t){t=Object.assign({},Gn,t),e.walk(function(e){return function(e){var t=e.classList.reduce(function(e,t){var n=t.indexOf("_");return n>0&&!t.startsWith("-")?(e.add(t.slice(0,n)),e.add(t.slice(n)),e):e.add(t)},new Set);t.size&&e.setAttribute("class",Array.from(t).join(" "))}(e)});var n=function(e){var t=new Map;return e.walk(function(e){var n=e.classList;n.length&&t.set(e,N(n,Jn)||N(n,Zn)||t.get(e.parent))}),t}(e);return e.walk(function(e){return function(e,t,n){var r=e.classList.reduce(function(r,i){var o,a,s=i;for((a=i.match(Xn))&&(o=j(e,t,a[1])+n.element+a[2],r.add(o),i=i.slice(a[0].length));a=i.match(Yn);)o||(o=j(e,t,a[1]),r.add(o)),r.add(""+o+n.modifier+a[2]),i=i.slice(a[0].length);return i===s&&r.add(s),r},new Set),i=Array.from(r).filter(Boolean);i.length&&e.setAttribute("class",i.join(" "))}(e,n,t)}),e},jsx:function(e){return e.walk(function(e){D(e,"class","className"),D(e,"for","htmlFor")}),e},xsl:function(e){return e.walk(function(e){Qn.test(e.name||"")&&(e.children.length||e.value)&&e.removeAttribute("select")}),e}},tr=function(e,t){return Object.keys(t||{}).forEach(function(n){if(n in er){var r="object"==typeof t[n]?t[n]:null;e=e.use(er[n],r)}}),e},nr=function(e,t,n){return"string"==typeof t?t=[t]:t&&"object"==typeof t&&!Array.isArray(t)&&(n=t,t=null),e.use($n).use(A,Array.isArray(t)?t.length:null).use(Wn).use(L,t).use(tr,n)},rr=36,ir=58,or=92,ar=123,sr=125,lr=function(e,t,n){this.index=e,this.placeholder=t,this.location=n,this.length=this.placeholder.length},ur=function(e,t){this.string=e,this.fields=t};ur.prototype.mark=function(e){return function(e,t,n){n=n||I;var r=0;return t.map(function(e,t){return{order:t,field:e,end:e.location+e.length}}).sort(function(e,t){return e.end-t.end||e.order-t.order}).map(function(t){var i=e.substr(t.field.location,t.field.length),o=e.slice(r,t.field.location);return r=t.end,o+n(t.field.index,i)}).join("")+e.slice(r)}(this.string,this.fields,e)},ur.prototype.toString=function(){return this.string};var cr=function(e){return e},fr=function(e,t,n){"object"==typeof t&&(n=t,t=null),this.node=e,this._fieldsRenderer=t||cr,this.open=null,this.beforeOpen="",this.afterOpen="",this.close=null,this.beforeClose="",this.afterClose="",this.text=null,this.beforeText="",this.afterText="",this.indent="",this.newline="",n&&Object.assign(this,n)};fr.prototype.clone=function(){return new this.constructor(this.node,this)},fr.prototype.indentText=function(e){var t=this,n=function(e){return(e||"").split(/\r\n|\r|\n/g)}(e);if(1===n.length)return e;var r=this.newline||this.indent?this.newline:" ";return n.map(function(e,n){return n?t.indent+e:e}).join(r)},fr.prototype.renderFields=function(e){return this._fieldsRenderer(e)},fr.prototype.toString=function(e){var t=this._wrap(this.open,this.beforeOpen,this.afterOpen),n=this._wrap(this.close,this.beforeClose,this.afterClose);return t+this._wrap(this.text,this.beforeText,this.afterText)+(null!=e?e:"")+n},fr.prototype._wrap=function(e,t,n){return t=null!=t?t:"",n=null!=n?n:"",null!=e?(e=t?e.replace(/^\s+/,""):e,e=n?e.replace(/\s+$/,""):e,t+this.indentText(e)+n):""};var dr=function(e,t){return t||""},pr=/^(.*?)([A-Z_]+)(.*?)$/,hr=91,mr=93,gr={enabled:!1,trigger:["id","class"],before:"",after:"\n<!-- /[#ID][.CLASS] -->"},vr=/^id$/i,yr=/^class$/i,br={primary:function(e){return e.join("")},secondary:function(e){return e.map(function(e){return e.isBoolean?e.name:e.name+"="+e.value}).join(", ")}},xr={open:null,close:null,omitName:/^div$/i,attributes:br},wr=/\n|\r/,kr=/\n|\r/,Cr={none:"[ SECONDARY_ATTRS]",round:"[(SECONDARY_ATTRS)]",curly:"[{SECONDARY_ATTRS}]",square:"[[SECONDARY_ATTRS]"},Sr=/\n|\r/,_r={html:function(e,t,n){var r=function(e){var t=Object.assign({},e&&e.format);return t.comment=Object.assign({},gr,t.comment),t}(n=Object.assign({},n));return W(e,n.field,function(e){if(!G(e=function(e,t){var n=e.node;if(X(n,t)){e.indent=t.indent(function(e,t){for(var n=t.get("formatSkip")||[],r=e.parent.isTextOnly?-2:-1,i=e;i=i.parent;)-1===n.indexOf((i.name||"").toLowerCase())&&r++;return r<0?0:r}(n,t)),e.newline="\n";var r=e.newline+e.indent;V(n.parent)&&U(n)||(e.beforeOpen=r,n.isTextOnly&&(e.beforeText=r)),function(e,t){var n=(e.name||"").toLowerCase();if(-1!==t.get("formatForce").indexOf(n))return!0;for(var r=0;r<e.children.length;r++)if(X(e.children[r],t))return!0;return!1}(n,t)&&(n.isTextOnly||(e.beforeText=r+t.indent(1)),e.beforeClose=r)}return e}(e,t))){var n=e.node;if(n.name){var i=t.name(n.name),o=function(e,t){return e.node.attributes.map(function(n){if(n.options.implied&&null==n.value)return null;var r=t.attribute(n.name),i=null;if(n.options.boolean||-1!==t.get("booleanAttributes").indexOf(r.toLowerCase())){if(t.get("compactBooleanAttributes")&&null==n.value)return" "+r;null==n.value&&(i=r)}return null==i&&(i=e.renderFields(n.value))," "+r+"="+t.quote(i)}).join("")}(e,t);e.open="<"+i+o+(n.selfClosing?t.selfClose():"")+">",n.selfClosing||(e.close="</"+i+">"),function(e,t){var n=e.node;if(t.enabled&&t.trigger&&n.name)for(var r=e.node.attributes.reduce(function(e,t){return t.name&&null!=t.value&&(e[t.name.toUpperCase().replace(/-/g,"_")]=t.value),e},{}),i=0,o=t.trigger.length;i<o;i++)if(t.trigger[i].toUpperCase()in r){e.open=q(t.before,r)+e.open,e.close&&(e.close+=q(t.after,r));break}}(e,r.comment)}(n.value||!n.children.length&&!n.selfClosing)&&(e.text=e.renderFields(n.value))}return e})},haml:function(e,t,n){var r={open:"[%NAME][PRIMARY_ATTRS][(SECONDARY_ATTRS)][SELF_CLOSE]",selfClose:"/",attributes:{secondary:function(e){return e.map(function(e){return e.isBoolean?e.name+(t.get("compactBooleanAttributes")?"":"=true"):e.name+"="+t.quote(e.value)}).join(" ")}}};return W(e,(n=n||{}).field,function(e){if(!G(e=function(e,t){var n=e.node;return!n.isTextOnly&&n.value&&(e.beforeText=wr.test(n.value)?e.newline+e.indent+t.indent(1):" "),e}(e=Z(e,t,r),t))){var n=e.node;(n.value||!n.children.length&&!n.selfClosing)&&(e.text=e.renderFields(function(e,t){if(null!=e.value&&wr.test(e.value)){var n=B(e.value),r=t.indent(1),i=n.reduce(function(e,t){return Math.max(e,t.length)},0);return n.map(function(e,t){return""+(t?r:"")+function(e,t){for(;e.length<t;)e+=" ";return e}(e,i)+" |"}).join("\n")}return e.value}(n,t)))}return e})},slim:function(e,t,n){var r=(n=n||{}).attributeWrap&&Cr[n.attributeWrap]||Cr.none,i=r===Cr.none?function(e){return e.name+"=true"}:function(e){return e.name},o={open:"[NAME][PRIMARY_ATTRS]"+r+"[SELF_CLOSE]",selfClose:"/",attributes:{secondary:function(e){return e.map(function(e){return e.isBoolean?i(e):e.name+"="+t.quote(e.value)}).join(" ")}}};return W(e,n.field,function(e){if(!G(e=function(e,t){var n=e.node,r=n.parent;return 0===t.get("inlineBreak")&&function(e,t){return e&&(e.isTextOnly||t.isInline(e))}(n,t)&&!V(r)&&null==r.value&&1===r.children.length&&(e.beforeOpen=": "),!n.isTextOnly&&n.value&&(e.beforeText=kr.test(n.value)?e.newline+e.indent+t.indent(1):" "),e}(e=Z(e,t,o),t))){var n=e.node;(n.value||!n.children.length&&!n.selfClosing)&&(e.text=e.renderFields(function(e,t){if(null!=e.value&&kr.test(e.value)){var n=t.indent(1);return B(e.value).map(function(e,t){return n+(t?" ":"|")+" "+e}).join("\n")}return e.value}(n,t)))}return e})},pug:function(e,t,n){var r={open:"[NAME][PRIMARY_ATTRS][(SECONDARY_ATTRS)]",attributes:{secondary:function(e){return e.map(function(e){return e.isBoolean?e.name:e.name+"="+t.quote(e.value)}).join(", ")}}};return W(e,(n=n||{}).field,function(e){if(!G(e=function(e,t){var n=e.node;return!n.isTextOnly&&n.value&&(e.beforeText=Sr.test(n.value)?e.newline+e.indent+t.indent(1):" "),e}(e=Z(e,t,r),t))){var n=e.node;(n.value||!n.children.length&&!n.selfClosing)&&(e.text=e.renderFields(function(e,t){if(null!=e.value&&Sr.test(e.value)){var n=t.indent(1);return B(e.value).map(function(e){return n+"| "+e}).join("\n")}return e.value}(n,t)))}return e})}},Tr=function(){this.type="css-value",this.value=[]},Ar={size:{configurable:!0}};Ar.size.get=function(){return this.value.length},Tr.prototype.add=function(e){this.value.push(e)},Tr.prototype.has=function(e){return-1!==this.value.indexOf(e)},Tr.prototype.toString=function(){return this.value.join(" ")},Object.defineProperties(Tr.prototype,Ar);var Lr=35,Mr=46,Er=function(e,t){this.type="color",this.raw=e,this.alpha=Number(null!=t&&""!==t?t:1);var n=0,r=0,i=0;if("t"===(e=e.slice(1)))this.alpha=0;else switch(e.length){case 0:break;case 1:n=r=i=e+e;break;case 2:n=r=i=e;break;case 3:n=e[0]+e[0],r=e[1]+e[1],i=e[2]+e[2];break;default:n=(e+=e).slice(0,2),r=e.slice(2,4),i=e.slice(4,6)}this.r=parseInt(n,16),this.g=parseInt(r,16),this.b=parseInt(i,16)};Er.prototype.toHex=function(e){var t=e&&ne(this.r)&&ne(this.g)&&ne(this.b)?re:ie;return"#"+t(this.r)+t(this.g)+t(this.b)},Er.prototype.toRGB=function(){var e=[this.r,this.g,this.b];return 1!==this.alpha&&e.push(this.alpha.toFixed(8).replace(/\.?0+$/,"")),(3===e.length?"rgb":"rgba")+"("+e.join(", ")+")"},Er.prototype.toString=function(e){return this.r||this.g||this.b||this.alpha?1===this.alpha?this.toHex(e):this.toRGB():"transparent"};var Or=37,Pr=46,jr=45,Nr=function(e,t){this.type="numeric",this.value=Number(e),this.unit=t||""};Nr.prototype.toString=function(){return""+this.value+this.unit};var Dr=36,zr=45,Fr=64,Rr=function(e){this.type="keyword",this.value=e};Rr.prototype.toString=function(){return this.value};var Ir={throws:!0},$r=function(e){this.type="string",this.value=e};$r.prototype.toString=function(){return this.value};var Hr=40,Wr=41,qr=44,Br=function(e,t){this.type="function",this.name=e,this.args=t||[]};Br.prototype.toString=function(){return this.name+"("+this.args.join(", ")+")"};var Ur=33,Vr=36,Kr=43,Gr=45,Xr=58,Yr=64,Jr=45,Zr=/^([a-z-]+)(?:\s*:\s*([^\n\r]+))?$/,Qr=45,ei=function(e,t){this.key=e,this.value=t,this.property=null;var n=t&&t.match(Zr);n&&(this.property=n[1],this.value=n[2]),this.dependencies=[]},ti={defaultValue:{configurable:!0}};ei.prototype.addDependency=function(e){this.dependencies.push(e)},ti.defaultValue.get=function(){return null!=this.value?Ce(this.value)[0]:null},ei.prototype.keywords=function(){var e,t,n=[],r=new Set,i=0;for(this.property&&n.push(this);i<n.length;)if((e=n[i++]).value){t=Ce(e.value).filter(ke);for(var o=0;o<t.length;o++)r.add(t[o].trim());for(var a=0,s=e.dependencies;a<s.length;a++)-1===n.indexOf(s[a])&&n.push(s[a])}return Array.from(r)},Object.defineProperties(ei.prototype,ti);var ni=["auto","inherit","unset"],ri=["z-index","line-height","opacity","font-weight","zoom","flex","flex-grow","flex-shrink"],ii={intUnit:"px",floatUnit:"em",unitAliases:{e:"em",p:"%",x:"ex",r:"rem"},fuzzySearchMinScore:0},oi={shortHex:!0,between:": ",after:";"},ai={css:{between:": ",after:";"},scss:"css",less:"css",sass:{between:": ",after:""},stylus:{between:" ",after:""}},si={html:{a:"a[href]","a:link":"a[href='http://${0}']","a:mail":"a[href='mailto:${0}']","a:tel":"a[href='tel:+${0}']",abbr:"abbr[title]","acr|acronym":"acronym[title]",base:"base[href]/",basefont:"basefont/",br:"br/",frame:"frame/",hr:"hr/",bdo:"bdo[dir]","bdo:r":"bdo[dir=rtl]","bdo:l":"bdo[dir=ltr]",col:"col/",link:"link[rel=stylesheet href]/","link:css":"link[href='${1:style}.css']","link:print":"link[href='${1:print}.css' media=print]","link:favicon":"link[rel='shortcut icon' type=image/x-icon href='${1:favicon.ico}']","link:touch":"link[rel=apple-touch-icon href='${1:favicon.png}']","link:rss":"link[rel=alternate type=application/rss+xml title=RSS href='${1:rss.xml}']","link:atom":"link[rel=alternate type=application/atom+xml title=Atom href='${1:atom.xml}']","link:im|link:import":"link[rel=import href='${1:component}.html']",meta:"meta/","meta:utf":"meta[http-equiv=Content-Type content='text/html;charset=UTF-8']","meta:vp":"meta[name=viewport content='width=${1:device-width}, initial-scale=${2:1.0}']","meta:compat":"meta[http-equiv=X-UA-Compatible content='${1:IE=7}']","meta:edge":"meta:compat[content='${1:ie=edge}']","meta:redirect":"meta[http-equiv=refresh content='0; url=${1:http://example.com}']",style:"style",script:"script[!src]","script:src":"script[src]",img:"img[src alt]/","img:s|img:srcset":"img[srcset src alt]","img:z|img:sizes":"img[sizes srcset src alt]",picture:"picture","src|source":"source/","src:sc|source:src":"source[src type]","src:s|source:srcset":"source[srcset]","src:t|source:type":"source[srcset type='${1:image/}']","src:z|source:sizes":"source[sizes srcset]","src:m|source:media":"source[media='(${1:min-width: })' srcset]","src:mt|source:media:type":"source:media[type='${2:image/}']","src:mz|source:media:sizes":"source:media[sizes srcset]","src:zt|source:sizes:type":"source[sizes srcset type='${1:image/}']",iframe:"iframe[src frameborder=0]",embed:"embed[src type]/",object:"object[data type]",param:"param[name value]/",map:"map[name]",area:"area[shape coords href alt]/","area:d":"area[shape=default]","area:c":"area[shape=circle]","area:r":"area[shape=rect]","area:p":"area[shape=poly]",form:"form[action]","form:get":"form[method=get]","form:post":"form[method=post]",label:"label[for]",input:"input[type=${1:text}]/",inp:"input[name=${1} id=${1}]","input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp[type=text]","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":"input[type=submit value]","input:i|input:image":"input[type=image src alt]","input:b|input:button":"input[type=button value]","input:reset":"input:button[type=reset]",isindex:"isindex/",select:"select[name=${1} id=${1}]","select:d|select:disabled":"select[disabled.]","opt|option":"option[value]",textarea:"textarea[name=${1} id=${1} cols=${2:30} rows=${3:10}]",marquee:"marquee[behavior direction]","menu:c|menu:context":"menu[type=context]","menu:t|menu:toolbar":"menu[type=toolbar]",video:"video[src]",audio:"audio[src]","html:xml":"html[xmlns=http://www.w3.org/1999/xhtml]",keygen:"keygen/",command:"command/","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command","ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","!!!":"{<!DOCTYPE html>}",doc:"html[lang=${lang}]>(head>meta[charset=${charset}]+meta:vp+meta:edge+title{${1:Document}})+body","!|html:5":"!!!+doc",c:"{<!-- ${0} -->}","cc:ie":"{<!--[if IE]>${0}<![endif]-->}","cc:noie":"{<!--[if !IE]><!-->${0}<!--<![endif]-->}"},css:{"@f":"@font-face {\n\tfont-family: ${1};\n\tsrc: url(${1});\n}","@ff":"@font-face {\n\tfont-family: '${1:FontName}';\n\tsrc: url('${2:FileName}.eot');\n\tsrc: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n\t\t url('${2:FileName}.woff') format('woff'),\n\t\t url('${2:FileName}.ttf') format('truetype'),\n\t\t url('${2:FileName}.svg#${1:FontName}') format('svg');\n\tfont-style: ${3:normal};\n\tfont-weight: ${4:normal};\n}","@i|@import":"@import url(${0});","@kf":"@keyframes ${1:identifier} {\n\t${2}\n}","@m|@media":"@media ${1:screen} {\n\t${0}\n}",ac:"align-content:flex-start|flex-end|center|space-between|space-around|stretch",ai:"align-items:flex-start|flex-end|center|baseline|stretch",anim:"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode}",animdel:"animation-delay:${1:time}",animdir:"animation-direction:normal|reverse|alternate|alternate-reverse",animdur:"animation-duration:${1:0}s",animfm:"animation-fill-mode:both|forwards|backwards",animic:"animation-iteration-count:1|infinite",animn:"animation-name",animps:"animation-play-state:running|paused",animtf:"animation-timing-function:linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1})",ap:"appearance:none",as:"align-self:auto|flex-start|flex-end|center|baseline|stretch",b:"bottom",bd:"border:${1:1px} ${2:solid} ${3:#000}",bdb:"border-bottom:${1:1px} ${2:solid} ${3:#000}",bdbc:"border-bottom-color:#${1:000}",bdbi:"border-bottom-image:url(${0})",bdbk:"border-break:close",bdbli:"border-bottom-left-image:url(${0})|continue",bdblrs:"border-bottom-left-radius",bdbri:"border-bottom-right-image:url(${0})|continue",bdbrrs:"border-bottom-right-radius",bdbs:"border-bottom-style",bdbw:"border-bottom-width",bdc:"border-color:#${1:000}",bdci:"border-corner-image:url(${0})|continue",bdcl:"border-collapse:collapse|separate",bdf:"border-fit:repeat|clip|scale|stretch|overwrite|overflow|space",bdi:"border-image:url(${0})",bdl:"border-left:${1:1px} ${2:solid} ${3:#000}",bdlc:"border-left-color:#${1:000}",bdlen:"border-length",bdli:"border-left-image:url(${0})",bdls:"border-left-style",bdlw:"border-left-width",bdr:"border-right:${1:1px} ${2:solid} ${3:#000}",bdrc:"border-right-color:#${1:000}",bdri:"border-right-image:url(${0})",bdrs:"border-radius",bdrst:"border-right-style",bdrw:"border-right-width",bds:"border-style:none|hidden|dotted|dashed|solid|double|dot-dash|dot-dot-dash|wave|groove|ridge|inset|outset",bdsp:"border-spacing",bdt:"border-top:${1:1px} ${2:solid} ${3:#000}",bdtc:"border-top-color:#${1:000}",bdti:"border-top-image:url(${0})",bdtli:"border-top-left-image:url(${0})|continue",bdtlrs:"border-top-left-radius",bdtri:"border-top-right-image:url(${0})|continue",bdtrrs:"border-top-right-radius",bdts:"border-top-style",bdtw:"border-top-width",bdw:"border-width",bfv:"backface-visibility:hidden|visible",bg:"background:#${1:000}",bga:"background-attachment:fixed|scroll",bgbk:"background-break:bounding-box|each-box|continuous",bgc:"background-color:#${1:fff}",bgcp:"background-clip:padding-box|border-box|content-box|no-clip",bgi:"background-image:url(${0})",bgo:"background-origin:padding-box|border-box|content-box",bgp:"background-position:${1:0} ${2:0}",bgpx:"background-position-x",bgpy:"background-position-y",bgr:"background-repeat:no-repeat|repeat-x|repeat-y|space|round",bgsz:"background-size:contain|cover",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} #${5:000}|none",bxsz:"box-sizing:border-box|content-box|border-box",c:"color:#${1:000}",cl:"clear:both|left|right|none",cm:"/* ${0} */",cnt:"content:'${0}'|normal|open-quote|no-open-quote|close-quote|no-close-quote|attr(${0})|counter(${0})|counters({$0})",coi:"counter-increment",colm:"columns",colmc:"column-count",colmf:"column-fill",colmg:"column-gap",colmr:"column-rule",colmrc:"column-rule-color",colmrs:"column-rule-style",colmrw:"column-rule-width",colms:"column-span",colmw:"column-width",cor:"counter-reset",cp:"clip:auto|rect(${1:top} ${2:right} ${3:bottom} ${4:left})",cps:"caption-side:top|bottom",cur:"cursor:pointer|auto|default|crosshair|hand|help|move|pointer|text",d:"display:block|none|flex|inline-flex|inline|inline-block|list-item|run-in|compact|table|inline-table|table-caption|table-column|table-column-group|table-header-group|table-footer-group|table-row|table-row-group|table-cell|ruby|ruby-base|ruby-base-group|ruby-text|ruby-text-group",ec:"empty-cells:show|hide",f:"font:${1:1em} ${2:sans-serif}",fef:"font-effect:none|engrave|emboss|outline",fem:"font-emphasize",femp:"font-emphasize-position:before|after",fems:"font-emphasize-style:none|accent|dot|circle|disc",ff:"font-family:serif|sans-serif|cursive|fantasy|monospace",fl:"float:left|right|none",fs:"font-style:italic|normal|oblique",fsm:"font-smoothing:antialiased|subpixel-antialiased|none",fst:"font-stretch:normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",fv:"font-variant:normal|small-caps",fvs:"font-variantion-settings",fw:"font-weight:normal|bold|bolder|lighter",fx:"flex",fxb:"flex-basis:fill|max-content|min-content|fit-content|content",fxd:"flex-direction:row|row-reverse|column|column-reverse",fxf:"flex-flow",fxg:"flex-grow",fxsh:"flex-shrink",fxw:"flex-wrap:nowrap|wrap|wrap-reverse",fz:"font-size",fza:"font-size-adjust",h:"height",jc:"justify-content:flex-start|flex-end|center|space-between|space-around",l:"left",lg:"background-image:linear-gradient(${1})",lh:"line-height",lis:"list-style",lisi:"list-style-image",lisp:"list-style-position:inside|outside",list:"list-style-type:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman",lts:"letter-spacing:normal",m:"margin",mah:"max-height",mar:"max-resolution",maw:"max-width",mb:"margin-bottom",mih:"min-height",mir:"min-resolution",miw:"min-width",ml:"margin-left",mr:"margin-right",mt:"margin-top",ol:"outline",olc:"outline-color:#${1:000}|invert",olo:"outline-offset",ols:"outline-style:none|dotted|dashed|solid|double|groove|ridge|inset|outset",olw:"outline-width|thin|medium|thick",op:"opacity",ord:"order",ori:"orientation:landscape|portrait",orp:"orphans",ov:"overflow:hidden|visible|hidden|scroll|auto",ovs:"overflow-style:scrollbar|auto|scrollbar|panner|move|marquee",
ovx:"overflow-x:hidden|visible|hidden|scroll|auto",ovy:"overflow-y:hidden|visible|hidden|scroll|auto",p:"padding",pb:"padding-bottom",pgba:"page-break-after:auto|always|left|right",pgbb:"page-break-before:auto|always|left|right",pgbi:"page-break-inside:auto|avoid",pl:"padding-left",pos:"position:relative|absolute|relative|fixed|static",pr:"padding-right",pt:"padding-top",q:"quotes",qen:"quotes:'\\201C' '\\201D' '\\2018' '\\2019'",qru:"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C'",r:"right",rsz:"resize:none|both|horizontal|vertical",t:"top",ta:"text-align:left|center|right|justify",tal:"text-align-last:left|center|right",tbl:"table-layout:fixed",td:"text-decoration:none|underline|overline|line-through",te:"text-emphasis:none|accent|dot|circle|disc|before|after",th:"text-height:auto|font-size|text-size|max-size",ti:"text-indent",tj:"text-justify:auto|inter-word|inter-ideograph|inter-cluster|distribute|kashida|tibetan",to:"text-outline:${1:0} ${2:0} ${3:#000}",tov:"text-overflow:ellipsis|clip",tr:"text-replace",trf:"transform:${1}|skewX(${1:angle})|skewY(${1:angle})|scale(${1:x}, ${2:y})|scaleX(${1:x})|scaleY(${1:y})|scaleZ(${1:z})|scale3d(${1:x}, ${2:y}, ${3:z})|rotate(${1:angle})|rotateX(${1:angle})|rotateY(${1:angle})|rotateZ(${1:angle})|translate(${1:x}, ${2:y})|translateX(${1:x})|translateY(${1:y})|translateZ(${1:z})|translate3d(${1:tx}, ${2:ty}, ${3:tz})",trfo:"transform-origin",trfs:"transform-style:preserve-3d",trs:"transition:${1:prop} ${2:time}",trsde:"transition-delay:${1:time}",trsdu:"transition-duration:${1:time}",trsp:"transition-property:${1:prop}",trstf:"transition-timing-function:${1:fn}",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000}",tt:"text-transform:uppercase|lowercase|capitalize|none",tw:"text-wrap:none|normal|unrestricted|suppress",us:"user-select:none",v:"visibility:hidden|visible|collapse",va:"vertical-align:top|super|text-top|middle|baseline|bottom|text-bottom|sub",w:"width",whs:"white-space:nowrap|pre|pre-wrap|pre-line|normal",whsc:"white-space-collapse:normal|keep-all|loose|break-strict|break-all",wid:"widows",wm:"writing-mode:lr-tb|lr-tb|lr-bt|rl-tb|rl-bt|tb-rl|tb-lr|bt-lr|bt-rl",wob:"word-break:normal|keep-all|break-all",wos:"word-spacing",wow:"word-wrap:none|unrestricted|suppress|break-word|normal",z:"z-index",zom:"zoom:1"},xsl:{"tm|tmatch":"xsl:template[match mode]","tn|tname":"xsl:template[name]",call:"xsl:call-template[name]",ap:"xsl:apply-templates[select mode]",api:"xsl:apply-imports",imp:"xsl:import[href]",inc:"xsl:include[href]",ch:"xsl:choose","wh|xsl:when":"xsl:when[test]",ot:"xsl:otherwise","if":"xsl:if[test]",par:"xsl:param[name]",pare:"xsl:param[name select]","var":"xsl:variable[name]",vare:"xsl:variable[name select]",wp:"xsl:with-param[name select]",key:"xsl:key[name match use]",elem:"xsl:element[name]",attr:"xsl:attribute[name]",attrs:"xsl:attribute-set[name]",cp:"xsl:copy[select]",co:"xsl:copy-of[select]",val:"xsl:value-of[select]","for|each":"xsl:for-each[select]",tex:"xsl:text",com:"xsl:comment",msg:"xsl:message[terminate=no]",fall:"xsl:fallback",num:"xsl:number[value]",nam:"namespace-alias[stylesheet-prefix result-prefix]",pres:"xsl:preserve-space[elements]",strip:"xsl:strip-space[elements]",proc:"xsl:processing-instruction[name]",sort:"xsl:sort[select order]",choose:"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}","!!!":'{<?xml version="1.0" encoding="UTF-8"?>}'}},li={latin:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},ru:{common:["\u0434\u0430\u043b\u0435\u043a\u043e-\u0434\u0430\u043b\u0435\u043a\u043e","\u0437\u0430","\u0441\u043b\u043e\u0432\u0435\u0441\u043d\u044b\u043c\u0438","\u0433\u043e\u0440\u0430\u043c\u0438","\u0432 \u0441\u0442\u0440\u0430\u043d\u0435","\u0433\u043b\u0430\u0441\u043d\u044b\u0445","\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b\u0445","\u0436\u0438\u0432\u0443\u0442","\u0440\u044b\u0431\u043d\u044b\u0435","\u0442\u0435\u043a\u0441\u0442\u044b"],words:["\u0432\u0434\u0430\u043b\u0438","\u043e\u0442 \u0432\u0441\u0435\u0445","\u043e\u043d\u0438","\u0431\u0443\u043a\u0432\u0435\u043d\u043d\u044b\u0445","\u0434\u043e\u043c\u0430\u0445","\u043d\u0430 \u0431\u0435\u0440\u0435\u0433\u0443","\u0441\u0435\u043c\u0430\u043d\u0442\u0438\u043a\u0430","\u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e","\u044f\u0437\u044b\u043a\u043e\u0432\u043e\u0433\u043e","\u043e\u043a\u0435\u0430\u043d\u0430","\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439","\u0440\u0443\u0447\u0435\u0435\u043a","\u0434\u0430\u043b\u044c","\u0436\u0443\u0440\u0447\u0438\u0442","\u043f\u043e \u0432\u0441\u0435\u0439","\u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442","\u0435\u0435","\u0432\u0441\u0435\u043c\u0438","\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u043c\u0438","\u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438","\u044d\u0442\u0430","\u043f\u0430\u0440\u0430\u0434\u0438\u0433\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f","\u0441\u0442\u0440\u0430\u043d\u0430","\u043a\u043e\u0442\u043e\u0440\u043e\u0439","\u0436\u0430\u0440\u0435\u043d\u043d\u044b\u0435","\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f","\u0437\u0430\u043b\u0435\u0442\u0430\u044e\u0442","\u043f\u0440\u044f\u043c\u043e","\u0440\u043e\u0442","\u0434\u0430\u0436\u0435","\u0432\u0441\u0435\u043c\u043e\u0433\u0443\u0449\u0430\u044f","\u043f\u0443\u043d\u043a\u0442\u0443\u0430\u0446\u0438\u044f","\u043d\u0435","\u0438\u043c\u0435\u0435\u0442","\u0432\u043b\u0430\u0441\u0442\u0438","\u043d\u0430\u0434","\u0440\u044b\u0431\u043d\u044b\u043c\u0438","\u0442\u0435\u043a\u0441\u0442\u0430\u043c\u0438","\u0432\u0435\u0434\u0443\u0449\u0438\u043c\u0438","\u0431\u0435\u0437\u043e\u0440\u0444\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u043d\u044b\u0439","\u043e\u0431\u0440\u0430\u0437","\u0436\u0438\u0437\u043d\u0438","\u043e\u0434\u043d\u0430\u0436\u0434\u044b","\u043e\u0434\u043d\u0430","\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0430\u044f","\u0441\u0442\u0440\u043e\u0447\u043a\u0430","\u0440\u044b\u0431\u043d\u043e\u0433\u043e","\u0442\u0435\u043a\u0441\u0442\u0430","\u0438\u043c\u0435\u043d\u0438","lorem","ipsum","\u0440\u0435\u0448\u0438\u043b\u0430","\u0432\u044b\u0439\u0442\u0438","\u0431\u043e\u043b\u044c\u0448\u043e\u0439","\u043c\u0438\u0440","\u0433\u0440\u0430\u043c\u043c\u0430\u0442\u0438\u043a\u0438","\u0432\u0435\u043b\u0438\u043a\u0438\u0439","\u043e\u043a\u0441\u043c\u043e\u043a\u0441","\u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0430\u043b","\u043e","\u0437\u043b\u044b\u0445","\u0437\u0430\u043f\u044f\u0442\u044b\u0445","\u0434\u0438\u043a\u0438\u0445","\u0437\u043d\u0430\u043a\u0430\u0445","\u0432\u043e\u043f\u0440\u043e\u0441\u0430","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0445","\u0442\u043e\u0447\u043a\u0430\u0445","\u0437\u0430\u043f\u044f\u0442\u043e\u0439","\u043d\u043e","\u0442\u0435\u043a\u0441\u0442","\u0434\u0430\u043b","\u0441\u0431\u0438\u0442\u044c","\u0441\u0435\u0431\u044f","\u0442\u043e\u043b\u043a\u0443","\u043e\u043d","\u0441\u043e\u0431\u0440\u0430\u043b","\u0441\u0435\u043c\u044c","\u0441\u0432\u043e\u0438\u0445","\u0437\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0445","\u0431\u0443\u043a\u0432","\u043f\u043e\u0434\u043f\u043e\u044f\u0441\u0430\u043b","\u0438\u043d\u0438\u0446\u0438\u0430\u043b","\u0437\u0430","\u043f\u043e\u044f\u0441","\u043f\u0443\u0441\u0442\u0438\u043b\u0441\u044f","\u0434\u043e\u0440\u043e\u0433\u0443","\u0432\u0437\u043e\u0431\u0440\u0430\u0432\u0448\u0438\u0441\u044c","\u043f\u0435\u0440\u0432\u0443\u044e","\u0432\u0435\u0440\u0448\u0438\u043d\u0443","\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u044b\u0445","\u0433\u043e\u0440","\u0431\u0440\u043e\u0441\u0438\u043b","\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439","\u0432\u0437\u0433\u043b\u044f\u0434","\u043d\u0430\u0437\u0430\u0434","\u0441\u0438\u043b\u0443\u044d\u0442","\u0441\u0432\u043e\u0435\u0433\u043e","\u0440\u043e\u0434\u043d\u043e\u0433\u043e","\u0433\u043e\u0440\u043e\u0434\u0430","\u0431\u0443\u043a\u0432\u043e\u0433\u0440\u0430\u0434","\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","\u0434\u0435\u0440\u0435\u0432\u043d\u0438","\u0430\u043b\u0444\u0430\u0432\u0438\u0442","\u043f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","\u0441\u0432\u043e\u0435\u0433\u043e","\u043f\u0435\u0440\u0435\u0443\u043b\u043a\u0430","\u0433\u0440\u0443\u0441\u0442\u043d\u044b\u0439","\u0440\u0435\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0439","\u0432\u043e\u043f\u0440\u043e\u0441","\u0441\u043a\u0430\u0442\u0438\u043b\u0441\u044f","\u0435\u0433\u043e","\u0449\u0435\u043a\u0435","\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b","\u0441\u0432\u043e\u0439","\u043f\u0443\u0442\u044c","\u0434\u043e\u0440\u043e\u0433\u0435","\u0432\u0441\u0442\u0440\u0435\u0442\u0438\u043b","\u0440\u0443\u043a\u043e\u043f\u0438\u0441\u044c","\u043e\u043d\u0430","\u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b\u0430","\u043c\u043e\u0435\u0439","\u0432\u0441\u0435","\u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f","\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e","\u0440\u0430\u0437","\u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435","\u0447\u0442\u043e","\u043c\u0435\u043d\u044f","\u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c","\u044d\u0442\u043e","\u043f\u0440\u0438\u0441\u0442\u0430\u0432\u043a\u0430","\u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0441\u044f","\u0442\u044b","\u043b\u0443\u0447\u0448\u0435","\u0441\u0432\u043e\u044e","\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0443\u044e","\u0441\u0442\u0440\u0430\u043d\u0443","\u043f\u043e\u0441\u043b\u0443\u0448\u0430\u0432\u0448\u0438\u0441\u044c","\u0440\u0443\u043a\u043e\u043f\u0438\u0441\u0438","\u043d\u0430\u0448","\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b","\u0441\u0432\u043e\u0439","\u043f\u0443\u0442\u044c","\u0432\u0441\u043a\u043e\u0440\u0435","\u0435\u043c\u0443","\u043f\u043e\u0432\u0441\u0442\u0440\u0435\u0447\u0430\u043b\u0441\u044f","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0439","\u0441\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c","\u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0445","\u0442\u0435\u043a\u0441\u0442\u043e\u0432","\u043d\u0430\u043f\u043e\u0438\u0432\u0448\u0438\u0439","\u044f\u0437\u044b\u043a\u043e\u043c","\u0440\u0435\u0447\u044c\u044e","\u0437\u0430\u043c\u0430\u043d\u0438\u0432\u0448\u0438\u0439","\u0441\u0432\u043e\u0435","\u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u043e","\u043a\u043e\u0442\u043e\u0440\u043e\u0435","\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u043e","\u0441\u043d\u043e\u0432\u0430","\u0441\u043d\u043e\u0432\u0430","\u0441\u0432\u043e\u0438\u0445","\u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445","\u0435\u0441\u043b\u0438","\u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u043b\u0438","\u0442\u043e","\u0436\u0438\u0432\u0435\u0442","\u0442\u0430\u043c","\u0434\u043e","\u0441\u0438\u0445","\u043f\u043e\u0440"]},sp:{common:["mujer","uno","dolor","m\xe1s","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","pa\xf1o","suntuoso","molde","namibia","planeador","mirar","dem\xe1s","oficinista","excepci\xf3n","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","cu\xf3rum","dign\xedsimo","facilismo","letra","nihilista","expedici\xf3n","alma","alveolar","aparte","le\xf3n","animal","como","paria","belleza","modo","natividad","justo","ataque","s\xe9quito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asunci\xf3n","incidente","marejada","placenta","amanecer","fuga","previsor","presentaci\xf3n","lejos","necesariamente","sospechoso","adiposidad","quind\xedo","p\xf3cima","voluble","d\xe9bito","sinti\xf3","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","m\xednima","mayores","repugnante","dulce","obcecado","monta\xf1a","enigma","total","delet\xe9reo","d\xe9cima","c\xe1bala","fotograf\xeda","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magn\xedfico","distinci\xf3n","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crep\xfasculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abad\xeda","analfabeto","remo","fugacidad","oficio","en","alm\xe1cigo","vos","pan","represi\xf3n","n\xfameros","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patr\xf3n","expl\xedcito","paloma","s\xedndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","ap\xe9ndice","arquitecto","columna","yugo","computador","mula","a","prop\xf3sito","fantas\xeda","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]}},ui={wordCount:30,skipCommon:!1,lang:"latin"},ci=function(e,t){t=Object.assign({},ui,t);var n=li[t.lang]||li.latin,r=!t.skipCommon&&!function(e){for(;e.parent;){if(e.repeat&&e.repeat.value&&e.repeat.value>1)return!0;e=e.parent}return!1}(e);return e.repeat||function(e){return!e.parent}(e.parent)?(e.value=Ie(n,t.wordCount,r),e.name=e.parent.name?k(e.parent.name):null):(e.parent.value=Ie(n,t.wordCount,r),e.remove()),e},fi=function(e,t){this.key=e,this.value=t},di=function(e){this._string=new Map,this._regexp=new Map,this._disabled=!1,this.load(e)},pi={disabled:{configurable:!0}};pi.disabled.get=function(){return this._disabled},di.prototype.disable=function(){this._disabled=!0},di.prototype.enable=function(){this._disabled=!1},di.prototype.set=function(e,t){var n=this;if("string"==typeof e)e.split("|").forEach(function(e){return n._string.set(e,new fi(e,t))});else{if(!(e instanceof RegExp))throw new Error("Unknow snippet key: "+e);this._regexp.set(e,new fi(e,t))}return this},di.prototype.get=function(e){if(!this.disabled){if(this._string.has(e))return this._string.get(e);for(var t=Array.from(this._regexp.keys()),n=0,r=t.length;n<r;n++)if(t[n].test(e))return this._regexp.get(t[n])}},di.prototype.load=function(e){var t=this;this.reset(),e instanceof Map?e.forEach(function(e,n){return t.set(n,e)}):e&&"object"==typeof e&&Object.keys(e).forEach(function(n){return t.set(n,e[n])})},di.prototype.reset=function(){this._string.clear(),this._regexp.clear()},di.prototype.values=function(){if(this.disabled)return[];var e=Array.from(this._string.values()),t=Array.from(this._regexp.values());return e.concat(t)},Object.defineProperties(di.prototype,pi);var hi=function(e){var t=this;this._registry=[],Array.isArray(e)?e.forEach(function(e,n){return t.add(n,e)}):"object"==typeof e&&this.add(e)};hi.prototype.get=function(e){for(var t=0;t<this._registry.length;t++){var n=this._registry[t];if(n.level===e)return n.store}},hi.prototype.add=function(e,t){null!=e&&"object"==typeof e&&(t=e,e=0);var n=new di(t);return this.remove(e),this._registry.push({level:e,store:n}),this._registry.sort(function(e,t){return t.level-e.level}),n},hi.prototype.remove=function(e){this._registry=this._registry.filter(function(t){return t.level!==e&&t.store!==e})},hi.prototype.resolve=function(e){for(var t=0;t<this._registry.length;t++){var n=this._registry[t].store.get(e);if(n)return n}},hi.prototype.all=function(e){e=e||{};var t=new Map,n=function(n){var r=n.key instanceof RegExp?"regexp":"string";e.type&&e.type!==r||t.has(n.key)||t.set(n.key,n)};return this._registry.forEach(function(e){e.store.values().forEach(n)}),Array.from(t.values())},hi.prototype.clear=function(){this._registry.length=0};var mi={indent:"\t",tagCase:"",attributeCase:"",attributeQuotes:"double",format:!0,formatSkip:["html"],formatForce:["body"],inlineBreak:3,compactBooleanAttributes:!1,booleanAttributes:["contenteditable","seamless","async","autofocus","autoplay","checked","controls","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","readonly","required","reversed","selected","typemustmatch"],selfClosingStyle:"html",inlineElements:["a","abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"]},gi=function(e){this.options=Object.assign({},mi,e),this.quoteChar="single"===this.options.attributeQuotes?"'":'"'};gi.prototype.get=function(e){return this.options[e]},gi.prototype.quote=function(e){return""+this.quoteChar+(null!=e?e:"")+this.quoteChar},gi.prototype.name=function(e){return $e(e,this.options.tagCase)},gi.prototype.attribute=function(e){return $e(e,this.options.attributeCase)},gi.prototype.isBooleanAttribute=function(e){return e.options.boolean||-1!==this.get("booleanAttributes").indexOf((e.name||"").toLowerCase())},gi.prototype.selfClose=function(){switch(this.options.selfClosingStyle){case"xhtml":return" /";case"xml":return"/";default:return""}},gi.prototype.indent=function(e){e=e||0;for(var t="";e--;)t+=this.options.indent;return t},gi.prototype.isInline=function(e){return"string"==typeof e?-1!==this.get("inlineElements").indexOf(e.toLowerCase()):null!=e.name?this.isInline(e.name):e.isTextOnly},gi.prototype.field=function(e,t){return this.options.field(e,t)};var vi=/^lorem([a-z]*)(\d*)$/i,yi={lang:"en",locale:"en-US",charset:"UTF-8"},bi=["css","sass","scss","less","stylus","sss"],xi={type:null,syntax:"html",field:function(e,t){return t||""},text:null,profile:null,variables:{},snippets:{},options:null,format:null},wi=function(e,t){this.string=e,this.start=t||0,this.pos=this.string.length};wi.prototype.sol=function(){return this.pos===this.start},wi.prototype.peek=function(e){return this.string.charCodeAt(this.pos-1+(e||0))},wi.prototype.prev=function(){if(!this.sol())return this.string.charCodeAt(--this.pos)},wi.prototype.eat=function(e){if(this.sol())return!1;var t="function"==typeof e?e(this.peek()):e===this.peek();return t&&this.pos--,t},wi.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos<t};var ki=39,Ci=34,Si=92,_i=9,Ti=32,Ai=45,Li=58,Mi=61,Ei=function(e){var t=e.pos;if(!e.eat(62))return!1;var n=!1;for(e.eat(47);!e.sol();){if(e.eatWhile(et),Ze(e)){if(e.eat(47)){n=e.eat(60);break}if(e.eat(60)){n=!0;break}if(e.eat(et))continue;if(e.eat(Mi)){if(Ze(e))continue;break}if(Je(e)){n=!0;break}break}if(!Ye(e))break}return e.pos=t,n},Oi=function(e){return e.charCodeAt(0)},Pi=Oi("["),ji=Oi("]"),Ni=Oi("("),Di=Oi(")"),zi=Oi("{"),Fi=Oi("}"),Ri=new Set("#.*:$-_!@%^+>/".split("").map(Oi)),Ii=(new Map).set(Pi,ji).set(Ni,Di).set(zi,Fi),$i={syntax:"markup",lookAhead:null,prefix:""},Hi={markup:"html",stylesheet:"css"},Wi={markup:["html","xml","xsl","jsx","js","pug","slim","haml"],stylesheet:["css","sass","scss","less","sss","stylus"]},qi=function(e,t){return void 0===t&&(t=""),"${"+e+(t?":"+t:"")+"}"},Bi=function(e){function t(t,n,r){e.call(this);var i=t.constructor;this.editor=t,this.start=this.pos=n||i.Pos(0,0);var o=t.lastLine();this._eof=r?r.to:i.Pos(o,this._lineLength(o)),this._sof=r?r.from:i.Pos(0,0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.sof=function(){return ht(this.pos,this._sof)<=0},t.prototype.eof=function(){return ht(this.pos,this._eof)>=0},t.prototype.limit=function(e,t){return new this.constructor(this.editor,e,{from:e,to:t})},t.prototype.peek=function(){var e=this.pos,t=e.line,n=e.ch,r=this.editor.getLine(t);return n<r.length?r.charCodeAt(n):10},t.prototype.next=function(){if(!this.eof()){var e=this.peek();return this.pos=Object.assign({},this.pos,{ch:this.pos.ch+1}),this.pos.ch>=this._lineLength(this.pos.line)&&(this.pos.line++,this.pos.ch=0),this.eof()&&(this.pos=Object.assign({},this._eof)),e}return NaN},t.prototype.backUp=function(e){var t=this.editor.constructor,n=this.pos,r=n.line,i=n.ch;for(i-=e||1;r>=0&&i<0;)r--,i+=this._lineLength(r);return this.pos=r<0||i<0?t.Pos(0,0):t.Pos(r,i),this.peek()},t.prototype.current=function(){return this.substring(this.start,this.pos)},t.prototype.substring=function(e,t){return this.editor.getRange(e,t)},t.prototype.error=function(e){var t=new Error(e+" at line "+this.pos.line+", column "+this.pos.ch);return t.originalMessage=e,t.pos=this.pos,t.string=this.string,t},t.prototype._lineLength=function(e){var t=e===this.editor.lastLine();return this.editor.getLine(e).length+(t?0:1)},t}(vn),Ui="emmet-abbreviation",Vi=function(e,t,n){var r,i;this.abbreviation=e,this.range=t,this.config=n,this.ast=(r=e,"stylesheet"===Ge((i=Ve(i=n)).type,i.syntax)?We(r,i):He(r,i)),this.snippet=Be(this.ast,n),this.preview=vt(this.snippet)};Vi.prototype.insert=function(e,t){return kt(e,t||this.range,this.snippet)},Vi.prototype.valid=function(e,t){return!(!this.preview||this.abbreviation===this.preview)&&(!t||"stylesheet"!==this.config.type||this._isValidForStylesheet(e))},Vi.prototype._isValidForStylesheet=function(e){var t=this.range.from,n=e.getTokenAt(t);if(/^[#!]/.test(this.abbreviation))return wt(e,t);var r=this.ast.children.every(function(e){return e.name}),i=n.state&&n.state.localState||n.state;return!r||"sass"===this.config.syntax||i&&i.context&&"block"===i.context.type};var Ki=/^([a-z\-]+)(?:\s*:\s*([^\n\r]+))?$/,Gi=45,Xi=function(e,t){this.key=e,this.value=t,this.property=null;var n=t&&t.match(Ki);n&&(this.property=n[1],this.value=n[2]),this.dependencies=[]},Yi={defaultValue:{configurable:!0}};Xi.prototype.addDependency=function(e){this.dependencies.push(e)},Yi.defaultValue.get=function(){return null!=this.value?zt(this.value)[0]:null},Xi.prototype.keywords=function(){var e,t,n=[],r=new Set,i=0;for(this.property&&n.push(this);i<n.length;)if((e=n[i++]).value){t=zt(e.value).filter(Dt);for(var o=0;o<t.length;o++)r.add(t[o].trim());for(var a=0,s=e.dependencies;a<s.length;a++)-1===n.indexOf(s[a])&&n.push(s[a])}return Array.from(r)},Object.defineProperties(Xi.prototype,Yi);var Ji=function(e,t,n,r,i,o){this.type=e,this.editor=t,this.range=n,this.name=r,this.preview=i,this.snippet=o,this._inserted=!1};Ji.prototype.insert=function(){this._inserted||(this._inserted=!0,"function"==typeof this.snippet?this.snippet(this.editor,this.range):kt(this.editor,this.range,this.snippet),_t(this.editor))};var Zi=function(e,t,n,r){this.stream=e,this.type=t,this.open=n,this.close=r,this.children=[],this.parent=null},Qi={name:{configurable:!0},attributes:{configurable:!0},start:{configurable:!0},end:{configurable:!0},firstChild:{configurable:!0},nextSibling:{configurable:!0},previousSibling:{configurable:!0}};Qi.name.get=function(){return"tag"===this.type&&this.open?this.open&&this.open.name&&this.open.name.value:"#"+this.type},Qi.attributes.get=function(){return this.open&&this.open.attributes},Qi.start.get=function(){return this.open&&this.open.start},Qi.end.get=function(){return this.close?this.close.end:this.open&&this.open.end},Qi.firstChild.get=function(){return this.children[0]},Qi.nextSibling.get=function(){var e=this.getIndex();return-1!==e?this.parent.children[e+1]:null},Qi.previousSibling.get=function(){var e=this.getIndex();return-1!==e?this.parent.children[e-1]:null},Zi.prototype.getIndex=function(){return this.parent?this.parent.children.indexOf(this):-1},Zi.prototype.addChild=function(e){return this.removeChild(e),this.children.push(e),e.parent=this,this},Zi.prototype.removeChild=function(e){var t=this.children.indexOf(e);return-1!==t&&(this.children.splice(t,1),e.parent=null),this},Object.defineProperties(Zi.prototype,Qi);var eo=function(e,t,n){return"function"==typeof t?function(e,t){var n=e.pos;if(e.eatWhile(t))return new to(e,n,e.pos);e.pos=n}(e,t):new to(e,t,n)},to=function(e,t,n){this.stream=e,this.start=null!=t?t:e.start,this.end=null!=n?n:e.pos,this._value=null},no={value:{configurable:!0}};no.value.get=function(){if(null===this._value){var e=this.stream.start,t=this.stream.pos;this.stream.start=this.start,this.stream.pos=this.end,this._value=this.stream.current(),this.stream.start=e,this.stream.pos=t}return this._value},to.prototype.toString=function(){return this.value},to.prototype.valueOf=function(){return this.value+" ["+this.start+"; "+this.end+"]"},Object.defineProperties(to.prototype,no);var ro={throws:!0},io=function(e){var t=e.pos;if(a(e,60,62,ro)||a(e,91,93,ro)||a(e,40,41,ro)||a(e,123,125,ro))return eo(e,t)},oo=47,ao=61,so=62,lo=45,uo=46,co=58,fo=95,po=function(e){var t=e.pos;if(e.eat(60)){var n={type:e.eat(47)?"close":"open"};if((n.name=function(e){return eo(e,Ut)}(e))&&("close"!==n.type&&(n.attributes=function(e){for(var t,n=[];!e.eof();)if(e.eatWhile(o),(t={start:e.pos}).name=$t(e))e.eat(ao)?t.value=Ht(e):t.boolean=!0,t.end=e.pos,n.push(t);else{if(qt(e.peek()))break;e.next()}return n}(e),e.eatWhile(o),n.selfClosing=e.eat(47)),e.eat(62)))return Object.assign(eo(e,t),n)}return e.pos=t,null},ho=Gt("<!--"),mo=Gt("-->"),go=function(e){var t=e.pos;if(Kt(e,ho,mo,!0)){var n=eo(e,t);return n.type="comment",n}return null},vo=Gt("<![CDATA["),yo=Gt("]]>"),bo=function(e){var t=e.pos;if(Kt(e,vo,yo,!0)){var n=eo(e,t);return n.type="cdata",n}return null},xo={xml:!1,special:["script","style"],empty:["img","meta","link","br","base","hr","area","wbr","col","embed","input","param","source","track"]},wo=function(e,t,n){this.dom=e,this.type=t,this.syntax=n};wo.prototype.nodeForPoint=function(e,t){for(var n=this.dom.firstChild,r=null;n;)yt(xt(n),e,t)?(r=n,n=n.firstChild):n=n.nextSibling;return r};var ko="emmet-open-tag",Co="emmet-close-tag";"undefined"!=typeof CodeMirror&&function(e){Object.assign(e.commands,{emmetExpandAbbreviation:function(e){return Lt(e,!0)},emmetExpandAbbreviationAll:function(e){return Lt(e,!1)},emmetInsertLineBreak:Mt,emmetWrapWithAbbreviation:Et});var t=function(e){return function(e,t){var n=St(e,t);if(n)return n;_t(e);var r=Ct(e,t,!0);return r?Tt(e,r):void 0}(e,e.getCursor())};e.defineOption("markEmmetAbbreviation",!0,function(e,n){n?e.on("change",t):(e.off("change",t),_t(e))}),e.defineOption("autoRenameTags",!0,function(e,t){t?e.on("change",sn):e.off("change",sn)}),e.defineOption("jsxBracket",!0),e.defineOption("markTagPairs",!1,function(e,t){t?(e.on("cursorActivity",tn),e.on("change",en)):(e.off("cursorActivity",tn),e.off("change",en),en(e),rn(e))}),e.defineOption("emmet",{}),e.defineExtension("getEmmetCompletions",function(e,t){"boolean"==typeof e&&(t=e,e=null);var n=Ft(this,e=e||this.getCursor());if(n&&n.completions.length)return this.getOption("markEmmetAbbreviation")&&!St(this,e)&&t&&(_t(this),Tt(n.model)),{from:n.abbreviation.range.from,to:n.abbreviation.range.to,list:n.completions}}),e.defineExtension("getEmmetAbbreviation",function(e,t){return Ct(this,e||this.getCursor(),t)}),e.defineExtension("findEmmetMarker",function(e){return St(this,e||this.getCursor())}),e.defineExtension("getEmmetDocumentModel",function(){return this.getOption("markTagPairs")?((e=this).state._emmetModel||(e.state._emmetModel=Qt(e)),e.state._emmetModel):Qt(this);var e})}(CodeMirror)});var CMEditorSettings={getDefaultEditorConfig:function(e,t,n){return{value:e,showCursorWhenSelecting:!0,cursorScrollMargin:30,scrollbarStyle:this._getScrollbars(n),tabSize:this.getTabSize(t),indentUnit:this.getTabSize(t),indentWithTabs:this.getIndentWithTabs(t),lineNumbers:t.line_numbers,matchBrackets:t.match_brackets,matchTags:t.match_brackets,autocomplete:t.autocomplete,autoCloseBrackets:t.match_brackets,lineWrapping:t.line_wrapping,gutters:this._getGutters(t),foldGutter:t.code_folding,scrollPastEnd:!0,emmet_active:t.emmet_active,emmet:this.getEmmetSnippets(t),markTagPairs:!0,autoRenameTags:!0}},getPostEditorConfig:function(e){return{showCursorWhenSelecting:!0,tabSize:this.getTabSize(e),indentUnit:this.getTabSize(e),indentWithTabs:this.getIndentWithTabs(e),matchBrackets:e.match_brackets,autoCloseBrackets:e.match_brackets,lineWrapping:!0}},_getScrollbars:function(e){return e?null:"simple"},getTabSize:function(e){return parseInt(e.tab_size,10)},getIndentWithTabs:function(e){return"tabs"===e.indent_with},getEmmetSnippets:function(e){var t=e.snippets;return t?(t.markupSnippets=this.unescapeSnippet(t.markupSnippets),t.stylesheetSnippets=this.unescapeSnippet(t.stylesheetSnippets),{globals:{markup:{snippets:t.markupSnippets},stylesheet:{snippets:t.stylesheetSnippets}}}):{globals:{markup:{snippets:{}},stylesheet:{snippets:{}}}}},unescapeSnippet:function(e){for(var t=e,n=Object.keys(t),r=0;r<n.length;r++)t[n[r]]=t[n[r]].replace(/\\n/g,"\n").replace(/\\t/g,"\t");return t},_getGutters:function(e){return!0===e.code_folding?["CodeMirror-linenumbers","CodeMirror-foldgutter"]:[""]}},BaseEditorKeyBindingsMixin={_onCmUpdateKeyBindings:function(e){switch(e.key_bindings){case"vim":this.editor.setOption("vimMode",!0);break;case"subl":this.editor.setOption("keyMap","sublime");break;default:this.editor.setOption("keyMap","extendedBase")}},_canAdjustRenderedLine:function(e){return("undefined"==typeof TypesUtil||"html"===TypesUtil.cmModeToType(e.getOption("mode")))&&("undefined"!=typeof CP.pen&&"tabs"!==CP.pen.editor_settings.indent_with)},_indentWrappedLines:function(){var e=this.editor.defaultCharWidth(),t=2,n=this;this.editor.on("renderLine",function(r,i,o){if(n._canAdjustRenderedLine(r)){var a=r.getOption("tabSize"),s=CodeMirror.countColumn(i.text,null,a)*e;o.style.textIndent="-"+s+"px",o.style.paddingLeft=t+s+"px"}})}},BaseEditor=Class.extend({editor:"",_viewingSource:!1,_canDrive:!0,type:"",value:"",init:function(e,t){this.type=e,this.value=t,this.pageType=__pageType,_.extend(this,BaseEditorViewSourceMixin),_.extend(this,BaseEditorKeyBindingsMixin),this._baseBindToHub(),this._buildEditor()},_baseBindToHub:function(){Hub.sub("page-loading-done",$.proxy(this._onPageLoadingDone,this)),Hub.sub("editor-refresh",$.proxy(this.refresh,this)),Hub.sub("key",$.proxy(this._onKey,this)),Hub.sub("cm-update-keybindings",$.proxy(this._onCMUpdateKeybindingsEvent,this)),Hub.sub("pen-change",$.proxy(this._onBasePenChange,this)),"professor"===window.__pageType&&this._baseBindToHubProfessorMode()},_baseBindToHubProfessorMode:function(){Hub.sub("ui-disable",$.proxy(this._disableUserFromDriving,this)),Hub.sub("ui-enable",$.proxy(this._enableUserToDrive,this))},_onCMUpdateKeybindingsEvent:function(){this._onCmUpdateKeyBindings(window.__item.editor_settings)},_onKey:function(e,t){"esc"===t.key&&(this.editor.execCommand("clearSearch"),this.runRefresh(200))},_onBasePenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.editor_settings.indent_with")&&this.editor.setOption("indentWithTabs",CMEditorSettings.getIndentWithTabs(t.pen.editor_settings)),ObjectUtil.hasNestedValue(t,"pen.editor_settings.tab_size")&&(this.editor.setOption("tabSize",CMEditorSettings.getTabSize(t.pen.editor_settings)),this.editor.setOption("indentUnit",CMEditorSettings.getTabSize(t.pen.editor_settings)))},_onPageLoadingDone:function(){
this._indentWrappedLines(),this.runRefresh(200)},_buildEditor:function(){this.editor=this._buildCMEditor(this._getEditorConfig());var e=this;this._throttledRefresh=_.throttle(function(){e.editor.refresh()},300),this._setMode(),this._bindToHub(),this._setEditorTypeSpecificOptions(this._getEditorConfig()),this.bindToOnChange(),this._bindAutoComplete(),this._syncEditorWithFirepad()},_syncEditorWithFirepad:function(){"collab"===window.__pageType&&this._syncWithCollab(),"professor"===window.__pageType&&this._syncWithProfessor()},_syncWithCollab:function(){var e=this;this.firepad=Firepad.fromCodeMirror(CP.collabRoom.getFirebaseEditorRef(this.type),this.editor,{richTextShortcuts:!1,richTextToolbar:!1,defaultText:null,userId:CP.collabRoom.rtData.user.id}),this.firepad.on("ready",function(){CP.collabRoom.onFirepadReady(e.type,e.firepad,e.value)}),this.firepad.on("synced",function(e){CP.collabRoom.onFirepadSynced(e)})},_syncWithProfessor:function(){this.firepad=Firepad.fromCodeMirror(ProfessorRoom.getFirebaseEditorRef(this.type),this.editor,{richTextShortcuts:!1,richTextToolbar:!1,defaultText:this.value,userId:CP.user.session_hash,disablePublishEditorChanges:"professor"!==window.__rtData.user.role})},_getEditorConfig:function(){var e=_.extend(CMEditorSettings.getDefaultEditorConfig(this._getEditorConfigDefaultValue(),CP.pen.editor_settings),this._getEditorTypeSpecificConfig());return e.extraKeys={Tab:"respectfulTab",Enter:"emmetInsertLineBreak"},"mac"===__browser.platform?e.extraKeys["Shift-Cmd-A"]="emmetWrapWithAbbreviation":e.extraKeys["Shift-Ctrl-A"]="emmetWrapWithAbbreviation","js"!==this.type&&!0===e.emmet_active&&(e.extraKeys.Tab=function(e){!0!==e.execCommand("emmetExpandAbbreviation")&&e.execCommand("respectfulTab")}),e},_getEditorConfigDefaultValue:function(){return"collab"===window.__pageType||"professor"===window.__pageType?"":this.value},_buildCMEditor:function(e){var t=this._getTextAreaElementToReplaceWithCodeMirror();return CodeMirror(function(e){t.parentNode.replaceChild(e,t)},e)},_getTextAreaElementToReplaceWithCodeMirror:function(){return $(".code-wrap #"+this.type)[0]},_bindAutoComplete:function(){var e=this._getEditorConfig();!0===e.autocomplete&&"html"!==e.syntax&&this.editor.on("inputRead",function(e,t){!e.state.completionActive&&"+input"===t.origin&&1===t.text.length&&/^[a-zA-Z]+$/.test(t.text[0])&&CodeMirror.commands.autocomplete(e,null,{completeSingle:!1})})},_disableUserFromDriving:function(){this._canDrive=!1,this.editor.setOption("readOnly",!0)},_enableUserToDrive:function(){this._canDrive=!0,this.editor.setOption("readOnly",!1)},_preProcessorChanged:function(e){this._turnOffReadOnlyView(),this._changeMode(e)},_turnOffReadOnlyView:function(){this._viewingSource&&this.showOriginalCode()},unbindOnChange:function(){this.editor.off("change",this._onEditorChange.bind(this))},bindToOnChange:function(){this.editor.on("change",this._onEditorChange.bind(this))},_onEditorChange:function(e){if(!this.editor.getOption("readOnly")){var t={origin:"client",pen:{}};t.pen[this.type]=e.getValue(),CP.item.setItemValue(t)}},getValue:function(){return this.editor.getValue()},setValue:function(e){this.editor.setValue(e)},_setEditorValue:function(e){"collab"!==window.__pageType&&"professor"!==window.__pageType&&(this.unbindOnChange(),this.editor.setValue(e),this.bindToOnChange())},_setMode:function(){var e=this._getBasicType(),t=CP.pen[e+"_pre_processor"];this._changeMode(t)},getMode:function(){var e=this._getBasicType(),t=CP.pen[e+"_pre_processor"];return EditorModes.getCMMode(t,e)},_changeMode:function(e){this.editor.setOption("mode",EditorModes.getCMMode(e,this._getBasicType()))},_getBasicType:function(){throw"Implement in subclass"},hasFocus:function(){return this.editor.hasFocus()},refresh:function(e,t){this.runRefresh(t.delay)},runRefresh:function(e){e>0?setTimeout($.proxy(function(){this.runRefresh()},this),e):this._throttledRefresh()}}),BaseEditorViewSourceMixin={showSource:function(){editorErrorHandler.clearPreprocWidgets(this.type),CP.penProcessor.getProcessed(this.type).then(e=>{this.unbindOnChange(),this._makeEditorReadOnly(),this._changeModeOnShowSource(),this._setEditorValue(e),this._removeEventFromEditorUndoHistory()})},_changeModeOnShowSource:function(){this._changeMode("none")},_makeEditorReadOnly:function(){$("#box-"+this.type).addClass("view-compiled"),$("#viewsource-"+this.type).attr("title",Copy.returnToSource),this.editor.setOption("readOnly",!0)},showOriginalCode:function(){this._showOriginalCode(),this._changeModeOnShowOriginalCode(),this._makeEditable(),this.bindToOnChange(),this._removeEventFromEditorUndoHistory()},_changeModeOnShowOriginalCode:function(){this._changeMode(CP.pen.getAttribute(this.type+"_pre_processor"))},_removeEventFromEditorUndoHistory:function(){var e=this.editor.getHistory();e.done.pop(),e.done.pop(),this.editor.setHistory(e)},_showOriginalCode:function(){this._setEditorValue(CP.pen[this.type])},_makeEditable:function(){$("#box-"+this.type).removeClass("view-compiled view-preproc-errors"),$("#viewsource-"+this.type).attr("title",Copy.viewSource),this._canDrive&&this.editor.setOption("readOnly",!1)}},EditorModes={htmlModes:{text:"text",none:{name:"htmlmixed",htmlMode:!0,tags:{script:[["type",/^text\/x-template$/,"htmlmixed"],["type",/^x-shader\/x-vertex$/,"text/typescript"],["type",/^text\/x-handlebars-template$/,"htmlmixed"],["type",/^text\/paperscript$/,"text/javascript"],[null,null,"text/javascript"]]}},html:{name:"htmlmixed",htmlMode:!0,tags:{script:[["type",/^text\/x-template$/,"htmlmixed"],["type",/^x-shader\/x-vertex$/,"text/typescript"],["type",/^text\/x-handlebars-template$/,"htmlmixed"],["type",/^x-text\/paperscript$/,"text/javascript"],[null,null,"text/javascript"]]}},haml:"haml",slim:"application/x-slim",markdown:"markdown",pug:"pug"},htmlLoaderModes:{text:"text",none:"xml",html:"xml",haml:"haml",slim:"application/x-slim",markdown:"markdown",pug:"pug"},cssModes:{none:"text/css",css:"text/css",postcss:"text/css",scss:"text/x-scss",stylus:"text/x-styl",less:"text/x-less",sass:"text/x-sass"},jsModes:{none:"text/javascript",js:"text/javascript",coffeescript:"text/x-coffeescript",livescript:"text/x-livescript",typescript:"text/typescript",babel:"text/jsx"},getLoaderMode:function(e,t){return"html"===t?e in this.htmlLoaderModes?"mode_"+this.htmlLoaderModes[e]:"mode_text":"css"===t?e in this.cssModes?"mode_"+this.cssModes[e]:"mode_text":"js"===t?e in this.jsModes?"mode_"+this.jsModes[e]:"mode_text":void 0},getCMMode:function(e,t){return"html"===t?e in this.htmlModes?this.htmlModes[e]:"text":"css"===t?e in this.cssModes?this.cssModes[e]:"text":"js"===t?e in this.jsModes?{name:this.jsModes[e],globalVars:!0}:"text":void 0}},CSSEditor=BaseEditor.extend({_getBasicType:function(){return"css"},_bindToHub:function(){Hub.sub("pen-change",$.proxy(this._onPenChange,this)),Hub.sub("page-loading-done",$.proxy(this._onPageLoadingDone,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.css_pre_processor")&&this._preProcessorChanged(t.pen.css_pre_processor)},_onPageLoadingDone:function(){this.mobile&&setTimeout($.proxy(function(){this.editor.focus()},this),400)},_getEditorTypeSpecificConfig:function(){return{mode:this.getMode(),syntax:"css"}},_setEditorTypeSpecificOptions:function(e){var t={};e.extraKeys&&(t=e.extraKeys),t["Ctrl-Space"]="autocomplete",this.editor.setOption("extraKeys",CodeMirror.normalizeKeyMap(t))},_emmetSupportedSyntaxes:function(){return _.difference(__preprocessors.css.syntaxes,__preprocessors.css.exclude_emmet_syntaxes)}}),HTMLEditor=BaseEditor.extend({_getBasicType:function(){return"html"},_bindToHub:function(){Hub.sub("pen-change",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.html_pre_processor")&&this._preProcessorChanged(t.pen.html_pre_processor)},_getEditorTypeSpecificConfig:function(){var e=!0;return __pageType&&"embed"===__pageType&&(e=!1),{mode:this.getMode(),syntax:"html",profile:"xhtml",autofocus:e}},_completeAfter:function(e,t){return t&&!t()||setTimeout(function(){e.state.completionActive||e.showHint({completeSingle:!1})},100),CodeMirror.Pass},_completeIfAfterLt:function(e){return this._completeAfter(e,function(){var t=e.getCursor();return"<"==e.getRange(CodeMirror.Pos(t.line,t.ch-1),t)})},_completeIfInTag:function(e){return this._completeAfter(e,function(){var t=e.getTokenAt(e.getCursor());return!!("string"!=t.type||/['"]/.test(t.string.charAt(t.string.length-1))&&1!=t.string.length)&&CodeMirror.innerMode(e.getMode(),t.state).state.tagName})},_setEditorTypeSpecificOptions:function(e){var t={};e.extraKeys&&(t=e.extraKeys),t=CodeMirror.normalizeKeyMap(t),!0===e.autocomplete&&(t["Ctrl-Space"]="autocomplete",t["'<'"]=this._completeAfter.bind(this),t["'/'"]=this._completeIfAfterLt.bind(this),t["' '"]=this._completeIfInTag.bind(this),t["'='"]=this._completeIfInTag.bind(this)),this.editor.setOption("extraKeys",t)}}),JSEditor=BaseEditor.extend({_getBasicType:function(){return"js"},_bindToHub:function(){Hub.sub("pen-change",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.js_pre_processor")&&this._preProcessorChanged(t.pen.js_pre_processor)},_getEditorTypeSpecificConfig:function(){return{mode:this.getMode()}},_setEditorTypeSpecificOptions:function(){this.editor.setOption("extraKeys",CodeMirror.normalizeKeyMap({Tab:"respectfulTab","Ctrl-Space":"autocomplete"}))}});!function(){function e(){t.forEach(e=>{n[e].forEach(e=>{e.clear()}),n[e]=[],$("#clear-"+e+"-errors").remove()})}const t=["html","css","js"],n=t.reduce((e,t)=>(e[t]=[],e),{}),r="https://gmqxehjo54.execute-api.us-west-2.amazonaws.com/production/analyze",i=1500,o=async t=>{const n=await a(t),{canAnalyze:r,message:o}=l(t,n);if(!r)return void $.showMessage(o,i);s(t).showOriginalCode(),e(t);const u=await k(t,n);0!==u.length?f(t,u,n):c(t)},a=async e=>CP.pen[e+"_pre_processor"=="none"]?CP.pen[e]:CP.penProcessor.getProcessed(e),s=e=>CP[`${e}Editor`],l=(e,t)=>t?"html"!==e||u()?{canAnalyze:!0,message:null}:{canAnalyze:!1,message:"Sorry, we can't analyze safely because your browser doesn't support `srcdoc` ... :("}:{canAnalyze:!1,message:"No code to analyze. All was well..."},u=()=>"srcdoc"in document.createElement("iframe"),c=e=>{$.showMessage(`We couldn't find any errors in your ${e.toUpperCase()}. Rejoice!`,i)},f=(e,t,n)=>{x(e,n),"html"===e?p(t):"css"===e?h(t):"js"===e&&m(t),d(e,t),y(e)},d=(e,t)=>{const n=s(e),r=v(t[0]);n.editor.scrollIntoView(r)},p=e=>{const t=`\n      <div class='inline-editor-error yellow'>\n        <h4 style='color: white;''>HTML Inspector warnings:</h4><ul class='html-errors'>\n        <ul>${e.filter(e=>"unused-classes"!==e.rule).map(e=>`<li>${_htmlEntities(e.message)}</li>`).join("")}</ul>\n      </div>\n    `,r=s("html").editor.addLineWidget(0,$(t)[0],{coverGutter:!0,noHScroll:!0,above:!0});n.html.push(r)},h=e=>{e.forEach(e=>g("css","CSS Lint",e))},m=e=>{e.forEach(e=>g("js","JS Hint",e))},g=(e,t,r)=>{const i=_htmlEntities(r.message),o=`\n      <div class='inline-editor-error'>\n        ${i}\n        (<a target='_blank'\n          href='https://google.com/search?q=${t} ${i}">Google it</a>)" +\n      </div>'\n    `,a=s(e).editor.addLineWidget(v(r),$(o)[0],{coverGutter:!0,noHScroll:!0});n[e].push(a)},v=e=>{if(!e)return 0;const t=(e.line||0)-1;return t>-1?t:0},y=e=>{0!==n[e].length&&$(`#analyze-${e}`).parent().after(b(e))},b=e=>`\n      <li>\n      <a href='#0' class='clear-${e}-errors' id='clear-${e}-errors'>\n      Clear ${e.toUpperCase()} Errors\n      </a>\n      </li>\n    `,x=(t,n)=>{const r=CP.pen[t],i=CP.pen[`${t}_pre_processor`],o=s(t),a=`#box-${t}`,l=`#viewsource-${t}`;"none"!==i&&(o.editor.setOption("readOnly",!0),$(a).addClass("view-preproc-errors"),o.setValue(n),o.unbindOnChange(),w(t),$(l).one("click",function(){$(a).removeClass("view-preproc-errors"),e(t),o.setValue(r),o.bindToOnChange(),o.editor.setOption("readOnly",!1)}))},w=e=>{const t={ui:{editorViewSource:{}}};CP.ui.editorViewSource[e]=!0,Hub.pub("ui-change",t);const n=$(".view-compiled-button[data-type='"+e+"']").closest(".box").data("preprocessor");$(".view-compiled-button[data-type='"+e+"']").text("View Uncompiled "+n),$(".view-compiled-button[data-type='"+e+"']").addClass("active")},k=(e,t)=>"html"===e?C(t):"css"===e||"js"===e?S(e,t):void 0,C=e=>new Promise(t=>{const n=["<script src='https://cdnjs.cloudflare.com/ajax/libs/html-inspector/0.8.2/html-inspector.js'></script>","<script>window.inspect = function() { HTMLInspector.inspect({domRoot: document.body,excludeRules: ['unnecessary-elements'],onComplete: function(errors) { var cleanErrors = []; for( var i = 0; i < errors.length; i++) { cleanErrors.push({message: errors[i].message, rule: errors[i].rule}) }; parent.postMessage({type: 'html-errors', errors: cleanErrors}, '*')}});};</script>","<script>window.onload = function() { inspect(); }</script>","<style>","","</style>",e].join(""),r=e=>{if(e.data&&"html-errors"===e.data.type){window.removeEventListener("message",r,!1);var n=document.querySelector(".hidden-iframe");n.parentNode.removeChild(n),t(e.data.errors)}},i=document.createElement("iframe");i.sandbox="allow-forms allow-scripts",i.className="hidden-iframe",window.addEventListener("message",r,!1),document.body.appendChild(i),i.srcdoc=n}),S=(e,t)=>new Promise(n=>{$.post(r,{type:e,content:t},n)});window.Analyze={clearErrors:e,analyzeCode:o}}();var CodeEditorAnalyze=Class.extend({clearingShortcut:!1,init:function(){this.bindUIActions()},bindUIActions:function(){$("#analyze-html")._on("click",this.analyzeHTML,this),$("#analyze-css")._on("click",this.analyzeCSS,this),$("#analyze-js")._on("click",this.analyzeJS,this),$(document).on("click","#clear-html-errors",$.proxy(this.clearHTMLErrors,this)).on("click","#clear-css-errors",$.proxy(this.clearCSSErrors,this)).on("click","#clear-js-errors",$.proxy(this.clearJSErrors,this))},enableClearingShortcut:function(){Keytrap.bind("comctrl+shift+8",function(){Analyze.clearErrors("html"),Analyze.clearErrors("css"),Analyze.clearErrors("js")},!0),this.clearingShortcut=!0},analyzeHTML:function(){this._hidePanesOnTopOfEditor();var e=this;Analyze.analyzeCode("html"),Hub.pub("popup-close"),!1===e.clearingShortcut&&e.enableClearingShortcut()},analyzeCSS:function(){this._hidePanesOnTopOfEditor();var e=this;Analyze.analyzeCode("css"),!1===e.clearingShortcut&&e.enableClearingShortcut(),Hub.pub("popup-close")},analyzeJS:function(){this._hidePanesOnTopOfEditor();var e=this;Analyze.analyzeCode("js"),!1===e.clearingShortcut&&e.enableClearingShortcut(),Hub.pub("popup-close")},clearHTMLErrors:function(e){e.preventDefault(),Analyze.clearErrors("html"),this._hidePanesOnTopOfEditor()},clearCSSErrors:function(e){e.preventDefault(),Analyze.clearErrors("css"),this._hidePanesOnTopOfEditor()},clearJSErrors:function(e){e.preventDefault(),Analyze.clearErrors("js"),this._hidePanesOnTopOfEditor()},_hidePanesOnTopOfEditor:function(){$.hideMessage(),Hub.pub("popup-close")}});!function(){function e(){window.__editable&&t()}function t(){CP.codeEditorAnalayze=new CodeEditorAnalyze,CP.pen.html&&(CP.htmlEditor=new HTMLEditor("html",CP.pen.html)),CP.pen.css&&(CP.cssEditor=new CSSEditor("css",CP.pen.css)),CP.pen.js&&(CP.jsEditor=new JSEditor("js",CP.pen.js))}e()}();